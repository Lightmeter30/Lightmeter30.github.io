<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>rediså­¦ä¹ ç¬”è®°</title>
      <link href="/2023/07/11/redis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/07/11/redis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="redisç®€ä»‹"><a href="#redisç®€ä»‹" class="headerlink" title="redisç®€ä»‹"></a>redisç®€ä»‹</h1><p>redis(Remote dictionary server)æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäº<strong>å†…å­˜</strong>çš„æ•°æ®å­˜å‚¨ç³»ç»Ÿ, å¯ä»¥ç”¨äºæ•°æ®åº“ç¼“å­˜å’Œæ¶ˆæ¯é˜Ÿåˆ—ç­‰å„ç§åœºæ™¯, æ˜¯ç›®å‰æœ€çƒ­é—¨çš„NoSQLæ•°æ®åº“ä¹‹ä¸€ã€‚éšç€ç°ä»£åº”ç”¨éœ€è¦å¤„ç†è¶Šæ¥è¶Šå¤§çš„è®¿é—®é‡ï¼Œä¼ ç»Ÿæ•°æ®åº“å—é™äºç£ç›˜I/Oçš„é€Ÿåº¦, å…¶æ€§èƒ½ç“¶é¢ˆè¶Šæ¥è¶Šæ˜æ˜¾ã€‚å› æ­¤åŸºäºå†…å­˜çš„æ•°æ®å­˜å‚¨ç³»ç»Ÿå°±åº”è¿è€Œç”Ÿäº†(å†…å­˜çš„è¯»å†™é€Ÿåº¦è¿œé«˜äºç£ç›˜)</p><p>redisæ”¯æŒä»¥ä¸‹äº”ç§åŸºç¡€æ•°æ®ç±»å‹:</p><ul><li>å­—ç¬¦ä¸² String</li><li>åˆ—è¡¨ List</li><li>é›†åˆ Set</li><li>æœ‰åºé›†åˆ SortedSet</li><li>å“ˆå¸Œ Hash</li></ul><p>é™¤æ­¤ä¹‹å¤–redisæ”¯æŒä»¥ä¸‹äº”ç§é«˜çº§æ•°æ®ç±»å‹:</p><ul><li>æ¶ˆæ¯é˜Ÿåˆ— Stream</li><li>åœ°ç†ç©ºé—´ Geospatial</li><li>HyperLogLog</li><li>ä½å›¾ Bitmap</li><li>ä½åŸŸ Bitfield</li></ul><h1 id="å®‰è£…redis"><a href="#å®‰è£…redis" class="headerlink" title="å®‰è£…redis"></a>å®‰è£…redis</h1><p>åœ¨linuxç³»ç»Ÿä¸Šå®‰è£…rediséå¸¸ç®€å•, æˆ‘ä»¬åªéœ€è¦åœ¨ç»ˆç«¯è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤å³å¯å®‰è£…:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install redis</span><br></pre></td></tr></table></figure><h1 id="redisçš„åŸºæœ¬æŒ‡ä»¤"><a href="#redisçš„åŸºæœ¬æŒ‡ä»¤" class="headerlink" title="redisçš„åŸºæœ¬æŒ‡ä»¤"></a>redisçš„åŸºæœ¬æŒ‡ä»¤</h1><p>å®‰è£…å®Œæˆå, æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯åŠ¨redisæœåŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server</span><br></pre></td></tr></table></figure><p>åœ¨å¯åŠ¨redisæœåŠ¡å, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ä¸€ä¸ªrediså®¢æˆ·ç«¯:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> NoSQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NoSQL </tag>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ThreeJså­¦ä¹ ç¬”è®°</title>
      <link href="/2023/06/25/ThreeJs%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/06/25/ThreeJs%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="three-jsçš„åŸºç¡€æ¦‚å¿µä»‹ç»"><a href="#three-jsçš„åŸºç¡€æ¦‚å¿µä»‹ç»" class="headerlink" title="three.jsçš„åŸºç¡€æ¦‚å¿µä»‹ç»"></a>three.jsçš„åŸºç¡€æ¦‚å¿µä»‹ç»</h1><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç†è§£<strong>åœºæ™¯Scene</strong>ã€<strong>ç›¸æœºCamera</strong>ã€<strong>æ¸²æŸ“å™¨Renderer</strong>ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µã€‚</p><h2 id="åœºæ™¯Scene"><a href="#åœºæ™¯Scene" class="headerlink" title="åœºæ™¯Scene"></a>åœºæ™¯Scene</h2><p>ä¸‰ç»´åœºæ™¯Sceneå¯¹è±¡å¯ä»¥ç†è§£ä¸ºè™šæ‹Ÿçš„3Dåœºæ™¯ï¼Œç”¨æ¥æ¨¡æ‹Ÿå®é™…ç”Ÿæ´»ä¸­çš„ä¸‰ç»´ç©ºé—´ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º3Dåœºæ™¯å¯¹è±¡scene</span></span><br><span class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Scene</span>();</span><br></pre></td></tr></table></figure></p><h2 id="ç›¸æœºCamera"><a href="#ç›¸æœºCamera" class="headerlink" title="ç›¸æœºCamera"></a>ç›¸æœºCamera</h2><p>æ­£å¦‚æˆ‘ä»¬è§‚æµ‹ç°å®ä¸–ç•Œéœ€è¦çœ¼ç›ä¸€æ ·ï¼Œåœ¨three.jsä¸­è¦è§‚æµ‹åˆ°<strong>ä¸‰ç»´åœºæ™¯scene</strong>çš„å†…å®¹ï¼Œè¿˜éœ€è¦å€ŸåŠ©ä¸€ä¸ªè§‚æµ‹å·¥å…·ï¼š<strong>è™šæ‹Ÿç›¸æœºCamera</strong>ã€‚<br>three.jsæä¾›äº†<strong>æ­£æŠ•å½±ç›¸æœºOrthographicCamera</strong>å’Œ<strong>é€è§†æŠ•å½±ç›¸æœºPerspectiveCamera</strong>ï¼Œä¸‹é¢æˆ‘ä»¬ä»‹ç»ä¸€ä¸‹é€è§†æŠ•å½±ç›¸æœºã€‚</p><h3 id="é€è§†æŠ•å½±ç›¸æœºPerspectiveCamera"><a href="#é€è§†æŠ•å½±ç›¸æœºPerspectiveCamera" class="headerlink" title="é€è§†æŠ•å½±ç›¸æœºPerspectiveCamera"></a>é€è§†æŠ•å½±ç›¸æœºPerspectiveCamera</h3><p><strong>é€è§†æŠ•å½±ç›¸æœºPerspectiveCamera</strong>æœ¬è´¨ä¸Šå°±æ˜¯åœ¨æ¨¡æ‹Ÿäººçœ¼è§‚å¯Ÿè¿™ä¸ªä¸–ç•Œçš„è§„å¾‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®ä¾‹åŒ–ä¸€ä¸ªé€è§†æŠ•å½±ç›¸æœºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">PerspectiveCamera</span>();</span><br></pre></td></tr></table></figure><p>ç”Ÿæ´»ä¸­ç”¨ç›¸æœºæ‹ç…§ï¼Œä½ ç›¸æœºä½ç½®ä¸åŒï¼Œæ‹ç…§ç»“æœä¹Ÿä¸åŒï¼Œthree.jsä¸­è™šæ‹Ÿç›¸æœºåŒæ ·å¦‚æ­¤ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç›¸æœºåœ¨Three.jsä¸‰ç»´åæ ‡ç³»ä¸­çš„ä½ç½®</span></span><br><span class="line"><span class="comment">// æ ¹æ®éœ€è¦è®¾ç½®ç›¸æœºä½ç½®å…·ä½“å€¼</span></span><br><span class="line">camera.<span class="property">position</span>.<span class="title function_">set</span>(<span class="number">200</span>, <span class="number">200</span>, <span class="number">200</span>); </span><br></pre></td></tr></table></figure><p>é™¤äº†ç›¸æœºçš„ä½ç½®ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥è®¾ç½®ç›¸æœºé•œå¤´å¯¹å‡†çš„åæ ‡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç›¸æœºè§‚å¯Ÿç›®æ ‡æŒ‡å‘Threejs 3Dç©ºé—´ä¸­æŸä¸ªä½ç½®</span></span><br><span class="line">camera.<span class="title function_">lookAt</span>(cube.<span class="property">position</span>);<span class="comment">//æŒ‡å‘cube(å®é™…ç‰©ä½“)å¯¹åº”çš„ä½ç½®</span></span><br></pre></td></tr></table></figure><p>ç”Ÿæ´»ä¸­ç›¸æœºæ‹ç…§çš„ç…§ç‰‡æ˜¯æœ‰å¤§å°çš„ï¼Œå¯¹äºthree.jsè€Œè¨€ä¸€æ ·ï¼Œéœ€è¦å®šä¹‰ç›¸æœºåœ¨ç½‘é¡µä¸Šè¾“å‡ºçš„å°ºå¯¸</p><h4 id="é€è§†æŠ•å½±ç›¸æœºPerspectiveCamera-è§†é”¥ä½“"><a href="#é€è§†æŠ•å½±ç›¸æœºPerspectiveCamera-è§†é”¥ä½“" class="headerlink" title="é€è§†æŠ•å½±ç›¸æœºPerspectiveCamera: è§†é”¥ä½“"></a>é€è§†æŠ•å½±ç›¸æœºPerspectiveCamera: è§†é”¥ä½“</h4><p>é€è§†æŠ•å½±ç›¸æœºçš„å››ä¸ªå‚æ•°<code>fov</code>, <code>aspect</code>, <code>near</code>, <code>far</code>æ„æˆä¸€ä¸ªå››æ£±å°3Dç©ºé—´ï¼Œè¢«ç§°ä¸ºè§†é”¥ä½“ï¼Œåªæœ‰è§†é”¥ä½“ä¹‹å†…çš„ç‰©ä½“ï¼Œæ‰ä¼šæ¸²æŸ“å‡ºæ¥ï¼Œè§†é”¥ä½“èŒƒå›´ä¹‹å¤–çš„ç‰©ä½“ä¸ä¼šæ˜¾ç¤ºåœ¨Canvasç”»å¸ƒä¸Šã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// widthå’Œheightç”¨æ¥è®¾ç½®Three.jsè¾“å‡ºçš„Canvasç”»å¸ƒå°ºå¯¸(åƒç´ px)</span></span><br><span class="line"><span class="keyword">const</span> width = <span class="number">800</span>; <span class="comment">//å®½åº¦</span></span><br><span class="line"><span class="keyword">const</span> height = <span class="number">500</span>; <span class="comment">//é«˜åº¦</span></span><br><span class="line"><span class="comment">// 30:è§†åœºè§’åº¦, width / height:Canvasç”»å¸ƒå®½é«˜æ¯”, 1:è¿‘è£æˆªé¢, 3000ï¼šè¿œè£æˆªé¢</span></span><br><span class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">PerspectiveCamera</span>(<span class="number">30</span>, width / height, <span class="number">1</span>, <span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// PerspectiveCamera( fov, aspect, near, far )</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ç›¸æœºçš„å‚æ•°ä»‹ç»ï¼š<br>|å‚æ•°|å«ä¹‰|é»˜è®¤å€¼|<br>|:â€”:|:â€”:|:â€”:|<br>|fov|ç›¸æœºè§†é”¥ä½“ç«–ç›´æ–¹å‘è§†é‡è§’åº¦|50|<br>|aspect|ç›¸æœºè§†é”¥ä½“æ°´å¹³æ–¹å‘å’Œç«–ç›´æ–¹å‘é•¿åº¦æ¯”ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºCanvasç”»å¸ƒå®½é«˜æ¯”width / height|1|<br>|near|ç›¸æœºè§†é”¥ä½“è¿‘è£æˆªé¢ç›¸å¯¹ç›¸æœºè·ç¦»|0.1|<br>|far|ç›¸æœºè§†é”¥ä½“è¿œè£æˆªé¢ç›¸å¯¹ç›¸æœºè·ç¦»ï¼Œfar-nearæ„æˆäº†è§†é”¥ä½“é«˜åº¦æ–¹å‘|2000|</p><h2 id="æ¸²æŸ“å™¨Renderer"><a href="#æ¸²æŸ“å™¨Renderer" class="headerlink" title="æ¸²æŸ“å™¨Renderer"></a>æ¸²æŸ“å™¨Renderer</h2><h1 id="ç¬¬ä¸€ä¸ª3Dæ¡ˆä¾‹"><a href="#ç¬¬ä¸€ä¸ª3Dæ¡ˆä¾‹" class="headerlink" title="ç¬¬ä¸€ä¸ª3Dæ¡ˆä¾‹"></a>ç¬¬ä¸€ä¸ª3Dæ¡ˆä¾‹</h1><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸‰ç»´ç‰©ä½“äº†ï¼›åœ¨è¿™é‡Œä¸€ä¸ªä¸‰ç»´ç‰©ä½“è¢«æŠ½è±¡æˆäº†ä¸¤ä¸ªå±æ€§ï¼šå½¢çŠ¶å’Œæè´¨ã€‚</p><h2 id="å½¢çŠ¶Geometry"><a href="#å½¢çŠ¶Geometry" class="headerlink" title="å½¢çŠ¶Geometry"></a>å½¢çŠ¶Geometry</h2><p>Three.jsæä¾›äº†å„ç§å„æ ·çš„å‡ ä½•ä½“APIï¼Œç”¨æ¥è¡¨ç¤ºä¸‰ç»´ç‰©ä½“çš„å‡ ä½•å½¢çŠ¶ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªç«‹æ–¹ä½“å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> geometry = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">BoxGeometry</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure></p><h2 id="æè´¨Material"><a href="#æè´¨Material" class="headerlink" title="æè´¨Material"></a>æè´¨Material</h2><p>å¦‚æœä½ æƒ³å®šä¹‰ç‰©ä½“çš„å¤–è§‚æ•ˆæœï¼Œæ¯”å¦‚é¢œè‰²ï¼Œå°±éœ€è¦é€šè¿‡æè´¨<code>Material</code>ç›¸å…³çš„APIå®ç°ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæè´¨å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> material = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">MeshBasicMaterial</span>(&#123;<span class="attr">color</span>: <span class="number">0xff0000</span>&#125;)</span><br></pre></td></tr></table></figure></p><h2 id="ç½‘æ ¼æ¨¡å‹Mesh"><a href="#ç½‘æ ¼æ¨¡å‹Mesh" class="headerlink" title="ç½‘æ ¼æ¨¡å‹Mesh"></a>ç½‘æ ¼æ¨¡å‹Mesh</h2><p>æœ€åæˆ‘ä»¬ä½¿ç”¨<strong>ç½‘æ ¼æ¨¡å‹Mesh</strong>é€šè¿‡<code>Geometry</code>å’Œ<code>Material</code>æ¥åˆ›å»ºä¸€ä¸ªçº¢è‰²çš„ç«‹æ–¹ä½“ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸¤ä¸ªå‚æ•°åˆ†åˆ«ä¸ºå‡ ä½•ä½“geometryã€æè´¨material</span></span><br><span class="line"><span class="keyword">const</span> cube = <span class="keyword">new</span> <span class="variable constant_">THREE</span>.<span class="title class_">Mesh</span>(geometry, material); <span class="comment">//ç½‘æ ¼æ¨¡å‹å¯¹è±¡Mesh</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ¨¡å‹æ·»åŠ åˆ°ä¸‰ç»´ç©ºé—´ä¸­ï¼š</span></span><br><span class="line">scene.<span class="title function_">add</span>(cube);</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> Computer Science </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> ThreeJs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springbootå­¦ä¹ </title>
      <link href="/2023/05/23/Springboot%E5%AD%A6%E4%B9%A0/"/>
      <url>/2023/05/23/Springboot%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="SSMæ¡†æ¶æ•´åˆ"><a href="#SSMæ¡†æ¶æ•´åˆ" class="headerlink" title="SSMæ¡†æ¶æ•´åˆ"></a>SSMæ¡†æ¶æ•´åˆ</h1><h2 id="åˆ›å»ºå·¥ç¨‹"><a href="#åˆ›å»ºå·¥ç¨‹" class="headerlink" title="åˆ›å»ºå·¥ç¨‹"></a>åˆ›å»ºå·¥ç¨‹</h2><p>æ–°å»ºä¸€ä¸ªwebå·¥ç¨‹ï¼Œå…¶ä¸‹çš„æ–‡ä»¶ç»„ç»‡ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">project                 </span><br><span class="line">â”œâ”€.idea</span><br><span class="line">â”œâ”€.mvn</span><br><span class="line">â”œâ”€src</span><br><span class="line">   â”‚  â”‚  â””â”€com</span><br><span class="line">   â”‚  â”‚      â””â”€yourname</span><br><span class="line">   â”‚  â”œâ”€resources</span><br><span class="line">   â”‚  â””â”€webapp</span><br><span class="line">   â”‚      â””â”€WEB-INF</span><br><span class="line">   â””â”€test</span><br><span class="line">       â”œâ”€java</span><br><span class="line">       â””â”€resources</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨<code>pom.xml</code>å¯¼å…¥ä¾èµ–åæ ‡ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.28<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="SSMæ•´åˆ"><a href="#SSMæ•´åˆ" class="headerlink" title="SSMæ•´åˆ"></a>SSMæ•´åˆ</h2><h3 id="Springé…ç½®"><a href="#Springé…ç½®" class="headerlink" title="Springé…ç½®"></a>Springé…ç½®</h3><p>åœ¨<code>com.yourname.config</code>åŒ…ä¸‹åˆ›å»º<code>SpringConfig</code>ç±»:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&#123;&quot;com.yourname.service&quot;&#125;)</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;jdbc.properties&quot;)</span></span><br><span class="line"><span class="meta">@Import(&#123;JdbcConfig.class, MybatisConfig.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="MyBatisé…ç½®"><a href="#MyBatisé…ç½®" class="headerlink" title="MyBatisé…ç½®"></a>MyBatisé…ç½®</h3><p>åœ¨<code>com.yourname.config</code>åŒ…ä¸‹åˆ›å»º<code>MybatisConfig</code>ç±»:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yourname.config;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.SqlSessionFactoryBean;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.mapper.MapperScannerConfigurer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SqlSessionFactoryBean <span class="title function_">sqlSessionFactory</span><span class="params">(DataSource dataSource)</span> &#123;</span><br><span class="line">        <span class="type">SqlSessionFactoryBean</span> <span class="variable">factoryBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBean</span>();</span><br><span class="line">        factoryBean.setDataSource(dataSource);</span><br><span class="line">        factoryBean.setTypeAliasesPackage(<span class="string">&quot;com.yourname.domain&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> factoryBean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MapperScannerConfigurer <span class="title function_">mapperScannerConfigurer</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MapperScannerConfigurer</span> <span class="variable">scan</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MapperScannerConfigurer</span>();</span><br><span class="line">        scan.setBasePackage(<span class="string">&quot;com.yourname.dao&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> scan;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨<code>resources</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶<code>jdbc.properties</code>:</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jdbc.driver</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/your_database_name</span></span><br><span class="line"><span class="attr">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="string">password</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>com.yourname.config</code>åŒ…ä¸‹åˆ›å»º<code>JdbcConfig</code>ç±»:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.takune.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        dataSource.setDriverClassName(driver);</span><br><span class="line">        dataSource.setUrl(url);</span><br><span class="line">        dataSource.setUsername(username);</span><br><span class="line">        dataSource.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="SpringMVCé…ç½®"><a href="#SpringMVCé…ç½®" class="headerlink" title="SpringMVCé…ç½®"></a>SpringMVCé…ç½®</h3><p>åœ¨<code>com.yourname.config</code>åŒ…ä¸‹åˆ›å»º<code>ServletConfig</code>ç±»:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.takune.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletConfig</span> <span class="keyword">extends</span> <span class="title class_">AbstractAnnotationConfigDispatcherServletInitializer</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getRootConfigClasses() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;SpringConfig.class&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getServletConfigClasses() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;SpringMvcConfig.class&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> String[] getServletMappings() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;/&quot;</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨<code>com.yourname.config</code>åŒ…ä¸‹åˆ›å»º<code>SpringMvcConfig</code>ç±»:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.takune.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.EnableWebMvc;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&#123;&quot;com.takune.controller&quot;&#125;)</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŠŸèƒ½æ¨¡å—"><a href="#åŠŸèƒ½æ¨¡å—" class="headerlink" title="åŠŸèƒ½æ¨¡å—"></a>åŠŸèƒ½æ¨¡å—</h2><h3 id="è¡¨ä¸å®ä½“ç±»"><a href="#è¡¨ä¸å®ä½“ç±»" class="headerlink" title="è¡¨ä¸å®ä½“ç±»"></a>è¡¨ä¸å®ä½“ç±»</h3><p>ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤åˆ›å»º<code>book</code>è¡¨:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> book(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment <span class="keyword">primary</span> key ,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> ,</span><br><span class="line">    type <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> ,</span><br><span class="line">    description <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">not</span> <span class="keyword">null</span> </span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>åœ¨<code>com.yourname.config</code>åŒ…ä¸‹åˆ›å»ºå®ä½“ç±»<code>Book</code>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.takune.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String type;</span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getType</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> type;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setType</span><span class="params">(String type)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.type = type;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDescription</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> description;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDescription</span><span class="params">(String description)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.description = description;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="dao-æ¥å£-è‡ªåŠ¨ä»£ç†"><a href="#dao-æ¥å£-è‡ªåŠ¨ä»£ç†" class="headerlink" title="dao(æ¥å£+è‡ªåŠ¨ä»£ç†)"></a>dao(æ¥å£+è‡ªåŠ¨ä»£ç†)</h3><h3 id="service-æ¥å£-å®ç°ç±»"><a href="#service-æ¥å£-å®ç°ç±»" class="headerlink" title="service(æ¥å£+å®ç°ç±»)"></a>service(æ¥å£+å®ç°ç±»)</h3><h4 id="ä¸šåŠ¡å±‚æ¥å£æµ‹è¯•-æ•´åˆJunit"><a href="#ä¸šåŠ¡å±‚æ¥å£æµ‹è¯•-æ•´åˆJunit" class="headerlink" title="ä¸šåŠ¡å±‚æ¥å£æµ‹è¯•(æ•´åˆJunit)"></a>ä¸šåŠ¡å±‚æ¥å£æµ‹è¯•(æ•´åˆJunit)</h4><h3 id="controller"><a href="#controller" class="headerlink" title="controller"></a>controller</h3><h4 id="è¡¨ç°å±‚æ¥å£æµ‹è¯•-Postman"><a href="#è¡¨ç°å±‚æ¥å£æµ‹è¯•-Postman" class="headerlink" title="è¡¨ç°å±‚æ¥å£æµ‹è¯•(Postman)"></a>è¡¨ç°å±‚æ¥å£æµ‹è¯•(Postman)</h4><h2 id="åˆ›å»ºSpringBooté¡¹ç›®"><a href="#åˆ›å»ºSpringBooté¡¹ç›®" class="headerlink" title="åˆ›å»ºSpringBooté¡¹ç›®"></a>åˆ›å»ºSpringBooté¡¹ç›®</h2><h3 id="ä»é›¶å¼€å§‹çš„SpringBooté¡¹ç›®"><a href="#ä»é›¶å¼€å§‹çš„SpringBooté¡¹ç›®" class="headerlink" title="ä»é›¶å¼€å§‹çš„SpringBooté¡¹ç›®"></a>ä»é›¶å¼€å§‹çš„SpringBooté¡¹ç›®</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†ç”¨IEDAä»é›¶å¼€å§‹åˆ›å»ºä¸€ä¸ªæ–°çš„SpringBooté¡¹ç›®ã€‚</p><p>é¦–å…ˆç‚¹å‡»æ–°å»ºé¡¹ç›®ï¼Œé€‰æ‹©Spring Initializr, ç»™ä½ çš„é¡¹ç›®å–ä¸€ä¸ªåˆé€‚çš„åå­—, ä½¿ç”¨mavenå¯¹é¡¹ç›®è¿›è¡Œç®¡ç†, é€‰æ‹©åˆé€‚çš„jdkç‰ˆæœ¬, å¦‚ä¸‹å›¾æ‰€ç¤º:</p><p><img src="https://s2.loli.net/2023/07/10/UdAblrs3TVzt7Ma.png" alt="springboot.png"></p><p>ç„¶åé€‰æ‹©åˆé€‚çš„SpringBootç‰ˆæœ¬å’Œä¾èµ–åŒ…(è¿™é‡Œæˆ‘é€‰äº†Spring Webå’ŒMySQL Driver, å¯ä»¥æ ¹æ®å®é™…éœ€è¦è¿›è¡Œé€‰æ‹©):</p><p><img src="https://s2.loli.net/2023/07/10/ZjnWfeAdzk2Rpu3.png" alt="ä¾èµ–.png"></p><p>åˆ°æ­¤ä¸ºæ­¢æˆ‘ä»¬å°±åˆ›å»ºäº†ä¸€ä¸ªSpringBooté¡¹ç›®!</p><h2 id="ç›¸å…³ä¾èµ–çš„é…ç½®"><a href="#ç›¸å…³ä¾èµ–çš„é…ç½®" class="headerlink" title="ç›¸å…³ä¾èµ–çš„é…ç½®"></a>ç›¸å…³ä¾èµ–çš„é…ç½®</h2><p>è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬ä¼šä»‹ç»SpringBooté¡¹ç›®ä¸­çš„ä¸€äº›ä¾èµ–çš„é…ç½®, ä»¥ä¾¿æˆ‘è‡ªå·±åæ¥å‚è€ƒğŸ¤¯ğŸ¤¯ğŸ¤¯</p><h3 id="druid"><a href="#druid" class="headerlink" title="druid"></a>druid</h3><p>åœ¨<code>pom.xml</code>ä¸­å¼•å…¥druidçš„åæ ‡, ç„¶åå®‰è£…ä¾èµ–:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.15<span class="tag">&lt;/<span class="name">version</span>&gt;</span> <span class="comment">&lt;!-- ç‰ˆæœ¬åˆé€‚å°±è¡Œ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>application.yml</code>ä¸­å¡«å†™é…ç½®ä¿¡æ¯:<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">druid:</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/blog</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">password</span></span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Springboot </tag>
            
            <tag> maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typescript/javascriptå­¦ä¹ ç¬”è®°</title>
      <link href="/2023/04/24/typescript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/04/24/typescript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸javascriptçš„ä¸åŒ"><a href="#ä¸javascriptçš„ä¸åŒ" class="headerlink" title="ä¸javascriptçš„ä¸åŒ"></a>ä¸javascriptçš„ä¸åŒ</h1><p>æ‰€è°“çš„typescriptï¼Œå°±æ˜¯javascriptçš„è¶…é›†ï¼Œå­¦ä¹ è¿‡javascriptçš„å°±çŸ¥é“å…¶å˜é‡æ˜¯æ²¡æœ‰ç±»å‹æ£€æŸ¥çš„ï¼Œè€Œtypescriptå¯ä»¥çœ‹ä½œæ˜¯æ˜¯æ·»åŠ äº†ç±»å‹åˆ¤æ–­çš„javascriptã€‚</p><h1 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h1><h2 id="javascriptçš„è§£æ„"><a href="#javascriptçš„è§£æ„" class="headerlink" title="javascriptçš„è§£æ„"></a>javascriptçš„è§£æ„</h2><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„åŠŸèƒ½ï¼Œæœ¬æ„æ˜¯ä¸ºäº†æ›´åŠ æ–¹ä¾¿åœ°ä»æ•°ç»„ï¼Œå¯¹è±¡è¿™äº›å¼•ç”¨ç±»å‹æ•°æ®å–æ•°æ®ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥é€šè¿‡è§£æ„ä¾¿æ·çš„å®ç°å¾ˆå¤šç¥å¥‡çš„æ“ä½œï¼Œä¸‹é¢æˆ‘å°†ä»‹ç»ä¸€äº›ï¼š</p><h3 id="è§£æ„çš„åŸå§‹ç”¨æ³•"><a href="#è§£æ„çš„åŸå§‹ç”¨æ³•" class="headerlink" title="è§£æ„çš„åŸå§‹ç”¨æ³•"></a>è§£æ„çš„åŸå§‹ç”¨æ³•</h3><h4 id="è§£æ„æ•°ç»„"><a href="#è§£æ„æ•°ç»„" class="headerlink" title="è§£æ„æ•°ç»„"></a>è§£æ„æ•°ç»„</h4><p>è§£æ„æ•°ç»„çš„æ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">array</span>: <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt; = [<span class="number">1</span>,<span class="number">2</span>,[<span class="number">3</span>,<span class="number">4</span>]];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr</span>: <span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt; = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="comment">// å¦‚æœè¯´æ²¡æœ‰å¯¹åº”çš„å€¼ï¼Œåˆ™å¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼Œå³ä¸‹é¢çš„m</span></span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">0</span>,y = <span class="number">0</span>,z = <span class="number">0</span>,m = <span class="number">0</span>] = arr;</span><br><span class="line"><span class="comment">// å¯¹äºåµŒå¥—çš„æ•°ç»„ï¼Œå…¶ç»“æ„æ–¹æ³•å¦‚ä¸‹</span></span><br><span class="line"><span class="keyword">let</span> [a0, , [a21, a22]] = array;</span><br></pre></td></tr></table></figure><h4 id="è§£æ„å¯¹è±¡"><a href="#è§£æ„å¯¹è±¡" class="headerlink" title="è§£æ„å¯¹è±¡"></a>è§£æ„å¯¹è±¡</h4><p>è§£æ„å¯¹è±¡çš„æ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span>&lt;<span class="variable constant_">KUN</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">gender</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="variable constant_">KUN</span>?: <span class="variable constant_">KUN</span>;</span><br><span class="line">  partner?: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">hobby</span>: &#123;</span><br><span class="line">    <span class="attr">piano</span>: <span class="built_in">object</span>;</span><br><span class="line">    <span class="attr">violin</span>: <span class="built_in">object</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">haruki</span>: <span class="title class_">Person</span>&lt;<span class="built_in">boolean</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Haruki&quot;</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">24</span>,</span><br><span class="line">  <span class="attr">KUN</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">partner</span>: <span class="string">&#x27;Kazusa&#x27;</span>,</span><br><span class="line">  <span class="attr">hobby</span>: &#123;</span><br><span class="line">    <span class="attr">piano</span>: &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;stav&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">violin</span>: &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;ee&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">myName</span>: <span class="built_in">string</span>, <span class="attr">myGender</span>: <span class="built_in">string</span>, <span class="attr">myIsIKun</span>: <span class="built_in">boolean</span> | <span class="literal">undefined</span>,<span class="attr">myPiano</span>: <span class="built_in">object</span>, <span class="attr">myViolin</span>: <span class="built_in">object</span>;</span><br><span class="line"></span><br><span class="line">(&#123;<span class="attr">name</span>: myName = <span class="string">&#x27;setsuna&#x27;</span>, <span class="attr">KUN</span>: myIsIKun = <span class="literal">undefined</span>, <span class="attr">hobby</span>: &#123;<span class="attr">piano</span>: myPiano,<span class="attr">violin</span>: myViolin&#125;&#125; = haruki);</span><br></pre></td></tr></table></figure><h4 id="è§£æ„å‡½æ•°å‚æ•°"><a href="#è§£æ„å‡½æ•°å‚æ•°" class="headerlink" title="è§£æ„å‡½æ•°å‚æ•°"></a>è§£æ„å‡½æ•°å‚æ•°</h4><p>å½“æˆ‘ä»¬å†™çš„å‡½æ•°å­˜åœ¨å¤šä¸ªå‚æ•°æ—¶ï¼Œè°ƒç”¨è¯¥å‡½æ•°éœ€è¦æŒ‰ç…§æ¬¡åºä¾æ¬¡å¡«å†™å‚æ•°ï¼Œè¿™å®åœ¨æ˜¯ä¸€ä»¶è´¹åŠ›ä¸è®¨å¥½çš„äº‹å„¿ï¼Œä½†æ˜¯åªè¦æˆ‘ä»¬æŠŠå‚æ•°å°è£…æˆä¸€ä¸ªå¯¹è±¡å¹¶å¯¹å…¶è¿›è¡Œè§£æ„ï¼Œå°±å¯ä»¥å®ç°ç›¸åŒçš„æ•ˆæœä¸”ä¸è¦åœ¨æ„å‚æ•°çš„é¡ºåºäº†ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">destructrue</span>(<span class="params">&#123;name = <span class="string">&#x27;setsuna&#x27;</span>, gender = <span class="string">&#x27;female&#x27;</span>, age = <span class="number">18</span>, spouse = <span class="string">&#x27;haruki&#x27;</span>&#125;</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`my name is <span class="subst">$&#123;name&#125;</span>, I&#x27;m <span class="subst">$&#123;age&#125;</span> years old <span class="subst">$&#123;gender === <span class="string">&#x27;female&#x27;</span> ? <span class="string">&#x27;girl&#x27;</span> : <span class="string">&#x27;boy&#x27;</span>&#125;</span>, my lover is <span class="subst">$&#123;spouse&#125;</span>.`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">destructrue</span>(&#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;kazusa&#x27;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// output: my name is kazusa, I&#x27;m 20 years old girl, my lover is haruki.</span></span><br></pre></td></tr></table></figure><h3 id="äº¤æ¢å˜é‡çš„å€¼"><a href="#äº¤æ¢å˜é‡çš„å€¼" class="headerlink" title="äº¤æ¢å˜é‡çš„å€¼"></a>äº¤æ¢å˜é‡çš„å€¼</h3><p>å¹³æ—¶æˆ‘ä»¬å®ç°å˜é‡å€¼çš„äº¤æ¢å¾€å¾€éœ€è¦å€ŸåŠ©ç¬¬ä¸‰ä¸ªå˜é‡ï¼Œä½†æ˜¯é€šè¿‡è§£æ„æˆ‘ä»¬å¯ä»¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å˜é‡äº¤æ¢</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: <span class="built_in">number</span> = <span class="number">1</span>,<span class="attr">y</span>: <span class="built_in">number</span> = <span class="number">2</span>;</span><br><span class="line">[x, y] = [y, x];</span><br><span class="line"><span class="comment">// å¤šä¸ªå˜é‡çš„äº¤æ¢</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="built_in">number</span> = <span class="number">1</span>,<span class="attr">b</span>: <span class="built_in">number</span> = <span class="number">2</span>,<span class="attr">c</span>: <span class="built_in">number</span> = <span class="number">3</span>;</span><br><span class="line">[a,b,c] = [c,a,b];</span><br></pre></td></tr></table></figure><h2 id="javascriptæ‰©å±•è¿ç®—ç¬¦"><a href="#javascriptæ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="javascriptæ‰©å±•è¿ç®—ç¬¦"></a>javascriptæ‰©å±•è¿ç®—ç¬¦</h2><p>æ‰©å±•è¿ç®—ç¬¦(spread operator)<code>...</code>å¯ä»¥ç”¨æ¥æ‰©å±•å¯è¿­ä»£ç±»å‹(arrays,strings.maps,sets )å’Œæ•°ç»„ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦è¿›è¡Œçš„æ˜¯æ·±æ‹·è´å–µ( â€¢Ì€ Ï‰ â€¢Ì )âœ§</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">0</span>,...arr,<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;haruki&#x27;</span>,</span><br><span class="line">    <span class="attr">gender</span>: <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">    <span class="attr">spouse</span>: <span class="string">&#x27;kazusa&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> whiteAlbum2 = &#123;...person, <span class="attr">job</span>: <span class="string">&#x27;journalist&#x27;</span>&#125;;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ç”¨äºå‡½æ•°ä¼ å‚ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">spreadOperation</span>(<span class="params">...params: <span class="built_in">number</span>[]</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`I get <span class="subst">$&#123;params[<span class="number">0</span>]&#125;</span> and <span class="subst">$&#123;params[<span class="number">1</span>]&#125;</span> and <span class="subst">$&#123;params[<span class="number">2</span>]&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr</span>: <span class="built_in">number</span>[] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="title function_">spreadOperation</span>(<span class="number">111</span>,<span class="number">222</span>,...arr);</span><br><span class="line"><span class="comment">// output: I get 111 and 222 and 1</span></span><br></pre></td></tr></table></figure><h2 id="JavaScriptçš„çŸ­è·¯"><a href="#JavaScriptçš„çŸ­è·¯" class="headerlink" title="JavaScriptçš„çŸ­è·¯"></a>JavaScriptçš„çŸ­è·¯</h2><p>å°±åƒè®¸å¤šå…¶å®ƒç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒJavaScriptä¹Ÿå­˜åœ¨çŸ­è·¯ï¼šå³å¯¹äºANDä¸­å‡ºç°<code>false</code>æˆ–è€…ORä¸­å‡ºç°<code>true</code>å°±ä¼šæå‰é€€å‡ºé€»è¾‘åˆ¤æ–­ï¼Œä½†ä¸ä¸€æ ·çš„æ˜¯JavaScriptçš„çŸ­è·¯è¿”å›çš„çš„æ˜¯ä¸€ä¸ªå…·ä½“çš„å€¼ï¼Œè¿™ä¸ªç‰¹æ€§å¯ä»¥ç”¨äºç®€åŒ–ä¸€äº›è¯­æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸‹é¢è¡¨è¾¾å¼1å’Œ2åœ¨y !== 0æ—¶ç­‰ä»·,è¡¨è¾¾å¼1ä¸3ç­‰ä»· </span></span><br><span class="line"><span class="keyword">const</span> x = y ? y : <span class="number">10</span>;<span class="comment">// è¡¨è¾¾å¼1</span></span><br><span class="line"><span class="keyword">const</span> x = y || <span class="number">10</span>; <span class="comment">// è¡¨è¾¾å¼2</span></span><br><span class="line"><span class="keyword">const</span> x = y ?? <span class="number">10</span>;<span class="comment">//è¡¨è¾¾å¼3</span></span><br></pre></td></tr></table></figure><h2 id="javascriptçš„å¯é€‰é“¾è¿ç®—ç¬¦"><a href="#javascriptçš„å¯é€‰é“¾è¿ç®—ç¬¦" class="headerlink" title="javascriptçš„å¯é€‰é“¾è¿ç®—ç¬¦"></a>javascriptçš„å¯é€‰é“¾è¿ç®—ç¬¦</h2><p>å³<code>?.</code>ï¼Œåœ¨éœ€è¦è·å–ä¸€ä¸ªå¯¹è±¡å¯èƒ½ä¸å­˜åœ¨çš„å±æ€§æ—¶å¯ä»¥ä½¿ç”¨ï¼Œåœ¨æ•°å­¦ä¸å­˜åœ¨æ—¶ç›´æ¥è¿”å›<code>undefined</code>è€Œä¸æ˜¯æŠ¥é”™ã€‚</p><h2 id="JavaScriptçš„æ•°æ®ç»“æ„"><a href="#JavaScriptçš„æ•°æ®ç»“æ„" class="headerlink" title="JavaScriptçš„æ•°æ®ç»“æ„"></a>JavaScriptçš„æ•°æ®ç»“æ„</h2><h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><p>å…¶æ¦‚å¿µå¯ä»¥å‚è€ƒä¸€ä¸‹æ•°å­¦ä¸­çš„é›†åˆï¼Œå…¶ä¸­çš„æˆå‘˜å˜é‡å”¯ä¸€è€Œä¸”æ²¡æœ‰é¡ºåº(å› æ­¤ç´¢å¼•Setçš„æˆå‘˜å…¶å®æ²¡æœ‰æ„ä¹‰ï¼Œä½†æ˜¯å…¶æœ¬èº«åˆæ˜¯ä¸€ä¸ªå¯è¿­ä»£(iterable)çš„æ•°æ®ç»“æ„)ï¼Œé€šè¿‡ä»¥ä¸‹ç¤ºä¾‹ç†è§£ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&#x27;piano&#x27;</span>, <span class="string">&#x27;guitar&#x27;</span>, <span class="string">&#x27;piano&#x27;</span>, <span class="string">&#x27;violin&#x27;</span>]);</span><br><span class="line"><span class="comment">// Setä¸­çš„å€¼å…·æœ‰å”¯ä¸€æ€§(å°±åƒæ•°å­¦é‡Œé¢çš„é›†åˆä¸€æ ·):&#123;&#x27;piano&#x27;, &#x27;guitar&#x27;, &#x27;violin&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">set.<span class="property">size</span> <span class="comment">// Setçš„æˆå‘˜æ•°é‡</span></span><br><span class="line">set.<span class="title function_">has</span>(<span class="string">&#x27;draw&#x27;</span>); <span class="comment">// åˆ¤æ–­setä¸­æ˜¯å¦æœ‰æŸä¸ªæˆå‘˜ã€‚</span></span><br><span class="line">set.<span class="title function_">add</span>(<span class="string">&#x27;draw&#x27;</span>);</span><br><span class="line">set.<span class="title function_">delete</span>(<span class="string">&#x27;draw&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p>Mapæ˜¯ä¸€ç§é”®å€¼å¯¹ç»„æˆçš„æ•°æ®ç»“æ„ã€‚ä¸Objectä¸åŒçš„æ˜¯ï¼ŒMapçš„é”®å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å˜é‡ï¼Œè€ŒObjectåªèƒ½æ˜¯<code>string</code>ã€‚</p><p>ä¸‹é¢æ˜¯å¯¹Mapä¸­å€¼å¾—ä¸€æçš„æ–¹æ³•å’Œæ“ä½œï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myMap = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">    [<span class="number">1</span>, <span class="string">&#x27;hello&#x27;</span>],</span><br><span class="line">    [<span class="number">2</span>, <span class="string">&#x27;world&#x27;</span>],</span><br><span class="line">    [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], <span class="number">114</span>]</span><br><span class="line">]);</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Mapæ·»åŠ æ–¹æ³•2</span></span><br><span class="line">myMap.<span class="title function_">set</span>(<span class="number">1</span>,<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">    .<span class="title function_">set</span>(<span class="number">2</span>,<span class="string">&#x27;world&#x27;</span>)</span><br><span class="line">    .<span class="title function_">set</span>(arr,<span class="string">&#x27;!&#x27;</span>)</span><br><span class="line">    .<span class="title function_">set</span>(<span class="string">&#x27;emoji&#x27;</span>, <span class="string">&#x27;:)&#x27;</span>);</span><br><span class="line"></span><br><span class="line">myMap.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value: <span class="built_in">any</span>, key: <span class="built_in">any</span>, map</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key, value);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> [key, value] <span class="keyword">of</span> myMap) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key, value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// iterable the haruki(Object)</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> [key, value] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(haruki))&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key, value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="javascriptçš„å‡½æ•°"><a href="#javascriptçš„å‡½æ•°" class="headerlink" title="javascriptçš„å‡½æ•°"></a>javascriptçš„å‡½æ•°</h2><p><code>javascript</code>ä¸­çš„å‡½æ•°æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå€¼ï¼Œä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ï¼Œæœ‰å®ƒä»¬è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><ul><li><code>call</code>ï¼šè¯¥æ–¹æ³•çš„åŠŸèƒ½æ˜¯è°ƒç”¨å‡½æ•°ï¼Œå¹¶ä¸”å°†å‡½æ•°ä¸­çš„<code>this</code>å˜é‡æŒ‡å®šä¸ºæ–¹æ³•è®¾ç½®çš„å˜é‡ã€‚</li><li><code>bind</code>ï¼šè¯¥æ–¹æ³•çš„åŠŸèƒ½æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå¹¶ä¸”å°†æ–°å‡½æ•°ä¸­çš„<code>this</code>å˜é‡è®¾ç½®ä¸ºæ–¹æ³•æŒ‡å®šçš„å˜é‡ã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">HangType</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">hangCode</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">bookList</span>: &#123;<span class="attr">code</span>: <span class="built_in">string</span>, <span class="attr">name</span>: <span class="built_in">string</span>&#125;[]</span><br><span class="line">  book?: <span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Hang</span>:  <span class="title class_">HangType</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Beihang University&#x27;</span>,</span><br><span class="line">  <span class="attr">hangCode</span>: <span class="string">&#x27;BUAA&#x27;</span>,</span><br><span class="line">  <span class="attr">bookList</span>: [],</span><br><span class="line">  <span class="title function_">book</span>(<span class="params">codeNum: <span class="built_in">number</span>, passenger: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`just now <span class="subst">$&#123;passenger&#125;</span> book the <span class="subst">$&#123;<span class="variable language_">this</span>.hangCode&#125;</span><span class="subst">$&#123;codeNum&#125;</span> from <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">bookList</span>.<span class="title function_">push</span>(&#123;<span class="attr">code</span>: <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.hangCode&#125;</span><span class="subst">$&#123;codeNum&#125;</span>`</span>, <span class="attr">name</span>: passenger &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">NanHang</span>: <span class="title class_">HangType</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Nanhang University&#x27;</span>,</span><br><span class="line">  <span class="attr">hangCode</span>: <span class="string">&#x27;NUAA&#x27;</span>,</span><br><span class="line">  <span class="attr">bookList</span>: [],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> book = <span class="title class_">Hang</span>.<span class="property">book</span>;</span><br><span class="line"><span class="title class_">Hang</span>.<span class="title function_">book</span>(<span class="number">114</span>, <span class="string">&#x27;takune&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨functionçš„callæ–¹æ³•,ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šthis,åé¢çš„å‚æ•°ä¸ºå‡½æ•°è‡ªå·±çš„å‚æ•°, å¸¸ç”¨</span></span><br><span class="line">book.<span class="title function_">call</span>(<span class="title class_">NanHang</span>, <span class="number">514</span>, <span class="string">&#x27;senbai&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// function bind method: return a new function which bind key word &#x27;this&#x27; with param1</span></span><br><span class="line"><span class="comment">// é€šè¿‡bindå‡½æ•°ä½ è¿˜å¯ä»¥æŒ‡å®šä¸€äº›å‚æ•°çš„å€¼, æ¯”å¦‚è¯´ const bookNanHang = book.bind(NanHang, 23);</span></span><br><span class="line"><span class="keyword">const</span> bookNanHang = book.<span class="title function_">bind</span>(<span class="title class_">NanHang</span>);</span><br><span class="line"><span class="title function_">bookNanHang</span>(<span class="number">810</span>, <span class="string">&#x27;katsusa&#x27;</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Computer Science </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mybatisæ“ä½œ</title>
      <link href="/2023/03/28/Mybatis%E6%93%8D%E4%BD%9C/"/>
      <url>/2023/03/28/Mybatis%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆæ˜¯Mybatis"><a href="#ä¸ºä»€ä¹ˆæ˜¯Mybatis" class="headerlink" title="ä¸ºä»€ä¹ˆæ˜¯Mybatis"></a>ä¸ºä»€ä¹ˆæ˜¯Mybatis</h2><p>é¦–å…ˆä½¿ç”¨JDBCæ“ä½œæ•°æ®åº“å­˜åœ¨ä»¥ä¸‹çš„é—®é¢˜</p><ul><li>é¦–å…ˆæ˜¯ç¡¬ç¼–ç é—®é¢˜ï¼šæ•°æ®åº“è¿æ¥ï¼Œè´¦å·ï¼Œå¯†ç å’ŒSQLè¯­å¥ç­‰ç›´æ¥å†™åœ¨ä»£ç ä¸­ï¼Œæ¯æ¬¡ä¿®æ”¹éƒ½éœ€è¦ä¿®æ”¹æºä»£ç å¹¶ä¸”é‡æ–°ç¼–è¯‘ï¼Œéå¸¸ä¸æ–¹ä¾¿ã€‚</li><li>ç„¶åæ˜¯æ•°æ®åº“æ“ä½œç¹çï¼šä½¿ç”¨JDBCæ“ä½œæ•°æ®åº“éå¸¸ç¹çï¼šè®¾ç½®SQLè¯­å¥å˜é‡ï¼Œæ‰§è¡ŒSQLè¯­å¥ï¼Œå¤„ç†è¿”å›é›†ï¼›è€ŒMybatisåªéœ€è¦ä¸¤è¡Œä»£ç å°±å¯ä»¥å®Œæˆè¿™äº›æ“ä½œã€‚</li></ul><h2 id="æ“ä½œMybatis"><a href="#æ“ä½œMybatis" class="headerlink" title="æ“ä½œMybatis"></a>æ“ä½œMybatis</h2><h3 id="å¯¼å…¥MyBatis"><a href="#å¯¼å…¥MyBatis" class="headerlink" title="å¯¼å…¥MyBatis"></a>å¯¼å…¥MyBatis</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®ä¸­å¯¼å…¥å…³äºMyBatisçš„ä¾èµ–ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨Mavenå°†MyBatiså¯¼å…¥é¡¹ç›®ä¸­ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åœ¨pom.xmlå†™å…¥å¦‚ä¸‹åæ ‡ä¾èµ– --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™MyBatisçš„é…ç½®æ–‡ä»¶"><a href="#ç¼–å†™MyBatisçš„é…ç½®æ–‡ä»¶" class="headerlink" title="ç¼–å†™MyBatisçš„é…ç½®æ–‡ä»¶"></a>ç¼–å†™MyBatisçš„é…ç½®æ–‡ä»¶</h3><p>æ¯ä¸€ä¸ªåŸºäºMyBAtisçš„åº”ç”¨éƒ½æ˜¯ä»¥ä¸€ä¸ª<code>SqlSessionFactory</code>çš„å®ä¾‹ä¸ºæ ¸å¿ƒçš„ã€‚å®ä¾‹<code>SqlSessionFactory</code>å¯ä»¥é€šè¿‡<code>SqlSessionFactoryBuilder</code>è·å¾—ï¼Œè€Œ<code>SqlSessionFactoryBuilder</code>åˆ™ä¼šé€šè¿‡XMLé…ç½®æ–‡ä»¶è·å–æ•°æ®åº“é…ç½®ä¿¡æ¯åˆ›å»ºå®ä¾‹<code>SqlSessionFactory</code>ã€‚</p><p>ä¸ºäº†è·å–è¯¥é…ç½®æ–‡ä»¶ï¼ŒMyBatisä¸­å®ç°äº†ä¸€ä¸ª<code>Resources</code>å·¥å…·ç±»ï¼Œç”¨äºè·å–é…ç½®æ–‡ä»¶çš„è¾“å…¥æµï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="string">&quot;org/mybatis/example/mybatis-config.xml&quot;</span>;</span><br><span class="line"><span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Resources.getResourceAsStream(resource);</span><br><span class="line"><span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br></pre></td></tr></table></figure><h4 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h4><p>XML é…ç½®æ–‡ä»¶ä¸­åŒ…å«äº†å¯¹ MyBatis ç³»ç»Ÿçš„æ ¸å¿ƒè®¾ç½®ï¼ŒåŒ…æ‹¬è·å–æ•°æ®åº“è¿æ¥å®ä¾‹çš„æ•°æ®æºï¼ˆDataSourceï¼‰ä»¥åŠå†³å®šäº‹åŠ¡ä½œç”¨åŸŸå’Œæ§åˆ¶æ–¹å¼çš„äº‹åŠ¡ç®¡ç†å™¨ï¼ˆTransactionManagerï¼‰ã€‚åé¢ä¼šå†æ¢è®¨ XML é…ç½®æ–‡ä»¶çš„è¯¦ç»†å†…å®¹ï¼Œè¿™é‡Œå…ˆç»™å‡ºä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">  <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">  <span class="string">&quot;https://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½®ä¿¡æ¯ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- SQLè¯­å¥æ˜ å°„æ–‡ä»¶ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;DepartMentMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å°†åœ¨å¦‚ä¸‹ä»‹ç»ä¸€ä¸‹é…ç½®æ–‡ä»¶çš„ä¸€äº›å±æ€§ï¼š</p><ul><li>environmentsï¼šMyBatiså¯ä»¥é…ç½®ä»¥é€‚åº”ä¸åŒçš„ç¯å¢ƒï¼ˆæ—¢å¯ä»¥é…ç½®å¤šä¸ªenvironmentï¼Œå¹¶ä¸”é€šè¿‡defaulté“ç¯ä¸åŒçš„environmentï¼‰</li><li>typeAliasesï¼šä¸ºç±»è®¾ç½®åˆ«åï¼Œæ–¹ä¾¿ç¼–ç ï¼Œå¯ä»¥ä½¿ç”¨åŒ…æ‰«æç®€åŒ–ã€‚</li></ul><h4 id="SQLæ˜ å°„æ–‡ä»¶"><a href="#SQLæ˜ å°„æ–‡ä»¶" class="headerlink" title="SQLæ˜ å°„æ–‡ä»¶"></a>SQLæ˜ å°„æ–‡ä»¶</h4><p>åœ¨é¡¹ç›®ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡xmlæ–‡ä»¶æ¥ç¼–å†™SQLæ˜ å°„æ–‡ä»¶ï¼Œå…¶å…·ä½“å†…å®¹ä¸€èˆ¬å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;https://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    namespace: åç§°ç©ºé—´</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.takune.pojo.Department&quot;</span>&gt;</span></span><br><span class="line">        select * from department;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ­£å¼ç¼–ç "><a href="#æ­£å¼ç¼–ç " class="headerlink" title="æ­£å¼ç¼–ç "></a>æ­£å¼ç¼–ç </h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥ç¼–å†™å¯¹åº”çš„DAOç±»æ¥å­˜å‚¨æŸ¥è¯¢çš„ä¿¡æ¯ï¼›ç„¶ååˆ©ç”¨Mybatiså®ç°æ•°æ®åº“çš„æŸ¥è¯¢æ“ä½œï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1. åŠ è½½Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œè·å–sqlSessionFactory</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Resources.getResourceAsStream(resource);</span><br><span class="line">    <span class="comment">// è¯¥å‚æ•°ä¸ºmybatisé…ç½®æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line">    </span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. è·å–sqlSessionå¯¹è±¡ï¼Œç”¨å®ƒæ¥æ‰§è¡ŒSQL</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sqlSessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. æ‰§è¡ŒSQLè¯­å¥</span></span><br><span class="line">        List&lt;Department&gt; departmentList = sqlSession.selectList(<span class="string">&quot;test.selectAll&quot;</span>);</span><br><span class="line"><span class="comment">//è¯¥æ–¹æ³•çš„å‚æ•°å‘½åæ ¼å¼ä¸ºnamespace.idï¼Œè¿”å›çš„æ•°æ®ç±»å‹ä¸ºList&lt;resultType&gt;</span></span><br><span class="line">    </span><br><span class="line">    System.out.println(departmentList);</span><br><span class="line">        <span class="comment">// 4. é‡Šæ”¾èµ„æº</span></span><br><span class="line"></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="Mapperä»£ç†"><a href="#Mapperä»£ç†" class="headerlink" title="Mapperä»£ç†"></a>Mapperä»£ç†</h2><p>ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ‰§è¡ŒSQLè¯­å¥çš„ç¬¬ä¸‰æ­¥ä¾æ—§å­˜åœ¨ä¾é å­—ç¬¦ä¸²çš„ç¡¬ç¼–ç é—®é¢˜ï¼Œå› æ­¤ä¸ºäº†è§£å†³è¿™ä¸ªç¡¬ç¼–ç çš„é—®é¢˜åŒæ—¶æé«˜ç¼–ç æ•ˆç‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Mapperä»£ç†çš„æ–¹æ³•ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>å®šä¹‰ä¸SQLæ˜ å°„æ–‡ä»¶åŒåçš„Mapperæ¥å£ï¼Œå¹¶ä¸”å°†Mapperæ¥å£å’ŒSQLæ˜ å°„æ–‡ä»¶æ”¾åœ¨åŒä¸€ç›®å½•ä¸‹</li><li>è®¾ç½®SQLæ˜ å°„æ–‡ä»¶çš„namespaceå±æ€§ä¸ºMapperæ¥å£å…¨é™å®šåï¼›</li><li>åœ¨Mapperæ¥å£ä¸­å®šä¹‰ä¸SQLæ˜ å°„æ–‡ä»¶ä¸­çš„idç›¸åŒçš„æ–¹æ³•ï¼Œå¹¶ä¸”ä¿æŒå‚æ•°ç±»å‹ï¼Œä¸ªæ•°å’Œè¿”å›å€¼ä¸€è‡´</li><li>æœ€åç¼–ç æ‰§è¡Œï¼Œè°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³•å³å¯æ‰§è¡ŒSQLè¯­å¥ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="comment">// 1. åŠ è½½Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œè·å–sqlSessionFactory</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">    <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Resources.getResourceAsStream(resource);</span><br><span class="line">    <span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. è·å–sqlSessionå¯¹è±¡ï¼Œç”¨å®ƒæ¥æ‰§è¡ŒSQL</span></span><br><span class="line">    <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sqlSessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. è·å–Mapperä»£ç†ï¼Œæ‰§è¡ŒSQLè¯­å¥</span></span><br><span class="line">    <span class="type">DepartmentMapper</span> <span class="variable">departmentMapper</span> <span class="operator">=</span> sqlSession.getMapper(DepartmentMapper.class);</span><br><span class="line">    List&lt;Department&gt; departmentList = departmentMapper.selectAll();</span><br><span class="line">    System.out.println(departmentList);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. é‡Šæ”¾èµ„æº</span></span><br><span class="line"></span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Mapperä»£ç†ä¸­çš„æ³¨æ„äº‹é¡¹"><a href="#Mapperä»£ç†ä¸­çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="Mapperä»£ç†ä¸­çš„æ³¨æ„äº‹é¡¹"></a>Mapperä»£ç†ä¸­çš„æ³¨æ„äº‹é¡¹</h3><p>åœ¨ä½¿ç”¨Mapperä»£ç†çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ€»ä¼šé‡åˆ°è¿™æ ·é‚£æ ·çš„é—®é¢˜ï¼Œä»¥ä¸‹å°†ä»‹ç»ä¸€äº›å¸¸è§çš„æ³¨æ„äº‹é¡¹ï¼š</p><h4 id="æ•°æ®åº“å­—æ®µä¸å®ä½“ç±»å˜é‡åä¸ä¸€è‡´"><a href="#æ•°æ®åº“å­—æ®µä¸å®ä½“ç±»å˜é‡åä¸ä¸€è‡´" class="headerlink" title="æ•°æ®åº“å­—æ®µä¸å®ä½“ç±»å˜é‡åä¸ä¸€è‡´"></a>æ•°æ®åº“å­—æ®µä¸å®ä½“ç±»å˜é‡åä¸ä¸€è‡´</h4><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸åŒçš„é¢†åŸŸï¼Œä¸åŒçš„å›¢é˜Ÿä¸­çš„å˜é‡æœ‰ç€ä¸åŒçš„å‘½åé£æ ¼ï¼Œæ¯”å¦‚è¯´é©¼å³°å‘½åç­‰ï¼Œè¿™æ ·ç»å¸¸ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼šç”±äºæ•°æ®åº“å­—æ®µå’Œå®ä½“ç±»å¯¹åº”çš„å˜é‡åä¸ä¸€æ ·ï¼Œå¯¼è‡´MyBatisè‡ªåŠ¨å°è£…æ•°æ®çš„åŠŸèƒ½å¤±æ•ˆï¼Œå› æ­¤ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°†é‡‡ç”¨<code>resultMap</code>æ¥è§£å†³ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- ä¿®æ”¹å‰ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;brand&quot;</span>&gt;</span></span><br><span class="line">       select * from db.tb_brand;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- ä¿®æ”¹å --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">   æ•°æ®åº“å­—æ®µå’Œå®ä½“ç±»çš„åå­—ä¸ä¸€æ ·,åˆ™ä¸èƒ½è‡ªåŠ¨å°è£…æ•°æ®</span></span><br><span class="line"><span class="comment">   * å–åˆ«å</span></span><br><span class="line"><span class="comment">   * resultMapï¼š</span></span><br><span class="line"><span class="comment">       * å®šä¹‰resultMapæ ‡ç­¾ï¼Œå¹¶ä¸”ä½¿ç”¨resultMapæ›¿æ¢resultTypeå±æ€§</span></span><br><span class="line"><span class="comment">       * id: å®Œæˆä¸»é”®å­—æ®µçš„æ˜ å°„</span></span><br><span class="line"><span class="comment">       * resultï¼šå®Œæˆä¸€èˆ¬å­—æ®µçš„æ˜ å°„</span></span><br><span class="line"><span class="comment">           * columnï¼šæ•°æ®åº“ä¸­çš„åˆ—å</span></span><br><span class="line"><span class="comment">           * propertyï¼šå®ä½“ç±»ä¸­çš„æˆå‘˜å˜é‡å</span></span><br><span class="line"><span class="comment">   --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;brandResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;brand&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;brand_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;brandName&quot;</span> /&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;company_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;companyName&quot;</span> /&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;brandResultMap&quot;</span>&gt;</span></span><br><span class="line">       select * from db.tb_brand;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å¸¦å˜é‡çš„SQLè¯­å¥"><a href="#å¸¦å˜é‡çš„SQLè¯­å¥" class="headerlink" title="å¸¦å˜é‡çš„SQLè¯­å¥"></a>å¸¦å˜é‡çš„SQLè¯­å¥</h4><p>åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å†™SQLè¯­å¥æ—¶ç»å¸¸ä¼šæœ‰è·å–ç”¨æˆ·è¾“å…¥çš„æ¡ä»¶è¿›è¡ŒæŸ¥è¯¢çš„éœ€æ±‚ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è§£å†³è¿™æ ·çš„çš„é—®é¢˜ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        å‚æ•°å ä½ç¬¦ï¼š</span></span><br><span class="line"><span class="comment">        * #&#123;var&#125;: ä¼šå°†å…¶æ›¿æ¢ä¸º?é˜²æ­¢sqlæ³¨å…¥ï¼Œå…¶ä¸­varä¸æ¥å£ä¸­ä¼ å…¥çš„å‚æ•°å˜é‡åä¸€è‡´</span></span><br><span class="line"><span class="comment">        * $&#123;var&#125;: æ‹¼å†™sqlå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å­˜åœ¨sqlæ³¨å…¥é—®é¢˜ï¼Œå¦‚æœè¡¨åæˆ–è€…åˆ—åä¸ç¡®å®šï¼Œæˆ‘ä»¬å°±ä¼šä½¿ç”¨è¿™ä¸ªå ä½ç¬¦ï¼Œå…¶ä¸­varä¸æ¥å£ä¸­ä¼ å…¥çš„å‚æ•°å˜é‡åä¸€è‡´</span></span><br><span class="line"><span class="comment">        * ç‰¹æ®Šå­—ç¬¦ï¼šæ¯”å¦‚è¯´&#x27;&lt;&#x27;ä¼šåœ¨xmlä¸­è¯†åˆ«ä¸ºæ ‡ç­¾å¼€å§‹ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨è½¬ä¹‰ç¬¦æˆ–è€…CDATAè§£å†³</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectById&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;brandResultMap&quot;</span>&gt;</span></span><br><span class="line">        select * from db.tb_brand where id = #&#123;id&#125;;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å¸¦å¤šä¸ªå˜é‡çš„SQLè¯­å¥"><a href="#å¸¦å¤šä¸ªå˜é‡çš„SQLè¯­å¥" class="headerlink" title="å¸¦å¤šä¸ªå˜é‡çš„SQLè¯­å¥"></a>å¸¦å¤šä¸ªå˜é‡çš„SQLè¯­å¥</h4><p>åœ¨å®é™…å¼€å‘ä¸­æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°å¤šæ¡ä»¶æŸ¥è¯¢çš„ä¸šåŠ¡æƒ…å†µï¼Œåœ¨ä½¿ç”¨Mapperä»£ç†çš„å‰æä¸‹è®¾ç½®å¤šä¸ªå‚æ•°æœ‰å¦‚ä¸‹ä¸‰ç§æ–¹æ³•ï¼š</p><ol><li>æ•£è£…å‚æ•°ï¼šéœ€è¦ä½¿ç”¨<code>@Param(&quot;SQLä¸­çš„å ä½ç¬¦åç§°&quot;)</code></li><li>å®ä½“ç±»å°è£…å‚æ•°ï¼šåªéœ€è¦ä¿è¯SQLä¸­å ä½ç¬¦åç§°ä¸å®ä½“ç±»å±æ€§åç§°å¯¹åº”ä¸Šå³å¯è®¾ç½®æˆåŠŸï¼›</li><li>mapé›†åˆï¼šä¿è¯SQLä¸­å ä½ç¬¦åç§°ä¸mapé›†åˆçš„é”®åç§°å¯¹ä¸Šï¼Œå³å¯è®¾ç½®æˆåŠŸã€‚</li></ol><h2 id="åŠ¨æ€SQL"><a href="#åŠ¨æ€SQL" class="headerlink" title="åŠ¨æ€SQL"></a>åŠ¨æ€SQL</h2><p>åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šå‡ºç°åŠ¨æ€æ¡ä»¶æŸ¥è¯¢çš„é—®é¢˜ï¼Œå‡å¦‚è¯´ä¸ºäº†æ¯ä¸€ç§å¯èƒ½çš„æ¡ä»¶å†™ä¸€æ¡SQLè¯­å¥æ˜¯éå¸¸ç¹ççš„ï¼Œå› æ­¤ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒMyBatisé€šè¿‡ä¸€äº›ç‰¹å®šçš„æ ‡ç­¾å®ç°äº†åŠ¨æ€SQLçš„åŠŸèƒ½ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¤šæ¡ä»¶åŠ¨æ€æŸ¥è¯¢ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByMul&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;brandResultMap&quot;</span>&gt;</span></span><br><span class="line">        select * from db.tb_brand</span><br><span class="line">        <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;brandName != null and brandName != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                and brand_name like #&#123;brandName&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;companyName != null and companyName != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                and company_name like #&#123;companyName&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;status != null&quot;</span>&gt;</span></span><br><span class="line">                and status = #&#123;status&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å•æ¡ä»¶åŠ¨æ€æŸ¥è¯¢ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findActiveBlogLike&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">resultType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">  SELECT * FROM BLOG WHERE state = â€˜ACTIVEâ€™</span><br><span class="line">  <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">      AND title like #&#123;title&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;author != null and author.name != null&quot;</span>&gt;</span></span><br><span class="line">      AND author_name like #&#123;author.name&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">otherwise</span>&gt;</span></span><br><span class="line">      AND featured = 1</span><br><span class="line">   <span class="tag">&lt;/<span class="name">otherwise</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Computer Science </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDBCæ“ä½œæ•°æ®åº“</title>
      <link href="/2023/03/08/JDBC%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
      <url>/2023/03/08/JDBC%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<h2 id="JDBCç®€ä»‹"><a href="#JDBCç®€ä»‹" class="headerlink" title="JDBCç®€ä»‹"></a>JDBCç®€ä»‹</h2><p>JDBCæ˜¯ä½¿ç”¨Javaæ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ä¸€å¥—APIã€‚åŸåˆ™ä¸Šæ¥è¯´åªéœ€è¦åˆ©ç”¨JDBCæä¾›çš„æ¥å£å°±å¯ä»¥å®ç°å¯¹æ‰€æœ‰å…³ç³»æ•°æ®åº“çš„æ“ä½œï¼Œè€Œä¸ç”¨ä¿®æ”¹Javaä»£ç ï¼Œåªéœ€åœ¨æ›¿æ¢åº•å±‚æ•°æ®åº“æ—¶æ›¿æ¢å¯¹åº”æ•°æ®åº“çš„é©±åŠ¨(jaråŒ…)å³å¯ã€‚</p><p>ä¸‹é¢æ˜¯å¯¹JDBCä¸­APIçš„ä»‹ç»ã€‚</p><h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><p>è¿™éƒ¨åˆ†æ˜¯å¯¹JDBCä¸­çš„ä¸€äº›APIçš„è¯´æ˜ä»¥åŠç¤ºä¾‹ä»£ç ã€‚</p><div class="tabs" id="api"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#api-1">DriverManager</button></li><li class="tab"><button type="button" data-href="#api-2">Connection</button></li><li class="tab"><button type="button" data-href="#api-3">Statement</button></li><li class="tab"><button type="button" data-href="#api-4">ResultSet</button></li><li class="tab"><button type="button" data-href="#api-5">PrepareStatement</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="api-1"><p><code>DriverManager</code>ç±»éœ€è¦æ³¨æ„çš„æ˜¯ä¸¤ä¸ªåŠŸèƒ½ï¼šä¸€æ˜¯æ³¨å†Œé©±åŠ¨ï¼ŒäºŒæ˜¯è·å–è¿æ¥ã€‚</p><p>é¦–å…ˆæ˜¯æ³¨å†Œé©±åŠ¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ä»¥ä¸‹ä»£ç æ³¨å†Œé©±åŠ¨</span></span><br><span class="line">    Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹ä¸ºDriverç±»æºç ä¸­çš„ä¸€å—é™æ€ä»£ç å—, é€šè¿‡è°ƒç”¨DriverManagerçš„registerDriveræ–¹æ³•æ¥æ³¨å†Œé©±åŠ¨</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            DriverManager.registerDriver(<span class="keyword">new</span> <span class="title class_">Driver</span>());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException var1) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Can&#x27;t register driver!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><blockquote><p>MySQL 5ä¹‹åçš„é©±åŠ¨åŒ…å¯ä»¥çœç•¥æ³¨å†Œé©±åŠ¨çš„æ­¥éª¤</p></blockquote><p>ç„¶åæ˜¯è·å–è¿æ¥ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* å‚æ•°è§£é‡Š  </span></span><br><span class="line"><span class="comment">* urlï¼š</span></span><br><span class="line"><span class="comment">*   è¯­æ³•ï¼šjdbc:mysql://ipåœ°å€(åŸŸå):ç«¯å£å·/æ•°æ®åº“åç§°?é”®å€¼å¯¹1&amp;é”®å€¼å¯¹2...</span></span><br><span class="line"><span class="comment">*   å®ä¾‹ï¼šjdbc:mysql://localhost:3306/db1</span></span><br><span class="line"><span class="comment">*   è§£é‡Šï¼šå¦‚æœè¿æ¥çš„æ˜¯æœ¬æœºçš„mysqlæœåŠ¡å™¨ï¼Œå¹¶ä¸”mysqlæœåŠ¡å™¨é»˜è®¤ç«¯å£æ˜¯3306åˆ™url</span></span><br><span class="line"><span class="comment">*   å¯ä»¥ç®€å†™ä¸ºï¼šjdbc:mysql:///æ•°æ®åº“åç§°?å‚æ•°é”®å€¼å¯¹</span></span><br><span class="line"><span class="comment">*   é…ç½®useSSL = false å‚æ•°ï¼Œç¦ç”¨å®‰å…¨è¿æ¥æ–¹å¼ï¼Œè§£å†³è­¦å‘Šæç¤º</span></span><br><span class="line"><span class="comment">* userï¼šç”¨æˆ·å</span></span><br><span class="line"><span class="comment">* passwordï¼šå¯†ç </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">static</span> Connection <span class="title function_">getConnection</span><span class="params">(String url, String username, String password)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="api-2"><p><code>Connection</code>ç±»(æ•°æ®åº“è¿æ¥å¯¹è±¡)çš„ä¸»è¦ä½œç”¨æ˜¯è·å–æ‰§è¡ŒSQLè¯­å¥çš„å¯¹è±¡å’Œç®¡ç†å®åŠ¡ã€‚</p><p>è·å–æ‰§è¡ŒSQLçš„å¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ™®é€šæ‰§è¡ŒSQLå¯¹è±¡</span></span><br><span class="line">Statement <span class="title function_">createStatement</span><span class="params">()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢„ç¼–è¯‘SQLçš„æ‰§è¡ŒSQLå¯¹è±¡ï¼šé˜²æ­¢SQLæ³¨å…¥</span></span><br><span class="line">PreparedStatement <span class="title function_">prepareStatement</span><span class="params">(sql)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹çš„å¯¹è±¡</span></span><br><span class="line">CallableStatement <span class="title function_">prepareCall</span><span class="params">(sql)</span></span><br></pre></td></tr></table></figure><p>äº‹åŠ¡ç®¡ç†ï¼š</p><ul><li>mysqläº‹åŠ¡ç®¡ç†ï¼š<ul><li>å¼€å¯äº‹åŠ¡ï¼šBEGIN; / START TRANSACTION;</li><li>æäº¤äº‹åŠ¡ï¼šCOMMIT;</li><li>å›æ»šäº‹åŠ¡ï¼šROLLBACK;</li></ul></li></ul><p>mysqlé»˜è®¤è‡ªåŠ¨æäº¤äº‹åŠ¡</p><ul><li>JDBCäº‹åŠ¡ç®¡ç†ï¼šConnectionæ¥å£ä¸­å®šä¹‰äº†ä¸‰ä¸ªå¯¹åº”çš„æ–¹æ³•<ul><li>å¼€å¯äº‹åŠ¡ï¼š<code>setAutoCommit(boolean autoCommit)</code>ï¼štrueä¸ºè‡ªåŠ¨æäº¤æœåŠ¡ï¼›falseä¸ºæ‰‹åŠ¨æäº¤æœåŠ¡ï¼Œå³å¼€å¯äº‹åŠ¡</li><li>æäº¤äº‹åŠ¡ï¼š<code>commit()</code></li><li>å›æ»šäº‹åŠ¡ï¼š<code>rollback()</code></li></ul></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="api-3"><p><code>Statement</code>ç±»çš„ä½œç”¨å°±æ˜¯æ‰§è¡ŒSQLè¯­å¥ã€‚</p><blockquote><p>è¡¥å……ä¸€ä¸‹ï¼ŒSQLè¯­å¥æœ‰å¦‚ä¸‹3ç§ï¼š</p><ul><li>DDLï¼šå¯¹åº“å’Œè¡¨è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„æ“ä½œ</li><li>DQLï¼šå¯¹æ•°æ®çš„æŸ¥è¯¢æ“ä½œ</li><li>DMLï¼šå¯¹æ•°æ®çš„å¢åˆ æ”¹æ“ä½œ</li></ul></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* æè¿°ï¼šæ‰§è¡ŒDMLã€DDLè¯­å¥</span></span><br><span class="line"><span class="comment">* è¿”å›å€¼ï¼š1. DMLè¯­å¥å½±å“çš„è¡Œæ•°ï¼›2.DDLè¯­å¥æ‰§è¡Œåï¼Œæ‰§è¡ŒæˆåŠŸå¯èƒ½è¿”å›0</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">executeUpdate</span><span class="params">(sql)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æè¿°ï¼šæ‰§è¡ŒDQLè¯­å¥</span></span><br><span class="line"><span class="comment">* è¿”å›å€¼ï¼šResultSetç»“æœé›†å¯¹è±¡</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line">ResultSet <span class="title function_">executeQuery</span><span class="params">(sql)</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="api-4"><p><code>ResultSet</code>ç»“æœå¯¹è±¡é›†çš„ä½œç”¨æ˜¯å­˜å‚¨äº†DQLæŸ¥è¯¢è¯­å¥è¿”å›çš„æŸ¥è¯¢ç»“æœçš„é›†åˆï¼Œè¯¥ç±»å°è£…äº†å¦‚ä¸‹æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æè¿°ï¼šç§»åŠ¨ç»“æœå¯¹è±¡é›†çš„æŒ‡é’ˆä½¿ä¹‹æŒ‡å‘ä¸‹ä¸€ä¸ªç»“æœå¹¶ä¸”è¿”å›ä¸€ä¸ªbooleanå€¼ã€‚</span></span><br><span class="line"><span class="comment">* è¿”å›å€¼ï¼šfalseè¡¨ç¤ºç»“æœæ— æ•ˆï¼Œtrueè¡¨ç¤ºç»“æœæœ‰æ•ˆ</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">next</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æè¿°ï¼šä»å½“å‰ç»“æœè¡Œä¸­è·å–paramæ‰€åœ¨åˆ—çš„æ•°æ®ï¼Œxxxä¸ºæ•°æ®ç±»å‹(int,string...)</span></span><br><span class="line"><span class="comment">* å‚æ•°ï¼šparamæœ‰ä¸¤ç§å–å€¼ï¼šint or stringï¼Œå…¶ä¸­intä»1å¼€å§‹</span></span><br><span class="line"><span class="comment">* è¿”å›å€¼ï¼šç»“æœè¡Œä¸­paramå¯¹åº”åˆ—çš„å€¼ã€‚</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">xxx <span class="title function_">getXxx</span><span class="params">(param)</span>;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="api-5"><p><code>PreparedStatement</code>ç»§æ‰¿è‡ª<code>Statement</code>å¯¹è±¡ï¼Œç”¨äºæ‰§è¡Œé¢„ç¼–è¯‘çš„SQLè¯­å¥ï¼Œä»¥è¾¾åˆ°é¢„é˜²SQLæ³¨å…¥çš„é—®é¢˜ã€‚</p><p><code>PrepareStatement</code>ä½¿ç”¨å‚ç…§ä»¥ä¸‹æ•£å¸ƒå–µ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// sqlè¯­å¥ä¸­çš„å‚æ•°å€¼ä½¿ç”¨å ä½ç¬¦?æ›¿ä»£</span></span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from tableName where name = ? and password = ?&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–PrepareStatementå¯¹è±¡ï¼›</span></span><br><span class="line"><span class="type">PrepareStatement</span> <span class="variable">pstmt</span> <span class="operator">=</span> conn.prepareStatement(sql);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®å ä½ç¬¦æ‰€åœ¨çš„æ•°æ®</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æè¿°ï¼šä¸ºå ä½ç¬¦æ‰€åœ¨çš„è®¾ç½®å¯¹åº”ç±»å‹çš„å‚æ•°</span></span><br><span class="line"><span class="comment">* å‚æ•°æè¿°ï¼šparam1è¡¨ç¤º?çš„ä½ç½®(1,2,...);param2è¡¨ç¤ºè®¾ç½®çš„å‚æ•°çš„å€¼ï¼›</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">pstmt.setXXX(param1, param2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡ŒSQLè¯­å¥ï¼Œæ ¹æ®è¯­å¥ç±»å‹äºŒé€‰ä¸€å³å¯</span></span><br><span class="line"><span class="type">ResultSet</span> <span class="variable">result</span> <span class="operator">=</span> pstmt.excuteQuery();</span><br><span class="line"><span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> pstmt.excuteUpdate();</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="æ•°æ®åº“è¿æ¥æ± "><a href="#æ•°æ®åº“è¿æ¥æ± " class="headerlink" title="æ•°æ®åº“è¿æ¥æ± "></a>æ•°æ®åº“è¿æ¥æ± </h2><p>æ•°æ®åº“è¿æ¥æ± æ˜¯ä¸€ä¸ªç”¨æ¥ç®¡ç†å’Œåˆ†é…æ•°æ®åº“è¿æ¥çš„å®¹å™¨ã€‚</p><p>åœ¨ä¹‹å‰çš„ç¼–ç ä¸­ï¼Œæˆ‘ä»¬æ¯ä¸€æ¬¡å¯¹æ•°æ®åº“çš„æ“ä½œéƒ½æ¶‰åŠå¯¹æ•°æ®åº“çš„è¿æ¥å’Œé‡Šæ”¾è¿æ¥çš„æ“ä½œï¼›äº‹å®ä¸Šå»ºç«‹æ•°æ®åº“è¿æ¥éœ€è¦æ¶ˆè€—è®¸å¤šèµ„æºï¼Œä¸ºäº†å‡å°‘èµ„æºæ¶ˆè€—ï¼Œæé«˜æ•ˆç‡ï¼Œæˆ‘ä»¬éœ€è¦æ•°æ®åº“è¿æ¥æ± æŠ€æœ¯å®ç°å¯¹æ•°æ®åº“è¿æ¥èµ„æºçš„ç®¡ç†å’Œåˆ†é…ï¼Œå…¶æœ‰ç€å¦‚ä¸‹çš„å¥½å¤„ï¼š</p><ul><li>èµ„æºé‡ç”¨</li><li>æé«˜ç³»ç»Ÿçš„å“åº”é€Ÿåº¦</li><li>é¿å…æ•°æ®åº“çš„è¿æ¥é—æ¼</li></ul><p>ä»¥ä¸‹ä¸æ•°æ®åº“è¿æ¥æ± ç›¸å…³çš„ä»£ç éƒ½æ˜¯ä½¿ç”¨çš„é˜¿é‡Œçš„<a href="https://github.com/alibaba/druid">Druid</a>ï¼Œç®—æ˜¯æ€§èƒ½æœ€å¥½çš„æ•°æ®åº“è¿æ¥æ± é¡¹ç›®äº†ã€‚</p><h3 id="API-1"><a href="#API-1" class="headerlink" title="API"></a>API</h3>]]></content>
      
      
      <categories>
          
          <category> Computer Science </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ’åºç®—æ³•</title>
      <link href="/2023/01/16/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
      <url>/2023/01/16/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>æœ¬ç¯‡è®°å½•æˆ‘åœ¨å­¦ä¹ æ’åºç®—æ³•è¿‡ç¨‹ä¸­çš„ä¸€äº›ç¬”è®°ï¼Œçœ‹ä¸ªä¹å°±è¡Œã€‚</p><h2 id="é€‰æ‹©æ’åº-Selection-Sort"><a href="#é€‰æ‹©æ’åº-Selection-Sort" class="headerlink" title="é€‰æ‹©æ’åº(Selection Sort)"></a>é€‰æ‹©æ’åº(Selection Sort)</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>åŸºæœ¬æ€æƒ³æ˜¯åœ¨æœªæ’åºçš„æ•°åˆ—ä¸­æ‰¾åˆ°æœ€å°(æœ€å¤§)çš„å…ƒç´ ï¼Œç„¶åå°†å…¶æ”¾åœ¨èµ·å§‹ä½ç½®ï¼›ç„¶ååœ¨å‰©ä½™çš„æœªæ’åºçš„æ•°åˆ—ä¸­å¯»æ‰¾æœ€å°(æœ€å¤§)çš„å…ƒç´ ï¼Œç„¶åå°†å…¶æ”¾åœ¨å·²æ’åºæ•°åˆ—çš„åé¢ã€‚</p><h3 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h3><div class="tabs" id="note"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#note-1">python</button></li><li class="tab"><button type="button" data-href="#note-2">C++</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="note-1"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">selection_sort</span>(<span class="params">num</span>):</span><br><span class="line">    length = <span class="built_in">len</span>(num)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length - <span class="number">1</span>):</span><br><span class="line">        min_index = i</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i + <span class="number">1</span>, length):</span><br><span class="line">            <span class="keyword">if</span> num[min_index] &gt; num[j]:</span><br><span class="line">                min_index = j</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">        num[min_index], num[i] = num[i], num[min_index]</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> num</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-2"><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…ˆå’•äº†</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="ç®—æ³•å¤æ‚åº¦è®¡ç®—"><a href="#ç®—æ³•å¤æ‚åº¦è®¡ç®—" class="headerlink" title="ç®—æ³•å¤æ‚åº¦è®¡ç®—"></a>ç®—æ³•å¤æ‚åº¦è®¡ç®—</h3><h2 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h2><h2 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h2>]]></content>
      
      
      <categories>
          
          <category> algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Djangoå­¦ä¹ ç¬”è®°</title>
      <link href="/2022/10/18/Django%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2022/10/18/Django%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<div class="note info simple"><p>æœ¬æ–‡ç« åªæ˜¯è®°å½•ä¸€ä¸‹å­¦ä¹ Djangoåç«¯æ¡†æ¶æ—¶æ‰€åšçš„ä¸€äº›ç¬”è®°,çœ‹ä¸ªä¹å°±è¡ŒğŸ¥°</p></div><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p><del>å’•å’•å’•ğŸ˜¤ğŸ˜¤ğŸ˜¤</del></p><h1 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h1><h2 id="æ–°å»ºdjangoé¡¹ç›®"><a href="#æ–°å»ºdjangoé¡¹ç›®" class="headerlink" title="æ–°å»ºdjangoé¡¹ç›®"></a>æ–°å»ºdjangoé¡¹ç›®</h2><p>åœ¨è¿™é‡Œä¸»è¦ä»‹ç»ä¸¤ç§æ–¹æ³•: </p><ul><li>å‘½ä»¤è¡Œåˆ›å»º: <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">django-admin startproject [project_name]  # æ–°å»ºé¡¹ç›®</span><br><span class="line">cd [project_name]</span><br><span class="line">python manage.py startapp [app_name]      # æ–°å»ºapp, ä¸€èˆ¬æ¥è¯´ä¸€ä¸ªappéƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ¨¡å—, å®Œæˆä¸€ç»„ä»»åŠ¡</span><br></pre></td></tr></table></figure></li><li>ä½¿ç”¨Pycharmåˆ›å»ºé¡¹ç›®: æ²¡å•¥å¥½è¯´çš„, ç›´æ¥é¼ æ ‡ç‚¹ç‚¹ç‚¹å°±å®Œäº‹äº†ã€‚<del>JetBrainså…¨å®¶æ¡¶ç¡®å®å¥½ç”¨</del></li></ul><h2 id="djangoé¡¹ç›®ç»“æ„"><a href="#djangoé¡¹ç›®ç»“æ„" class="headerlink" title="djangoé¡¹ç›®ç»“æ„"></a>djangoé¡¹ç›®ç»“æ„</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[project_name]</span><br><span class="line">    â”‚</span><br><span class="line">    â”œâ”€manage.py</span><br><span class="line">    â”œâ”€[project_name]</span><br><span class="line">    â”‚       â”œâ”€__init__.py</span><br><span class="line">    â”‚       â”œâ”€settings.py</span><br><span class="line">    â”‚       â”œâ”€asig.py</span><br><span class="line">    â”‚       â”œâ”€wsig.py</span><br><span class="line">    â”‚       â””â”€urls.py</span><br><span class="line">    â”œâ”€[app_name] # ä¸€ä¸ªé¡¹ç›®å¯ä»¥æœ‰å¤šä¸ªapp</span><br><span class="line">    â”‚     â”œâ”€migrations</span><br><span class="line">   ...    â”œâ”€__init__.py</span><br><span class="line">          â”œâ”€models.py</span><br><span class="line">          â”œâ”€apps.py</span><br><span class="line">          â”œâ”€views.py</span><br><span class="line">          â”œâ”€tests.py</span><br><span class="line">          â””â”€admin.py</span><br></pre></td></tr></table></figure><h3 id="å„ä¸ªé¡¹ç›®æ–‡ä»¶çš„ä½œç”¨"><a href="#å„ä¸ªé¡¹ç›®æ–‡ä»¶çš„ä½œç”¨" class="headerlink" title="å„ä¸ªé¡¹ç›®æ–‡ä»¶çš„ä½œç”¨"></a>å„ä¸ªé¡¹ç›®æ–‡ä»¶çš„ä½œç”¨</h3><ul><li>project_name: <ul><li><code>__init__.py</code>: </li><li><code>settings.py</code>: å¯¹æ•°æ®åº“,åº”ç”¨ç­‰è¿›è¡Œæ·»åŠ å’Œè®¾ç½®</li><li><code>asig.py</code>: </li><li><code>wsig.py</code>: </li><li><code>urls.py</code>: æ·»åŠ URLåŠå¯¹åº”URLä¸‹çš„å‡½æ•°</li></ul></li><li>app_name: <ul><li><code>migrations</code>: </li><li><code>__init__.py</code>: </li><li><code>models.py</code>: å»ºç«‹æ•°æ®åº“è¡¨ä¸­éœ€æ±‚æ‰€éœ€è¦çš„è¡¨å’Œå±æ€§</li><li><code>apps.py</code>: ä½œç”¨åŸŸä¸ºæ‰€å±åº”ç”¨è€Œéå…¨å±€,åˆ©ç”¨configåœ¨<code>settings.py</code>ä¸­æ³¨å†Œä½¿å¾—åº”ç”¨åœ¨é¡¹ç›®ä¸­å¯è§</li><li><code>views.py</code>: åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ç¼–å†™æ‰€æœ‰çš„è¯·æ±‚å¤„ç†å‡½æ•°</li><li><code>tests.py</code>: ç”¨äºå†™æµ‹è¯•ä»£ç , æ–¹ä¾¿æµ‹è¯•</li><li><code>admin.py</code>: åœ¨adminé¡µé¢æ³¨å†Œmodel, æ–¹ä¾¿ç®¡ç†è‡ªå¸¦æ•°æ®åº“(ä¸ä½¿ç”¨è‡ªå¸¦æ•°æ®åº“çš„å¯ä»¥å¿½ç•¥)</li></ul></li></ul><h2 id="ç¼–å†™ä»£ç "><a href="#ç¼–å†™ä»£ç " class="headerlink" title="ç¼–å†™ä»£ç "></a>ç¼–å†™ä»£ç </h2><div class="note info simple"><p>è¿™ä¸€éƒ¨åˆ†ä»‹ç»Djangoæ¡†æ¶å»ºè¡¨ã€è¯·æ±‚å¤„ç†å‡½æ•°ç¼–å†™è¿‡ç¨‹ä¸­çš„ä¸€äº›åŸºç¡€ç‚¹, é™„å¸¦æ¨¡æ¿å‚è€ƒ</p></div><h3 id="å»ºè¡¨ç›¸å…³"><a href="#å»ºè¡¨ç›¸å…³" class="headerlink" title="å»ºè¡¨ç›¸å…³"></a>å»ºè¡¨ç›¸å…³</h3><div class="note success simple"><p>è¿™éƒ¨åˆ†ä¸»è¦æ˜¯åœ¨models.pyä¸­è¿›è¡Œç¼–ç </p></div><h4 id="Djangoä¸­Modelçš„æ•°æ®ç±»å‹"><a href="#Djangoä¸­Modelçš„æ•°æ®ç±»å‹" class="headerlink" title="Djangoä¸­Modelçš„æ•°æ®ç±»å‹"></a>Djangoä¸­Modelçš„æ•°æ®ç±»å‹</h4><p>å®šä¹‰å±æ€§æ—¶éœ€è¦æŒ‡å®šå­—æ®µçš„æ•°æ®ç±»å‹, å…·ä½“æ¨¡æ¿å¦‚ä¸‹:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var = models.TypeField(Options)</span><br></pre></td></tr></table></figure><p>å­—æ®µæ•°æ®ç±»å‹(TypeField)ä¸æ•°æ®åº“æ•°æ®ç±»å‹ç›¸å¯¹åº”: </p><ol><li>AutoField<ul><li>è§£é‡Š: æ ¹æ®IDè‡ªå¢é•¿çš„IntegerFieldå­—æ®µã€‚é€šå¸¸ç”¨äºä¸»é”®IDï¼Œæ— éœ€ä½¿ç”¨</li></ul></li><li>IntegerField<ul><li>è§£é‡Š: 32ä½æ•´æ•°ï¼Œå¯è‡ªå®šä¹‰é€‰é¡¹</li></ul></li><li>BooleanField<ul><li>è§£é‡Š: ä¸€ä¸ªå¸ƒå°”å€¼(true/false)å­—æ®µ</li></ul></li><li>CharField<ul><li>è§£é‡Š: ä¸€ä¸ªå­—ç¬¦ä¸²å­—æ®µï¼Œå¯¹å°å­—ç¬¦ä¸²å’Œå¤§å­—ç¬¦ä¸²éƒ½é€‚ç”¨ã€‚å¯¹äºå¤§é‡æ–‡æœ¬å»ºè®®ä½¿ç”¨TextFieldã€‚<br>å¿…é¡»å‚æ•°ï¼šmax_length,å­—æ®µçš„æœ€å¤§å­—ç¬¦æ•°ã€‚</li></ul></li><li>DateField<ul><li>è§£é‡Š: åˆ©ç”¨ Python çš„ datetime.date å®ä¾‹æ¥è¡¨ç¤ºæ—¥æœŸã€‚<br>å¯é€‰å‚æ•°DateField.auto_nowï¼šæ¯ä¸€æ¬¡ä¿å­˜å¯¹è±¡æ—¶ï¼ŒDjango éƒ½ä¼šè‡ªåŠ¨å°†è¯¥å­—æ®µçš„å€¼è®¾ç½®ä¸ºå½“å‰æ—¶é—´ã€‚ä¸€èˆ¬ç”¨æ¥è¡¨ç¤º â€œæœ€åä¿®æ”¹â€ æ—¶é—´ã€‚<br>å¯é€‰å‚æ•°DateField.auto_now_addï¼šåœ¨ç¬¬ä¸€æ¬¡åˆ›å»ºå¯¹è±¡æ—¶ï¼ŒDjango è‡ªåŠ¨å°†è¯¥å­—æ®µçš„å€¼è®¾ç½®ä¸ºå½“å‰æ—¶é—´ï¼Œä¸€èˆ¬ç”¨æ¥è¡¨ç¤ºå¯¹è±¡åˆ›å»ºæ—¶é—´ã€‚</li></ul></li><li>DateTimeField<ul><li>è§£é‡Š: åˆ©ç”¨ datetime.datetime å®ä¾‹è¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´ã€‚è¯¥å­—æ®µæ‰€æŒ‰å—çš„å‚æ•°å’Œ DateField ä¸€æ ·</li></ul></li><li>DecimalField<ul><li>è§£é‡Š: ä½¿ç”¨ Decimal å®ä¾‹è¡¨ç¤ºå›ºå®šç²¾åº¦çš„åè¿›åˆ¶æ•°çš„å­—æ®µã€‚<br>å¿…é¡»å‚æ•°DecimalField.max_digitsï¼šæ•°å­—å…è®¸çš„æœ€å¤§ä½æ•°<br>å¿…é¡»å‚æ•°DecimalField.decimal_placesï¼šå°æ•°çš„æœ€å¤§ä½æ•°</li></ul></li><li>EmailField<ul><li>è§£é‡Š: å¯ä»¥çœ‹åšå¸¦æœ‰ email åˆæ³•æ€§æ£€æµ‹çš„CharField ã€‚<br>é»˜è®¤max_length=75</li></ul></li><li>TextField<ul><li>è§£é‡Š: è¶…å¤§æ–‡æœ¬å­—æ®µ</li></ul></li><li>FileField<ul><li>è§£é‡Š: æ–‡ä»¶å­—æ®µ</li></ul></li><li>ImageField<ul><li>è§£é‡Š: ç»§æ‰¿äºFileFieldï¼Œç¡®ä¿æ˜¯æœ‰æ•ˆå›¾ç‰‡</li></ul></li></ol><h4 id="Djangoä¸­Modelä¸­çš„å­—æ®µé€‰é¡¹"><a href="#Djangoä¸­Modelä¸­çš„å­—æ®µé€‰é¡¹" class="headerlink" title="Djangoä¸­Modelä¸­çš„å­—æ®µé€‰é¡¹"></a>Djangoä¸­Modelä¸­çš„å­—æ®µé€‰é¡¹</h4><p>å­—æ®µé€‰é¡¹(Options):</p><ol><li><code>null</code>: å¦‚æœä¸º<code>True</code>, è¡¨ç¤ºå…è®¸ä¸ºç©º, é»˜è®¤å€¼ä¸º<code>False</code></li><li><code>blank</code>: å¦‚æœä¸º<code>True</code>, åˆ™è¯¥å­—æ®µå…è®¸ä¸ºç©ºç™½,é»˜è®¤å€¼ä¸º<code>False</code></li><li><code>db_colunm</code>: å­—æ®µåç§°, è‹¥æœªæŒ‡å®š,åˆ™é»˜è®¤ä¸º<code>var</code></li><li><code>db_index</code>: å¦‚æœä¸º<code>True</code>, åˆ™åœ¨è¡¨ä¸­ä¼šè®®æ­¤å­—æ®µåˆ›å»ºç´¢å¼•, é»˜è®¤å€¼ä¸º<code>False</code></li><li><code>default</code>: è®¾ç½®é»˜è®¤å€¼</li><li><code>primary_key</code>: å¦‚æœä¸º<code>True</code>, åˆ™è¯¥å­—æ®µä¼šæˆä¸ºæ¨¡å‹çš„ä¸»é”®å­—æ®µ,é»˜è®¤å€¼ä¸º<code>False</code>, ä¸€èˆ¬ä½œä¸ºAutoFieldçš„é€‰é¡¹ä½¿ç”¨, <del>å½“ç„¶æŠŠå…¶å®ƒå­—æ®µè®¾ç½®ä¸ºä¸»é”®ä¹Ÿä¸æ˜¯ä¸è¡Œ</del></li><li><code>unique</code>: å¦‚æœä¸º<code>True</code>, è¿™ä¸ªå­—æ®µåœ¨è¡¨ä¸­å¿…é¡»æœ‰å”¯ä¸€å€¼, é»˜è®¤å€¼æ˜¯<code>False</code></li></ol><div class="note warning simple"><p>nullæ˜¯æ•°æ®åº“èŒƒç•´çš„æ¦‚å¿µ, blankæ˜¯è¡¨å•éªŒè¯èŒƒç•´çš„ <del>ps.å…¶å®æˆ‘ä¹Ÿæš‚æ—¶æ²¡å¼„æ¸…æ¥š, ä¸Šå­¦æœŸæ•°æ®åº“æ‘¸äº†ğŸ¤£</del></p></div><h4 id="å¤–é”®"><a href="#å¤–é”®" class="headerlink" title="å¤–é”®"></a>å¤–é”®</h4><p>åœ¨è®¾ç½®<strong>å¤–é”®</strong>æ—¶, éœ€è¦é€šè¿‡è®¾ç½®on_deleteé€‰é¡¹æ¥æŒ‡æ˜å¤–é”®å¼•ç”¨è¡¨æ•°æ®å¦‚ä½•å¤„ç†, åœ¨django.db.modelsä¸­åŒ…å«äº†ä»¥ä¸‹å¯é€‰å¸¸é‡:</p><ul><li><code>CASCADE</code>: çº§è”, åˆ é™¤ä¸»è¡¨æ•°æ®æ—¶è¿åŒåˆ é™¤å¤–é”®è¡¨ä¸­çš„æ•°æ®</li><li><code>PROTECT</code>: ä¿æŠ¤, é€šè¿‡æŠ›å‡º<code>ProtectedError</code>å¼‚å¸¸æ¥é˜»æ­¢åˆ é™¤ä¸»è¡¨ä¸­è¢«å¤–é”®åº”ç”¨çš„æ•°æ®</li><li><code>SET_NULL</code>: å¤–é”®å¼•ç”¨è¡¨æ•°æ®è®¾ç½®ä¸ºNULL, ä»…åœ¨è¯¥å­—æ®µ<code>null=True</code>æ—¶æ‰èƒ½ä½¿ç”¨</li><li><code>SET_DEFAULT</code>: è®¾ç½®ä¸ºé»˜è®¤å€¼ï¼Œä»…åœ¨è¯¥å­—æ®µè®¾ç½®äº†é»˜è®¤å€¼æ—¶å¯ç”¨</li><li><code>SET()</code>: è®¾ç½®ä¸ºç‰¹å®šå€¼æˆ–è€…è°ƒç”¨ç‰¹å®šæ–¹æ³•</li><li><code>DO_NOTHING</code>: ä¸åšä»»ä½•æ“ä½œ, å¦‚æœæ•°æ®åº“å‰ç½®æŒ‡æ˜çº§è”æ€§, æ­¤é€‰é¡¹ä¼šæŠ›å‡º<code>IntegrityError</code></li></ul><h2 id="é¡¹ç›®è¿è¡Œ"><a href="#é¡¹ç›®è¿è¡Œ" class="headerlink" title="é¡¹ç›®è¿è¡Œ"></a>é¡¹ç›®è¿è¡Œ</h2><p>ä½¿ç”¨æŒ‡ä»¤è¿è¡Œé¡¹ç›®, è¿™äº›æŒ‡ä»¤éƒ½æ˜¯åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹çš„<code>terminal</code>è¾“å…¥:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br><span class="line">python manage.py migrate      # å‰ä¸¤æ­¥æ˜¯ç›¸å½“äºå»ºè¡¨</span><br><span class="line">python manage.py runserver    # å®æµ‹è¿™ä¸€æ­¥ç­‰ä»·äºç‚¹å‡»Pycharmçš„è¿è¡Œ</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> Django </tag>
            
            <tag> SQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Shellç¼–ç¨‹å­¦ä¹ ç¬”è®°</title>
      <link href="/2022/09/28/Shell%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2022/09/28/Shell%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<div class="note info modern"><p>æœ¬åšå®¢åªæ˜¯è®°å½•äº†ä¸€äº›Shellå­¦ä¹ çš„ä¸€äº›ç¬”è®°, çœ‹ä¸ªä¹å°±è¡ŒğŸ¤—</p></div><p>Shellå±äºä¸€ä¸ªè„šæœ¬è¯­è¨€, åœ¨å­¦ä¹ äº†Javascriptã€pythonè¿™äº›è„šæœ¬è¯­è¨€ä¹‹åï¼Œå‘ç°è¿™äº›ç©æ„å„¿éƒ½æ˜¯æœ‰ä¸€äº›ç›¸åŒç‚¹çš„, æ¯”å¦‚è¯´ä¸Cè¯­è¨€,Javaè¿™äº›å¼ºç±»å‹è¯­è¨€ä¸åŒ, è„šæœ¬è¯­è¨€åœ¨å˜é‡å®šä¹‰æ–¹é¢ä¸ä¼šè¦æ±‚å£°æ˜å˜é‡çš„ç±»å‹ã€‚</p><h2 id="åŸºç¡€è¯­æ³•"><a href="#åŸºç¡€è¯­æ³•" class="headerlink" title="åŸºç¡€è¯­æ³•"></a>åŸºç¡€è¯­æ³•</h2><ul><li>å˜é‡å®šä¹‰: ä½œä¸ºè„šæœ¬è¯­è¨€, shellçš„å˜é‡å®šä¹‰ä¸éœ€è¦å£°æ˜ç±»å‹, è¿™æ˜¯å˜é‡å®šä¹‰çš„æ ‡å‡†æ ¼å¼<code>varName=varvalue</code></li><li>å˜é‡ä½¿ç”¨: ä½¿ç”¨å˜é‡æ—¶è¦åœ¨å˜é‡åå‰åŠ <code>$</code>, å¹¶ä¸”æœ€å¥½æŠŠå˜é‡åæ”¾åœ¨<code>&#123;&#125;</code>ä¸­, <code>&#123;varName&#125;</code></li><li>åªè¯»å˜é‡: ä½¿ç”¨å…³é”®è¯<code>readonly</code>å¯ä»¥å°†å˜é‡å˜æˆåªè¯»å˜é‡, å…¶å€¼ä¸èƒ½è¢«ä¿®æ”¹</li><li>åˆ é™¤å˜é‡: ä½¿ç”¨å…³é”®è¯<code>unset</code>å¯ä»¥åˆ é™¤å˜é‡</li><li>å­—ç¬¦ä¸²:<ul><li>å•å¼•å·: å•å¼•å·å†…çš„å­—ç¬¦ä¼šåŸæ ·è¾“å‡º, ç¬¦å·ä¸²ä¸­çš„å˜é‡åä¼šæ— æ³•è¢«è¯†åˆ«</li><li>åŒå¼•å·: åŒå¼•å·å†…å¯ä»¥å‡ºç°å˜é‡(ä½¿ç”¨æ—¶éœ€è¦<code>$</code>), ä¸”åŒå¼•å·ä¸­å¯ä»¥å‡ºç°è½¬ä¹‰å­—ç¬¦</li><li>æˆªå–å­ä¸²: <code>$&#123;string:1:4&#125;</code>è¡¨ç¤ºä»<code>string</code>çš„ç¬¬2ä¸ªå­—ç¬¦å¼€å§‹æˆªå–4ä¸ªå­—ç¬¦</li></ul></li><li>æ•°ç»„: <ul><li>å®šä¹‰: <code>array_name=(value0 value1 value2 value3 ... )</code></li><li>èµ‹å€¼: <code>array_name[i]=valuei</code></li><li>è·å–æ•°ç»„æ‰€æœ‰å…ƒç´ : <code>$&#123;array_name[@]&#125;</code></li></ul></li><li>ç®—æ•°è¿ç®—: <code>expr ç®—æœ¯è¿ç®—å¼</code> <mark class="hl-label red">å¯¹äºä¹˜æ³•ç¬¦å·è¦ä½¿ç”¨è½¬ä¹‰ç¬¦</mark> </li><li>å…³ç³»è¿ç®—: <code>[ å…³ç³»è¿ç®—å¼ ]</code> <mark class="hl-label orange">å˜é‡ä¸è¿ç®—ç¬¦ä¹‹é—´è¦æœ‰ç©ºæ ¼</mark> </li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-butterflyæ ‡ç­¾å¤–æŒ‚ä»£ç æ¨¡æ¿</title>
      <link href="/2022/09/26/hexo-butterfly%E6%A0%87%E7%AD%BE%E5%A4%96%E6%8C%82%E4%BB%A3%E7%A0%81%E6%A8%A1%E6%9D%BF/"/>
      <url>/2022/09/26/hexo-butterfly%E6%A0%87%E7%AD%BE%E5%A4%96%E6%8C%82%E4%BB%A3%E7%A0%81%E6%A8%A1%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<h2 id="æ ‡ç­¾å¤–æŒ‚-Tag-Plugins"><a href="#æ ‡ç­¾å¤–æŒ‚-Tag-Plugins" class="headerlink" title="æ ‡ç­¾å¤–æŒ‚ (Tag Plugins)"></a>æ ‡ç­¾å¤–æŒ‚ (Tag Plugins)</h2><div class="note danger modern"><p>æœ¬æ–‡ç« è½¬è½½è‡ª<a href="https://butterfly.js.org/">butterfly</a></p></div><div class="note info modern"><p>æ ‡ç­¾å¤–æŒ‚æ˜¯Hexoç‹¬æœ‰çš„åŠŸèƒ½ï¼Œå¹¶éåŸç”ŸMarkdownæ ¼å¼ã€‚</p><p>ä»¥ä¸‹æ‰€ä»‹ç»çš„å†™æ³•ï¼Œåªé€‚ç”¨äºButterflyä¸»é¢˜ï¼Œç”¨åœ¨å…¶å®ƒä¸»é¢˜ä¸Šä¸ä¼šæœ‰æ•ˆæœğŸ¤—</p></div><div class="note warning modern"><p>æ ‡ç­¾å¤–æŒ‚å¯ä»¥ä¸ºä½ çš„åšå®¢å¸¦æ¥ä¸€äº›é¢å¤–çš„åŠŸèƒ½å’ŒUIæ–¹é¢çš„ç¾åŒ–ï¼Œä½†æ˜¯å…¶ä½¿ç”¨ä¹Ÿæœ‰ä¸€å®šçš„é™åˆ¶ï¼Œä½¿ç”¨æ—¶è¯·ç•™æ„ã€‚</p></div><h3 id="Note-Bootstrap-Callout"><a href="#Note-Bootstrap-Callout" class="headerlink" title="Note (Bootstrap Callout)"></a>Note (Bootstrap Callout)</h3><div class="tabs" id="note"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#note-1">é€šç”¨è®¾ç½®</button></li><li class="tab"><button type="button" data-href="#note-2">æ–¹æ³•ä¸€</button></li><li class="tab"><button type="button" data-href="#note-3">ç”¨æ³•2(è‡ªå®šä¹‰icon)</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="note-1"><p>ç§»æ¤äºnextä¸»é¢˜, å¹¶è¿›è¡Œä¿®æ”¹ã€‚<br>ä¿®æ”¹<code>ä¸»é¢˜é…ç½®æ–‡ä»¶</code><br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># Note tag style values:</span></span><br><span class="line">  <span class="comment">#  - simple    bs-callout old alert style. Default.</span></span><br><span class="line">  <span class="comment">#  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line">  <span class="comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line">  <span class="comment">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">simple</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">border_radius:</span> <span class="number">3</span></span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line">  <span class="attr">light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><br><code>icons</code>å’Œ<code>light_bg_offset</code>åªå¯¹æ–¹æ³•ä¸€ç”Ÿæ•ˆ<br>Noteæ ‡ç­¾å¤–æŒ‚æ‹¥æœ‰ä¸¤ç§ç”¨æ³•</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note [class] [no-icon] [style] %&#125;</span><br><span class="line">Any Content(support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th style="text-align:center">åç§°</th><th style="text-align:center">ç”¨æ³•</th></tr></thead><tbody><tr><td style="text-align:center">class</td><td style="text-align:center">ã€å¯é€‰ã€‘æ ‡ç­¾ï¼Œä¸åŒçš„æ ‡ç­¾æœ‰ä¸åŒçš„é¢œè‰²(default / primary / success / info / warning / danger)</td></tr><tr><td style="text-align:center">no-icon</td><td style="text-align:center">ã€å¯é€‰ã€‘æ ‡ç­¾ï¼Œä¸æ˜¾ç¤ºicon</td></tr><tr><td style="text-align:center">style</td><td style="text-align:center">ã€å¯é€‰ã€‘å¯ä»¥è¦†ç›–é…ç½®ä¸­çš„style(simple / modern / flat / disabled)</td></tr></tbody></table></div><blockquote><p>simple</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note simple %&#125;</span><br><span class="line">é»˜èª æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default simple %&#125;</span><br><span class="line">default æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary simple %&#125;</span><br><span class="line">primary æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success simple %&#125;</span><br><span class="line">success æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info simple %&#125;</span><br><span class="line">info æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning simple %&#125;</span><br><span class="line">warning æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger simple %&#125;</span><br><span class="line">danger æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note simple"><p>é»˜èª æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note default simple"><p>default æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note primary simple"><p>primary æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note success simple"><p>success æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note info simple"><p>info æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note warning simple"><p>warning æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note danger simple"><p>danger æç¤ºå¡Šæ¨™ç±¤</p></div><blockquote><p>modern</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note modern %&#125;</span><br><span class="line">é»˜èª æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default modern %&#125;</span><br><span class="line">default æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary modern %&#125;</span><br><span class="line">primary æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success modern %&#125;</span><br><span class="line">success æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info modern %&#125;</span><br><span class="line">info æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning modern %&#125;</span><br><span class="line">warning æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger modern %&#125;</span><br><span class="line">danger æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note modern"><p>é»˜èª æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note default modern"><p>default æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note primary modern"><p>primary æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note success modern"><p>success æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note info modern"><p>info æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note warning modern"><p>warning æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note danger modern"><p>danger æç¤ºå¡Šæ¨™ç±¤</p></div><blockquote><p>flat</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note flat %&#125;</span><br><span class="line">é»˜èª æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default flat %&#125;</span><br><span class="line">default æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary flat %&#125;</span><br><span class="line">primary æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success flat %&#125;</span><br><span class="line">success æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info flat %&#125;</span><br><span class="line">info æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning flat %&#125;</span><br><span class="line">warning æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger flat %&#125;</span><br><span class="line">danger æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note flat"><p>é»˜èª æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note default flat"><p>default æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note primary flat"><p>primary æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note success flat"><p>success æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note info flat"><p>info æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note warning flat"><p>warning æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note danger flat"><p>danger æç¤ºå¡Šæ¨™ç±¤</p></div><blockquote><p>disabled</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note disabled %&#125;</span><br><span class="line">é»˜èª æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default disabled %&#125;</span><br><span class="line">default æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary disabled %&#125;</span><br><span class="line">primary æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success disabled %&#125;</span><br><span class="line">success æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info disabled %&#125;</span><br><span class="line">info æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning disabled %&#125;</span><br><span class="line">warning æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger disabled %&#125;</span><br><span class="line">danger æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note disabled"><p>é»˜èª æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note default disabled"><p>default æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note primary disabled"><p>primary æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note success disabled"><p>success æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note info disabled"><p>info æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note warning disabled"><p>warning æç¤ºå¡Šæ¨™ç±¤</p></div><div class="note danger disabled"><p>danger æç¤ºå¡Šæ¨™ç±¤</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note [color] [icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th style="text-align:center">åç§°</th><th style="text-align:center">ç”¨æ³•</th></tr></thead><tbody><tr><td style="text-align:center">color</td><td style="text-align:center">ã€å¯é€‰ã€‘é¢œè‰²(default / blue / pink / red / purple /orange / green)</td></tr><tr><td style="text-align:center">icon</td><td style="text-align:center">ã€å¯é€‰ã€‘å¯é…ç½®è‡ªå®šä¹‰icon(åªæ”¯æŒfont awesomeå›¾æ ‡ï¼Œä¹Ÿå¯ä»¥é…ç½®no-icon)</td></tr><tr><td style="text-align:center">style</td><td style="text-align:center">ã€å¯é€‰ã€‘å¯ä»¥è¦†ç›–é…ç½®ä¸­çš„style(simple / modern / flat / disabled)</td></tr></tbody></table></div><blockquote><p>simple</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; simple %&#125;</span><br><span class="line">ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; simple %&#125;</span><br><span class="line">2021å¹´å¿«åˆ°äº†....</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; simple %&#125;</span><br><span class="line">å°å¿ƒé–‹è»Š å®‰å…¨è‡³ä¸Š</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; simple%&#125;</span><br><span class="line">é€™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿé‚„æ˜¯å››ç‰‡ï¼Ÿ</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; simple %&#125;</span><br><span class="line">ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; simple %&#125;</span><br><span class="line">å‰ªåˆ€çŸ³é ­å¸ƒ</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; simple %&#125;</span><br><span class="line">å‰ç«¯æœ€è¨å­çš„ç€è¦½å™¨</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note icon-padding simple"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</p></div><div class="note blue icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink icon-padding simple"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒé–‹è»Š å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon-padding simple"><i class="note-icon fas fa-fan"></i><p>é€™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿé‚„æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon-padding simple"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</p></div><div class="note purple icon-padding simple"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³é ­å¸ƒ</p></div><div class="note green icon-padding simple"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è¨å­çš„ç€è¦½å™¨</p></div><blockquote><p>modern</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; modern %&#125;</span><br><span class="line">ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern %&#125;</span><br><span class="line">2021å¹´å¿«åˆ°äº†....</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; modern %&#125;</span><br><span class="line">å°å¿ƒé–‹è»Š å®‰å…¨è‡³ä¸Š</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; modern%&#125;</span><br><span class="line">é€™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿé‚„æ˜¯å››ç‰‡ï¼Ÿ</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; modern %&#125;</span><br><span class="line">ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; modern %&#125;</span><br><span class="line">å‰ªåˆ€çŸ³é ­å¸ƒ</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; modern %&#125;</span><br><span class="line">å‰ç«¯æœ€è¨å­çš„ç€è¦½å™¨</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><div class="note icon-padding modern"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</p></div><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink icon-padding modern"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒé–‹è»Š å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon-padding modern"><i class="note-icon fas fa-fan"></i><p>é€™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿé‚„æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</p></div><div class="note purple icon-padding modern"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³é ­å¸ƒ</p></div><div class="note green icon-padding modern"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è¨å­çš„ç€è¦½å™¨</p></div><blockquote><p>flat</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; flat %&#125;</span><br><span class="line">ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; flat %&#125;</span><br><span class="line">2021å¹´å¿«åˆ°äº†....</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; flat %&#125;</span><br><span class="line">å°å¿ƒé–‹è»Š å®‰å…¨è‡³ä¸Š</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; flat%&#125;</span><br><span class="line">é€™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿé‚„æ˜¯å››ç‰‡ï¼Ÿ</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; flat %&#125;</span><br><span class="line">ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; flat %&#125;</span><br><span class="line">å‰ªåˆ€çŸ³é ­å¸ƒ</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; flat %&#125;</span><br><span class="line">å‰ç«¯æœ€è¨å­çš„ç€è¦½å™¨</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><div class="note icon-padding flat"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</p></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink icon-padding flat"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒé–‹è»Š å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon-padding flat"><i class="note-icon fas fa-fan"></i><p>é€™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿé‚„æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</p></div><div class="note purple icon-padding flat"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³é ­å¸ƒ</p></div><div class="note green icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è¨å­çš„ç€è¦½å™¨</p></div><blockquote><p>disabled</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; disabled %&#125;</span><br><span class="line">ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; disabled %&#125;</span><br><span class="line">2021å¹´å¿«åˆ°äº†....</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; disabled %&#125;</span><br><span class="line">å°å¿ƒé–‹è»Š å®‰å…¨è‡³ä¸Š</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; disabled %&#125;</span><br><span class="line">é€™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿé‚„æ˜¯å››ç‰‡ï¼Ÿ</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; disabled %&#125;</span><br><span class="line">ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; disabled %&#125;</span><br><span class="line">å‰ªåˆ€çŸ³é ­å¸ƒ</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; disabled %&#125;</span><br><span class="line">å‰ç«¯æœ€è¨å­çš„ç€è¦½å™¨</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><div class="note icon-padding disabled"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</p></div><div class="note blue icon-padding disabled"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink icon-padding disabled"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒé–‹è»Š å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon-padding disabled"><i class="note-icon fas fa-fan"></i><p>é€™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿé‚„æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon-padding disabled"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa é‚„æ˜¯ UnionPay</p></div><div class="note purple icon-padding disabled"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³é ­å¸ƒ</p></div><div class="note green icon-padding disabled"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è¨å­çš„ç€è¦½å™¨</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h3><p>ä½¿ç”¨æ–¹æ³•ï¼š<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btn [url],[text],[icon],[color] [style] [layout] [position] [size] %&#125;</span><br><span class="line"></span><br><span class="line">[url]         : éˆæ¥</span><br><span class="line">[text]        : æŒ‰éˆ•æ–‡å­—</span><br><span class="line">[icon]        : [å¯é¸] åœ–æ¨™</span><br><span class="line">[color]       : [å¯é¸] æŒ‰éˆ•èƒŒæ™¯é¡”è‰²(é»˜èªstyleæ™‚ï¼‰</span><br><span class="line"><span class="code">                      æŒ‰éˆ•å­—é«”å’Œé‚Šæ¡†é¡”è‰²(outlineæ™‚)</span></span><br><span class="line"><span class="code">                      default/blue/pink/red/purple/orange/green</span></span><br><span class="line"><span class="code">[style]       : [å¯é¸] æŒ‰éˆ•æ¨£å¼ é»˜èªå¯¦å¿ƒ</span></span><br><span class="line"><span class="code">                      outline/ç•™ç©º</span></span><br><span class="line"><span class="code">[layout]      : [å¯é¸] æŒ‰éˆ•ä½ˆå±€ é»˜èªç‚ºline</span></span><br><span class="line"><span class="code">                      block/ç•™ç©º</span></span><br><span class="line"><span class="code">[position]    : [å¯é¸] æŒ‰éˆ•ä½ç½® å‰ææ˜¯è¨­ç½®äº†layoutç‚ºblock é»˜èªç‚ºå·¦é‚Š</span></span><br><span class="line"><span class="code">                      center/right/ç•™ç©º</span></span><br><span class="line"><span class="code">[size]        : [å¯é¸] æŒ‰éˆ•å¤§å°</span></span><br><span class="line"><span class="code">                      larger/ç•™ç©º</span></span><br></pre></td></tr></table></figure></p><blockquote><p>demo</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">This is my website, click the button &#123;% btn &#x27;https://lightmeter30.github.io/&#x27;,Butterfly %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;https://lightmeter30.github.io/&#x27;,Butterfly,far fa-hand-point-right %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;https://lightmeter30.github.io/&#x27;,Butterfly,,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;https://lightmeter30.github.io/&#x27;,Butterfly,far fa-hand-point-right,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;https://lightmeter30.github.io/&#x27;,Butterfly,far fa-hand-point-right,larger %&#125;</span><br></pre></td></tr></table></figure><p>This is my website, click the button <a class="btn-beautify " href="https://lightmeter30.github.io/"   title="Butterfly"><span>Butterfly</span></a><br>This is my website, click the button <a class="btn-beautify " href="https://lightmeter30.github.io/"   title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a><br>This is my website, click the button <a class="btn-beautify outline" href="https://lightmeter30.github.io/"   title="Butterfly"><span>Butterfly</span></a><br>This is my website, click the button <a class="btn-beautify outline" href="https://lightmeter30.github.io/"   title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a><br>This is my website, click the button <a class="btn-beautify larger" href="https://lightmeter30.github.io/"   title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a></p><h3 id="label"><a href="#label" class="headerlink" title="label"></a>label</h3><p>é«˜äº®æ‰€éœ€çš„æ–‡å­—</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% label text color %&#125;</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th style="text-align:center">å‚æ•°</th><th style="text-align:center">è§£é‡Š</th></tr></thead><tbody><tr><td style="text-align:center">text</td><td style="text-align:center">æ–‡å­—</td></tr><tr><td style="text-align:center">color</td><td style="text-align:center">ã€å¯é€‰ã€‘èƒŒæ™¯é¢œè‰²ï¼Œé»˜è®¤ä¸º<code>default</code>(default/blue/pink/red/purple/orange/green)</td></tr></tbody></table></div><blockquote><p>demo</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è‡£äº®è¨€ï¼š&#123;% label å…ˆå¸ %&#125;å‰µæ¥­æœªåŠï¼Œè€Œ&#123;% label ä¸­é“å´©æ®‚ blue %&#125;ã€‚ä»Šå¤©ä¸‹ä¸‰åˆ†ï¼Œ&#123;% label ç›Šå·ç–²æ• pink %&#125;ï¼Œæ­¤èª &#123;% label å±æ€¥å­˜äº¡ä¹‹ç§‹ red %&#125;ä¹Ÿï¼ç„¶ä¾è¡ä¹‹è‡£ï¼Œä¸æ‡ˆæ–¼å…§ï¼›&#123;% label å¿ å¿—ä¹‹å£« purple %&#125;ï¼Œå¿˜èº«æ–¼å¤–è€…ï¼Œè“‹è¿½å…ˆå¸ä¹‹æ®Šé‡ï¼Œæ¬²å ±ä¹‹æ–¼é™›ä¸‹ä¹Ÿã€‚èª å®œé–‹å¼µè–è½ï¼Œä»¥å…‰å…ˆå¸éºå¾·ï¼Œæ¢å¼˜å¿—å£«ä¹‹æ°£ï¼›ä¸å®œå¦„è‡ªè²è–„ï¼Œå¼•å–»å¤±ç¾©ï¼Œä»¥å¡å¿ è««ä¹‹è·¯ä¹Ÿã€‚</span><br><span class="line">å®®ä¸­ã€åºœä¸­ï¼Œä¿±ç‚ºä¸€é«”ï¼›é™Ÿç½°è‡§å¦ï¼Œä¸å®œç•°åŒã€‚è‹¥æœ‰&#123;% label ä½œå¥¸ orange %&#125;ã€&#123;% label çŠ¯ç§‘ green %&#125;ï¼ŒåŠç‚ºå¿ å–„è€…ï¼Œå®œä»˜æœ‰å¸ï¼Œè«–å…¶åˆ‘è³ï¼Œä»¥æ˜­é™›ä¸‹å¹³æ˜ä¹‹æ²»ï¼›ä¸å®œåç§ï¼Œä½¿å…§å¤–ç•°æ³•ä¹Ÿã€‚</span><br></pre></td></tr></table></figure><p>è‡£äº®è¨€ï¼š<mark class="hl-label default">å…ˆå¸</mark> å‰µæ¥­æœªåŠï¼Œè€Œ<mark class="hl-label blue">ä¸­é“å´©æ®‚</mark> ã€‚ä»Šå¤©ä¸‹ä¸‰åˆ†ï¼Œ<mark class="hl-label pink">ç›Šå·ç–²æ•</mark> ï¼Œæ­¤èª <mark class="hl-label red">å±æ€¥å­˜äº¡ä¹‹ç§‹</mark> ä¹Ÿï¼ç„¶ä¾è¡ä¹‹è‡£ï¼Œä¸æ‡ˆæ–¼å…§ï¼›<mark class="hl-label purple">å¿ å¿—ä¹‹å£«</mark> ï¼Œå¿˜èº«æ–¼å¤–è€…ï¼Œè“‹è¿½å…ˆå¸ä¹‹æ®Šé‡ï¼Œæ¬²å ±ä¹‹æ–¼é™›ä¸‹ä¹Ÿã€‚èª å®œé–‹å¼µè–è½ï¼Œä»¥å…‰å…ˆå¸éºå¾·ï¼Œæ¢å¼˜å¿—å£«ä¹‹æ°£ï¼›ä¸å®œå¦„è‡ªè²è–„ï¼Œå¼•å–»å¤±ç¾©ï¼Œä»¥å¡å¿ è««ä¹‹è·¯ä¹Ÿã€‚<br>å®®ä¸­ã€åºœä¸­ï¼Œä¿±ç‚ºä¸€é«”ï¼›é™Ÿç½°è‡§å¦ï¼Œä¸å®œç•°åŒã€‚è‹¥æœ‰<mark class="hl-label orange">ä½œå¥¸</mark> ã€<mark class="hl-label green">çŠ¯ç§‘</mark> ï¼ŒåŠç‚ºå¿ å–„è€…ï¼Œå®œä»˜æœ‰å¸ï¼Œè«–å…¶åˆ‘è³ï¼Œä»¥æ˜­é™›ä¸‹å¹³æ˜ä¹‹æ²»ï¼›ä¸å®œåç§ï¼Œä½¿å…§å¤–ç•°æ³•ä¹Ÿã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Computer Science </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯å¼€å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SysYè¯­è¨€ç¼–è¯‘å™¨è®¾è®¡æ–‡æ¡£</title>
      <link href="/2022/09/26/SysY%E8%AF%AD%E8%A8%80%E7%BC%96%E8%AF%91%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/"/>
      <url>/2022/09/26/SysY%E8%AF%AD%E8%A8%80%E7%BC%96%E8%AF%91%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/</url>
      
        <content type="html"><![CDATA[<h1 id="2022ç¼–è¯‘å™¨è®¾è®¡æ–‡æ¡£"><a href="#2022ç¼–è¯‘å™¨è®¾è®¡æ–‡æ¡£" class="headerlink" title="2022ç¼–è¯‘å™¨è®¾è®¡æ–‡æ¡£"></a>2022ç¼–è¯‘å™¨è®¾è®¡æ–‡æ¡£</h1><div class="note info simple"><p>é¡¹ç›®æºç åœ¨æ­¤åº“ä¸­ï¼Œå¦‚æœè§‰å¾—å¯¹ä½ æœ‰æ‰€å¯å‘çš„è¯ï¼Œè¯·ç»™ä¸ªstarå§ï¼ğŸ¥°<a class="btn-beautify larger" href="https://github.com/Lightmeter30/Compiler"   title="æºç åº“"><i class="fab fa-github"></i><span>æºç åº“</span></a></p></div><h2 id="è¯æ³•åˆ†æè®¾è®¡"><a href="#è¯æ³•åˆ†æè®¾è®¡" class="headerlink" title="è¯æ³•åˆ†æè®¾è®¡"></a>è¯æ³•åˆ†æè®¾è®¡</h2><h3 id="ç¼–ç å‰çš„è®¾è®¡"><a href="#ç¼–ç å‰çš„è®¾è®¡" class="headerlink" title="ç¼–ç å‰çš„è®¾è®¡"></a>ç¼–ç å‰çš„è®¾è®¡</h3><h4 id="ä»£ç ç»“æ„æ€»ä½“è®¾è®¡"><a href="#ä»£ç ç»“æ„æ€»ä½“è®¾è®¡" class="headerlink" title="ä»£ç ç»“æ„æ€»ä½“è®¾è®¡"></a>ä»£ç ç»“æ„æ€»ä½“è®¾è®¡</h4><ul><li>æ„é€ äº†ä¸€ä¸ªè¯æ³•åˆ†æå™¨ç±»ï¼š<code>Lexer</code>ï¼Œå…¶åŠŸèƒ½æ˜¯å®Œæˆè¯æ³•åˆ†æï¼Œå› æ­¤è¿™ä¸ªç±»å°è£…äº†å®Œæˆè¯æ³•åˆ†ææ‰€éœ€è¦çš„æ‰€æœ‰æ–¹æ³•ï¼›åŒæ—¶<code>lexer</code>ç±»è¿˜å®ç°äº†<code>error</code>æ¥å£,ç”¨æ¥å¤„ç†è¯æ³•åˆ†æè¿‡ä¸­å¯èƒ½å®ç°çš„é”™è¯¯ï¼›</li><li>æ„é€ äº†ä¸€ä¸ªå•è¯ä¿¡æ¯ç±»ï¼š<code>WordInfo</code>ï¼Œå…¶åŠŸèƒ½æ˜¯å‚¨å­˜é€šè¿‡è¯æ³•åˆ†æè·å¾—çš„å•è¯çš„å†…å®¹ï¼Œç±»åˆ«ç ç­‰ä¿¡æ¯ï¼›å¯¹äºç±»åˆ«ç æ˜¯<code>IntConst</code>çš„å•è¯ï¼Œè¿˜ä¼šå­˜å‚¨å®ƒçš„æ•°å€¼ã€‚</li></ul><h4 id="è¯æ³•åˆ†æçš„å…·ä½“å®ç°æ–¹æ¡ˆ"><a href="#è¯æ³•åˆ†æçš„å…·ä½“å®ç°æ–¹æ¡ˆ" class="headerlink" title="è¯æ³•åˆ†æçš„å…·ä½“å®ç°æ–¹æ¡ˆ"></a>è¯æ³•åˆ†æçš„å…·ä½“å®ç°æ–¹æ¡ˆ</h4><ul><li>æ€»ä½“å®ç°æ–¹æ³•: è¯æ³•åˆ†æå‡½æ•°æ¯æ¬¡è¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œç„¶åæ ¹æ®è¿™ä¸ªå­—ç¬¦çš„å€¼è¿›å…¥ä¸åŒçš„åˆ†æ”¯ï¼Œå¹¶ä¸”åœ¨è¯¥åˆ†æ”¯ä¹‹ä¸‹ä¸€å®šä¼šå®Œæˆä¸€ä¸ªå•è¯ç±»åˆ«ç çš„åˆ†ææˆ–æ³¨é‡Šçš„å¤„ç†ã€‚</li><li>å®ç°éš¾ç‚¹:<ol><li>å­—ç¬¦ä¸²çš„å¤„ç†: SysYè¯­è¨€ä¸­çš„å­—ç¬¦ä¸²ä¸€å®šæ˜¯è¢«<code>&quot;</code>æ‰€åŒ…è£¹çš„,å› æ­¤åªè¦è¯†åˆ«åˆ°å­—ç¬¦<code>&quot;</code>å°±è¿›å…¥å­—ç¬¦ä¸²å¤„ç†åˆ†æ”¯, ä¸€ç›´è¯»å–å­—ç¬¦ç›´åˆ°è¯»åˆ°ä¸‹ä¸€ä¸ª<code>&quot;</code>ã€‚è¿™ä¸ªè¿‡ç¨‹å¯èƒ½å‡ºç°å¦‚ä¸‹é”™è¯¯: åœ¨è¯»åˆ°ä¸‹ä¸€ä¸ª<code>&quot;</code>ä¹‹å‰ç»“æŸ; è¯»å–å­—ç¬¦è¿‡ç¨‹ä¸­å‡ºç°éæ³•å­—ç¬¦(éæ³•å­—ç¬¦çš„å®šä¹‰è¯¦è§é”™è¯¯å¤„ç†); <code>%</code>æˆ–<code>\</code>å•ç‹¬å‡ºç°(æ–‡æ³•è§„å®šå¿…é¡»æ˜¯<code>%d</code>å’Œ<code>\n</code>); </li><li>åŒå­—ç¬¦ç¬¦å·çš„è¯†åˆ«: å¯¹äº<code>!=</code>ã€<code>&gt;=</code>ã€<code>&lt;=</code>ã€<code>==</code>ã€<code>&amp;&amp;</code>ã€<code>||</code>è¿™äº›åŒå­—ç¬¦ç¬¦å·, åœ¨è¯»åˆ°å¯¹åº”çš„å‰ç¼€è¿›å…¥å¯¹åº”çš„æ¡ä»¶åˆ†æ”¯æ—¶, éœ€è¦é¢„è¯»ä¸€ä¸ªå­—ç¬¦,å‡å¦‚è¯´å¯ä»¥ç»„æˆæ–‡æ³•å®šä¹‰çš„åŒå­—ç¬¦, åˆ™å°†å…¶æ·»åŠ ä¸ºåŒå­—ç¬¦ç¬¦å·, å¦åˆ™è¿›è¡Œç¬¦å·å›é€€, å¹¶ä¸”åªå¤„ç†å‰ç¼€ã€‚</li><li>æ³¨é‡Šçš„å¤„ç†: ç”±äºå­—ç¬¦ä¸²é€šè¿‡ä¸€ä¸ªç‹¬ç«‹çš„åˆ†æ”¯å¤„ç†, å› æ­¤å­—ç¬¦ä¸²ä¸­çš„<code>//</code>ã€<code>/*</code>ã€<code>*/</code>ä¸ä¼šè¢«è¯†åˆ«ä¸ºæ³¨é‡Š; åŒæ—¶ä¸€æ—¦ç¡®å®šè¯»å–åˆ°<code>//</code>æˆ–<code>/*</code>,åœ¨è¯»åˆ°æ¢è¡Œç¬¦æˆ–<code>*/</code>ä¹‹å‰ä¸ä¼šå¯¹æ³¨é‡Šå­—ç¬¦è¿›è¡Œä»»ä½•è¯­æ³•ä¸Šçš„åˆ†æã€‚å› æ­¤ä¹ŸåŒæ—¶é¿å…å°†æ³¨é‡Šå†…å®¹è¯¯è®¤ä¸ºè¯­æ³•æˆåˆ†ã€‚</li><li>æ ‡è¯†ç¬¦çš„å¤„ç†: åªè¦æ˜¯ä»¥å­—æ¯å’Œä¸‹åˆ’çº¿å¼€å¤´, å°±è¿›å…¥æ ‡è¯†ç¬¦å¤„ç†åˆ†æ”¯, ç›´åˆ°å­—ç¬¦æ—¢ä¸æ˜¯å­—æ¯ã€æ•°å­—æˆ–è€…ä¸‹åˆ’çº¿ã€‚</li><li>æ¢è¡Œ: æ³¨æ„åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸‹çš„æ¢è¡Œç¬¦å¯èƒ½æœ‰ä¸åŒçš„æƒ…å†µ,å› æ­¤éœ€è¦è¿›è¡Œç›¸å…³å¤„ç†; åŒæ—¶åç»­çš„é”™è¯¯å¤„ç†ä½œä¸šä¸­ä¼šæœ‰è¦æ±‚è¾“å‡ºé”™è¯¯ç‰‡æ®µå¯¹åº”çš„è¡Œå·çš„è¦æ±‚,å› æ­¤è¦æ³¨æ„ä¿å­˜è¡Œå·ã€‚</li></ol></li></ul><h3 id="ç¼–ç åçš„ä¿®æ”¹"><a href="#ç¼–ç åçš„ä¿®æ”¹" class="headerlink" title="ç¼–ç åçš„ä¿®æ”¹"></a>ç¼–ç åçš„ä¿®æ”¹</h3><p>è€ƒè™‘åˆ°è¯æ³•åˆ†æä¸­éƒ¨åˆ†å‡½æ•°å¯èƒ½åœ¨å…¶å®ƒåŠŸèƒ½ä¸­ä¹Ÿéœ€è¦ä½¿ç”¨ï¼Œä½¿ä»£ç çš„ç»“æ„æ›´åŠ æ¸…æ™°åˆç†ï¼Œå› æ­¤æ–°å»ºä¸€ä¸ªåå­—ä¸º<code>Tools</code>çš„å·¥å…·ç±»ï¼Œè€Œ<code>Lexer</code>ç±»åªä¿ç•™æœ€ä¸»è¦çš„è¯æ³•åˆ†æç›¸å…³çš„æ–¹æ³•ï¼Œå°†å­—ç¬¦ä¸²åˆ¤æ–­å’Œå¤„ç†å‡½æ•°è¿™äº›ä¸è¯æ³•åˆ†æåŠŸèƒ½å…³è”ä¸å¤§çš„æ–¹æ³•è½¬ç§»åˆ°<code>Tools</code>ç±»ä¸­ï¼Œå°†å…¶ä½œä¸ºä¸€ä¸ªä¸“é—¨å­˜å‚¨é€šç”¨çš„é™æ€æ–¹æ³•çš„å·¥å…·ç±»ä½¿ç”¨ã€‚</p><h2 id="è¯­æ³•åˆ†æè®¾è®¡"><a href="#è¯­æ³•åˆ†æè®¾è®¡" class="headerlink" title="è¯­æ³•åˆ†æè®¾è®¡"></a>è¯­æ³•åˆ†æè®¾è®¡</h2><h3 id="ä»£ç ç»“æ„æ€»ä½“è®¾è®¡-1"><a href="#ä»£ç ç»“æ„æ€»ä½“è®¾è®¡-1" class="headerlink" title="ä»£ç ç»“æ„æ€»ä½“è®¾è®¡"></a>ä»£ç ç»“æ„æ€»ä½“è®¾è®¡</h3><ul><li>æ„é€ äº†ä¸€ä¸ªè¯­æ³•åˆ†æç±»ï¼š<code>SyntacticParser</code>ï¼Œå…¶åŠŸèƒ½æ˜¯å®Œæˆè¯­æ³•åˆ†æï¼Œå› æ­¤è¿™ä¸ªç±»æœ‰ç€è¯­æ³•åˆ†ææ‰€éœ€è¦çš„å¤§éƒ¨åˆ†é™æ€æ–¹æ³•ï¼›åŒæ—¶<code>SyntacticParser</code>ç±»è¿˜å®ç°äº†<code>error</code>æ¥å£ï¼Œä¸ºé”™è¯¯å¤„ç†éƒ¨åˆ†é¢„ç•™äº†æ¥å£ã€‚</li><li>æ–°å»ºäº†ä¸€ä¸ªç±»<code>ParseInfo</code>ï¼Œå…¶ç»§æ‰¿äºæŠ½è±¡ç±»<code>WordInfo</code>ï¼Œç”¨äºåœ¨è¯­æ³•åˆ†æè¿‡ç¨‹ä¸­å­˜å‚¨éç»ˆç»“ç¬¦ï¼Œä¾¿äºè¾“å‡ºã€‚</li><li>åœ¨<code>Tools</code>ç±»ä¸­æ–°æ·»äº†ä¸€äº›è¯­æ³•åˆ†ææ‰€å¿…é¡»çš„æ–¹æ³•ã€‚</li></ul><h3 id="è¯­æ³•åˆ†æå…·ä½“å®ç°æ–¹æ¡ˆ"><a href="#è¯­æ³•åˆ†æå…·ä½“å®ç°æ–¹æ¡ˆ" class="headerlink" title="è¯­æ³•åˆ†æå…·ä½“å®ç°æ–¹æ¡ˆ"></a>è¯­æ³•åˆ†æå…·ä½“å®ç°æ–¹æ¡ˆ</h3><ul><li>å®ç°æ–¹æ¡ˆï¼šæœ¬ç¼–è¯‘å™¨é‡‡ç”¨çš„æ˜¯é€’å½’ä¸‹é™åˆ†ææ³•ï¼ˆä¸€ç§è‡ªé¡¶å‘ä¸‹çš„åˆ†ææ–¹æ³•ï¼‰æ¥å®ç°è¯­æ³•åˆ†æã€‚å³ä¸ºæ¯ä¸€ä¸ªéç»ˆç»“ç¬¦ç¼–å†™ä¸€ä¸ªé€’å½’å­ç¨‹åºï¼Œç”¨äºå®Œæˆè¯¥éç»ˆç»“ç¬¦å¯¹åº”çš„è¯­æ³•æˆåˆ†çš„åˆ†æä¸è¯†åˆ«ä»»åŠ¡ã€‚</li><li>å®ç°éš¾ç‚¹ï¼š<ol><li>è¯­æ³•åŒ¹é…ï¼šåœ¨SysYè¯­è¨€çš„æ–‡æ³•ä¸­ï¼Œæœ‰è®¸å¤šéç»ˆç»“ç¬¦çš„æ¨å¯¼å­˜åœ¨å¤šä¸ªåˆ†æ”¯ï¼Œä¸”å®ƒä»¬ä¹‹é—´çš„FIRSTé›†çš„äº¤ä¸ä¸ºç©ºã€‚å› æ­¤ä¸ºäº†é¿å…åœ¨è¯­æ³•åˆ†æè¿‡ç¨‹ä¸­å‘ç”Ÿå›æº¯ï¼Œæˆ‘é‡‡å–çš„æ–¹æ¡ˆæ˜¯è¿›è¡Œé¢„è¯»ï¼Œç›´åˆ°èƒ½å¤ŸåŒºåˆ†è¯¥è¿›å…¥å“ªä¸€ä¸ªåˆ†æ”¯ï¼Œå› æ­¤åœ¨è¯­æ³•åˆ†æç±»<code>SyntacticParser</code>ä¸­å¢åŠ äº†ä¸€ä¸ªå›é€€è¯»æŒ‡é’ˆ(å¯¹åº”ç±»ä¸­å˜é‡<code>WordlistIndex</code>)çš„æ–¹æ³•ï¼Œç”¨äºæŠŠè¯»æŒ‡é’ˆå›é€€åˆ°é¢„è¯»å‰çš„çŠ¶æ€ã€‚</li><li>æ–‡æ³•æ”¹å†™ï¼šåŸæ–‡æ³•ä¸­å­˜åœ¨å·¦é€’å½’æ–‡æ³•ï¼Œè€Œé€’å½’å‘ä¸‹åˆ†ææ³•æ˜¯æ²¡æœ‰åŠæ³•å¤„ç†å·¦é€’å½’æ–‡æ³•çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹æ–‡æ³•è¿›è¡Œæ”¹å†™ä»¥æ¶ˆé™¤å·¦é€’å½’ï¼Œå¹¶ä¸”ä¿è¯æ–‡æ³•æ”¹å†™å‰åçš„ç­‰ä»·æ€§ã€‚</li></ol></li></ul><h3 id="è¯­æ³•æ ‘è®¾è®¡"><a href="#è¯­æ³•æ ‘è®¾è®¡" class="headerlink" title="è¯­æ³•æ ‘è®¾è®¡"></a>è¯­æ³•æ ‘è®¾è®¡</h3><p>æœ¬ç¼–è¯‘å™¨åœ¨ä½¿ç”¨é€’å½’ä¸‹é™åˆ†ææ³•è¿›è¡Œè¯­æ³•åˆ†æçš„åŒæ—¶å»ºç«‹æºç¨‹åºçš„è¯­æ³•æ ‘ã€‚åç»­çš„è¯­ä¹‰åˆ†æã€ä¸­é—´ä»£ç ç”Ÿæˆéƒ½æ˜¯åœ¨è¯­æ³•æ ‘çš„åŸºç¡€ä¸Šè¿›è¡Œçš„ï¼Œä¸‹é¢æ˜¯è¯­æ³•æ ‘çš„ç±»çš„è®¾è®¡æ€è·¯ï¼š</p><ul><li>è¿™éƒ¨åˆ†ç±»ä½äº <code>./src/front/SyntaxTree</code> ä¸­ã€‚</li><li>é¦–å…ˆæ‰€æœ‰çš„è¯­æ³•æ ‘èŠ‚ç‚¹éƒ½ç»§æ‰¿äº†æ¥å£ <code>TreeNode</code> ï¼Œå®ç°äº†è·å–å…¶å­èŠ‚ç‚¹åºåˆ—(å®ç°éå†)å’Œç”Ÿæˆä¸­é—´ä»£ç ä¸¤ä¸ªæ–¹æ³•ï¼›åŒæ—¶ä¸ºæ–‡æ³•ä¸­æ¯ä¸€ä¸ªéç»ˆç»“ç¬¦è®¾ç½®äº†ä¸€ä¸ªç±»ï¼Œä»£è¡¨ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå®ç°äº†æ¥å£<code>TreeNode</code> çš„æ–¹æ³•ã€‚</li><li>é™¤äº†ä¸ºæ–‡æ³•ä¸­çš„éç»ˆç»“ç¬¦è®¾è®¡ä¸€ä¸ªèŠ‚ç‚¹ç±»ï¼Œä¸ºäº†å®ç°é”™è¯¯å¤„ç†çš„ç›¸å…³åŠŸèƒ½ï¼Œæˆ‘ä»¬è¿˜å¢åŠ äº†<code>ErrorSymbol</code> èŠ‚ç‚¹æ¥ä¿å­˜é”™è¯¯å¤„ç†æ‰€éœ€è¦çš„ä¿¡æ¯ã€‚</li></ul><h2 id="ç¬¦å·è¡¨è®¾è®¡"><a href="#ç¬¦å·è¡¨è®¾è®¡" class="headerlink" title="ç¬¦å·è¡¨è®¾è®¡"></a>ç¬¦å·è¡¨è®¾è®¡</h2><h3 id="ç±»çš„è®¾è®¡"><a href="#ç±»çš„è®¾è®¡" class="headerlink" title="ç±»çš„è®¾è®¡"></a>ç±»çš„è®¾è®¡</h3><ul><li><code>SymbolTable</code> ï¼šç”±äºSysYè¯­è¨€å±äºåˆ†ç¨‹åºç»“æ„è¯­è¨€ï¼Œéœ€è¦ä¸ºæ¯ä¸€ä¸ªåˆ†ç¨‹åºå»ºç«‹ä¸€ä¸ªç¬¦å·è¡¨ï¼Œç±»å˜é‡ä¸­çš„<code>fatherTable</code>æŒ‡å‘å…¶å¤–å±‚ç¬¦å·è¡¨ï¼›<code>symbolList</code>å­˜å‚¨çš„æ˜¯ç¬¦å·è¡¨é¡¹ï¼›<code>sonTable</code>å­˜å‚¨ç€è¯¥å±‚ä¸‹æ‰€æœ‰çš„ç¬¦å·è¡¨ã€‚</li><li><code>SymbolItem</code> ï¼šç¬¦å·è¡¨é¡¹æ¥å£ï¼Œé‡Œé¢å®šä¹‰äº†è·å–ç¬¦å·è¡¨é¡¹ä¿¡æ¯çš„æ‰€æœ‰æ–¹æ³•<code>getName</code>è·å–å˜é‡åï¼›<code>isConst</code>åˆ¤æ–­æ˜¯å¦ä¸ºå¸¸é‡ï¼›<code>getSize</code>è·å–å½“å‰è¡¨é¡¹å˜é‡æ‰€å å†…å­˜å¤§å°ï¼›<code>setAddr</code>æ˜¯è®¾ç½®è¡¨é¡¹å˜é‡åœ¨å†…å­˜çš„åœ°å€ï¼›<code>getAddr</code>æ˜¯è·å–è¡¨é¡¹å˜é‡åœ¨å†…å­˜çš„åœ°å€ã€‚</li><li><code>Func</code>ï¼šç¬¦å·è¡¨é¡¹çš„å‡½æ•°é¡¹çš„ç±»ï¼Œè¯¥ç±»å¯ä»¥å­˜å‚¨å‡½æ•°åï¼Œå‡½æ•°å‚æ•°ä¸ªæ•°ï¼Œå‡½æ•°è¿”å›å€¼çš„ç§ç±»ç­‰ä¿¡æ¯ï¼ŒåŒæ—¶å®ç°äº†<code>symbolItem</code>æ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ã€‚</li><li><code>FuncFormVar</code> ï¼šç¬¦å·è¡¨é¡¹ä¸­çš„å‡½æ•°å‚æ•°é¡¹çš„ç±»ã€‚è¯¥ç±»å­˜å‚¨äº†ç¼–è¯‘è¿‡ç¨‹ä¸­å‡½æ•°å‚æ•°æ‰€å¿…éœ€çš„ä¿¡æ¯ï¼šåå­—<code>name</code>ï¼Œç»´æ•°<code>dimension</code>ï¼Œæ•°ç»„ç»´æ•°å‚æ•°<code>shape</code>ï¼Œåœ°å€<code>addr</code>ç­‰ä¿¡æ¯ã€‚åŒæ—¶å®ç°äº†<code>symbolItem</code>æ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ã€‚</li><li><code>Var</code>ï¼šç¬¦å·è¡¨é¡¹ä¸­çš„å˜é‡é¡¹çš„ç±»ã€‚è¯¥ç±»å­˜å‚¨äº†ç¼–è¯‘è¿‡ç¨‹ä¸­å˜é‡æ‰€å¿…éœ€çš„ä¿¡æ¯ï¼šåå­— <code>name</code>ï¼Œæ˜¯å¦ä¸ºå¸¸é‡<code>isConst</code>ï¼Œå˜é‡åˆå§‹åŒ–å€¼<code>initVal</code>ï¼Œå¸¸é‡åˆå§‹åŒ–å€¼<code>constInitVal</code>ï¼Œç»´æ•°<code>dimension</code>ï¼Œæ•°ç»„ç»´æ•°å‚æ•°<code>shape</code>ï¼Œåœ°å€<code>addr</code>ç­‰ä¿¡æ¯ã€‚</li></ul><p>ä¸ºäº†å¤„ç†ä¸åŒæ¨¡å—ä¸‹å˜é‡å‡ºç°é‡åçš„æƒ…å†µï¼Œè¿˜æ·»åŠ äº†locå­—æ®µï¼Œå…¶å†…å®¹ä¸º<code>å—å·@å—å†…å·</code>ï¼Œåœ¨<code>name</code>åé¢åŠ ä¸Š<code>loc</code>å­—æ®µå°±å¯ä»¥å”¯ä¸€æ ‡è¯†å˜é‡åã€‚</p><h2 id="é”™è¯¯å¤„ç†è®¾è®¡"><a href="#é”™è¯¯å¤„ç†è®¾è®¡" class="headerlink" title="é”™è¯¯å¤„ç†è®¾è®¡"></a>é”™è¯¯å¤„ç†è®¾è®¡</h2><h3 id="ç±»çš„è®¾è®¡-1"><a href="#ç±»çš„è®¾è®¡-1" class="headerlink" title="ç±»çš„è®¾è®¡"></a>ç±»çš„è®¾è®¡</h3><p>ä¸ºäº†å®ç°é”™è¯¯å¤„ç†,æˆ‘ä»¬åœ¨frontå¢åŠ äº†ä¸€ä¸ªç»§æ‰¿äº†<code>Exception</code>ç±»çš„<code>Error</code>ç±»ï¼Œç”¨äºè®°å½•é”™è¯¯ç§ç±»å’Œæ‰€åœ¨è¡Œï¼Œå¹¶ä¸”æ”¹å†™äº†<code>toString</code>æ–¹æ³•ï¼Œä½¿å…¶èƒ½æ‰“å°å‡ºç¬¦åˆè¦æ±‚çš„é”™è¯¯ä¿¡æ¯ã€‚</p><p>æˆ‘è¿˜åœ¨frontæ¨¡å—è®¾è®¡äº†æ·»åŠ äº†ä¸€ä¸ª<code>ErrorList</code>ç±»ï¼Œç”¨äºå­˜å‚¨ç¼–è¯‘è¿‡ç¨‹ä¸­æºç¨‹åºå¯èƒ½å­˜åœ¨çš„é”™è¯¯ï¼Œå¹¶ä¸”åœ¨å…¶ä¸­å®ç°äº†æŠŠé”™è¯¯è¾“å‡ºåˆ°<code>error.txt</code>çš„æ–¹æ³•ã€‚</p><h3 id="ç¼–è¯‘å™¨å¯å¤„ç†çš„é”™è¯¯ç±»å‹"><a href="#ç¼–è¯‘å™¨å¯å¤„ç†çš„é”™è¯¯ç±»å‹" class="headerlink" title="ç¼–è¯‘å™¨å¯å¤„ç†çš„é”™è¯¯ç±»å‹"></a>ç¼–è¯‘å™¨å¯å¤„ç†çš„é”™è¯¯ç±»å‹</h3><p><code>error</code>ç±»èƒ½å¤Ÿå¤„ç†å¦‚ä¸‹é”™è¯¯: </p><div class="table-container"><table><thead><tr><th style="text-align:center">é”™è¯¯ç±»åˆ«ç </th><th>è§£é‡Š</th></tr></thead><tbody><tr><td style="text-align:center">a</td><td>éæ³•ç¬¦å·(æŠ¥é”™è¡Œå·åœ¨æ‰€åœ¨è¡Œ)</td></tr><tr><td style="text-align:center">b</td><td>åŒä¸€ä½œç”¨åŸŸä¸‹åå­—é‡å®šä¹‰(æ‰€åœ¨è¡Œ)</td></tr><tr><td style="text-align:center">c</td><td>æœªå®šä¹‰çš„åå­—(æ‰€åœ¨è¡Œ)</td></tr><tr><td style="text-align:center">d</td><td>å‡½æ•°å‚æ•°ä¸ªæ•°ä¸åŒ¹é…(å‡½æ•°åè°ƒç”¨è¯­å¥çš„å‡½æ•°åæ‰€åœ¨çš„è¡Œ)</td></tr><tr><td style="text-align:center">e</td><td>å‡½æ•°å‚æ•°ç±»å‹ä¸åŒ¹é…(å‡½æ•°åè°ƒç”¨è¯­å¥çš„å‡½æ•°åæ‰€åœ¨çš„è¡Œ)</td></tr><tr><td style="text-align:center">f</td><td>æ— è¿”å›å€¼çš„å‡½æ•°å­˜åœ¨ä¸åŒ¹é…çš„returnè¯­å¥(returnæ‰€åœ¨è¡Œ)</td></tr><tr><td style="text-align:center">g</td><td>æœ‰è¿”å›å€¼çš„å‡½æ•°ç¼ºå°‘returnè¯­å¥(å‡½æ•°ç»“å°¾â€™}â€™æ‰€åœ¨è¡Œ)</td></tr><tr><td style="text-align:center">h</td><td>ä¸èƒ½æ”¹å˜å¸¸é‡çš„å€¼(æ‰€åœ¨è¡Œ)</td></tr><tr><td style="text-align:center">i</td><td>ç¼ºå°‘åˆ†å·(ç¼ºå°‘åˆ†å·çš„å‰ä¸€ä¸ªéç»ˆç»“ç¬¦æ‰€åœ¨è¡Œ)</td></tr><tr><td style="text-align:center">j</td><td>ç¼ºå°‘å³å°æ‹¬å·â€™)â€™(ç¼ºå°‘å³å°æ‹¬å·å‰ä¸€ä¸ªéç»ˆç»“ç¬¦æ‰€åœ¨è¡Œ)</td></tr><tr><td style="text-align:center">k</td><td>ç¼ºå°‘å³å°æ‹¬å·â€™)â€™(ç¼ºå°‘å³å°æ‹¬å·å‰ä¸€ä¸ªéç»ˆç»“ç¬¦æ‰€åœ¨è¡Œ)</td></tr><tr><td style="text-align:center">l</td><td>printfä¸­â€™%dâ€™æ•°é‡å®‡è¡¨è¾¾å¼ä¸ªæ•°ä¸åŒ¹é…(printfæ‰€åœ¨è¡Œ)</td></tr><tr><td style="text-align:center">m</td><td>åœ¨éå¾ªç¯æ¨¡å—ä½¿ç”¨break \</td><td>continue(break \</td><td>continueæ‰€åœ¨è¡Œ)</td></tr><tr><td style="text-align:center">n</td><td>å…¶ä»–é”™è¯¯</td></tr></tbody></table></div><p>åœ¨æœ¬ç¼–è¯‘å™¨ä¸­åœ¨è¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€ç”Ÿä»è¯­æ³•æ ‘ã€æ„å»ºç¬¦å·è¡¨çš„è¿‡ç¨‹ä¸­å°±å¯ä»¥å®Œæˆã€‚åªæœ‰åœ¨æºç¨‹åºæ²¡æœ‰é”™è¯¯çš„æƒ…å†µä¸‹ç¼–è¯‘å™¨æ‰ä¼šè¿›è¡Œä¸­é—´ä»£ç å’Œç›®æ ‡ä»£ç çš„ç”Ÿæˆã€‚</p><h2 id="ä»£ç ç”Ÿæˆè®¾è®¡"><a href="#ä»£ç ç”Ÿæˆè®¾è®¡" class="headerlink" title="ä»£ç ç”Ÿæˆè®¾è®¡"></a>ä»£ç ç”Ÿæˆè®¾è®¡</h2><h3 id="ä¸­é—´ä»£ç ç”Ÿæˆ"><a href="#ä¸­é—´ä»£ç ç”Ÿæˆ" class="headerlink" title="ä¸­é—´ä»£ç ç”Ÿæˆ"></a>ä¸­é—´ä»£ç ç”Ÿæˆ</h3><p>åœ¨æ¥å£TreeNodeä¸­æ·»åŠ æ–¹æ³•<code>createMidCode()</code>,å†åœ¨å…·ä½“çš„èŠ‚ç‚¹ä¸­å®ç°è¯¥æ–¹æ³•ã€‚</p><p>æœ¬ç¼–è¯‘å™¨çš„ä¸­é—´ä»£ç é‡‡ç”¨å½¢å¦‚ä»¥ä¸‹çš„å››å…ƒå¼ï¼š</p><div class="note info simple"><p>(operation, operand1, operand2, result)ï¼Œä¾æ¬¡ä¸ºè¿ç®—ç¬¦ï¼Œè¿ç®—æ•°1ï¼Œè¿ç®—æ•°2ï¼Œç»“æœã€‚</p></div><p>æœ¬ç¼–è¯‘å™¨æ¶‰åŠå¸¸é‡å£°æ˜ã€å˜é‡å£°æ˜ã€è¯»è¯­å¥ã€å†™è¯­å¥ã€èµ‹å€¼è¯­å¥ã€åŠ å‡ä¹˜é™¤æ¨¡ç­‰è¿ç®—è¯­å¥ã€å‡½æ•°å®šä¹‰åŠè°ƒç”¨è¯­å¥ï¼Œæ­¤éƒ¨åˆ†çš„operationç›¸å…³å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŸºæœ¬ç®—æ•°è¿ç®—</span></span><br><span class="line">ASSIGN    <span class="comment"># èµ‹å€¼</span></span><br><span class="line">ADD       <span class="comment"># åŠ </span></span><br><span class="line">SUB       <span class="comment"># å‡</span></span><br><span class="line">MUL       <span class="comment"># ä¹˜</span></span><br><span class="line">DIV       <span class="comment"># é™¤</span></span><br><span class="line">MOD       <span class="comment"># æ¨¡</span></span><br><span class="line">SET       <span class="comment"># é€»è¾‘åˆ¤æ–­</span></span><br><span class="line">NOT       <span class="comment"># é</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡½æ•°ç›¸å…³éƒ¨åˆ†</span></span><br><span class="line">FUNC          <span class="comment"># å‡½æ•°å®šä¹‰</span></span><br><span class="line">END_FUNC      <span class="comment"># å‡½æ•°ç»“æŸæ ‡å¿—</span></span><br><span class="line">PREPARE_CALL  <span class="comment"># å‡½æ•°è°ƒç”¨å‡†å¤‡</span></span><br><span class="line">CALL          <span class="comment"># å‡½æ•°è°ƒç”¨</span></span><br><span class="line">PUSH_PARA     <span class="comment"># å‡½æ•°å‚æ•°ä¼ é€’</span></span><br><span class="line">RETURN        <span class="comment"># å‡½æ•°è¿”å›è¯­å¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å˜é‡å®šä¹‰éƒ¨åˆ†</span></span><br><span class="line">VAR_DEF           <span class="comment"># å˜é‡å®šä¹‰</span></span><br><span class="line">CONST_DEF         <span class="comment"># å¸¸é‡å®šä¹‰</span></span><br><span class="line">FUNC_FORM_VAR_DEF <span class="comment"># å‡½æ•°å‚æ•°å®šä¹‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°ç»„æ“ä½œ</span></span><br><span class="line">ARR_SAVE      <span class="comment"># ä¿å­˜æ•°ç»„å€¼åˆ°å†…å­˜</span></span><br><span class="line">ARR_LOAD      <span class="comment"># è¯»å–æ•°ç»„å€¼åˆ°å¯„å­˜å™¨</span></span><br><span class="line">PUSH_PARA_ARR <span class="comment"># ä¼ é€’æ•°ç»„çš„åœ°å€(æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·³è½¬æ“ä½œ</span></span><br><span class="line">JUMP_IF</span><br><span class="line">JUMP</span><br><span class="line">LABEL</span><br><span class="line"></span><br><span class="line"><span class="comment"># IO</span></span><br><span class="line">PRINT</span><br><span class="line">GETINT</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·³è½¬</span></span><br><span class="line">OP_JUMP_IF <span class="string">&quot;JUMP_IF&quot;</span></span><br><span class="line">OP_JUMP <span class="string">&quot;JUMP&quot;</span></span><br><span class="line">OP_LABEL <span class="string">&quot;LABEL&quot;</span></span><br><span class="line">LVal: å˜é‡å@&lt;depth,blockåºå·&gt;</span><br><span class="line">shape: åˆå€¼ä¸º-1æ—¶è¯´æ˜æ˜¯å‡½æ•°çš„å‚æ•°å€¼(Array)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¶å®ƒ</span></span><br><span class="line">SIGNAL_ARR_ADDR   <span class="comment"># è¯¥å˜é‡ä¸ºæ•°ç»„</span></span><br><span class="line">NEW_BLOCK         <span class="comment"># åŸºæœ¬å—çš„å¼€å§‹</span></span><br><span class="line">EXIT_BLOCK        <span class="comment"># åŸºæœ¬å—çš„ç»“æŸ</span></span><br><span class="line">WHILE_BIND        <span class="comment"># ç»‘å®šå¾ªç¯åˆ¤æ–­å¼å’Œè·³è½¬æ ‡ç­¾</span></span><br><span class="line">EMPTY             <span class="comment"># ç©ºè¯­å¥</span></span><br><span class="line">ENTER_WHILE       <span class="comment"># å¾ªç¯çš„å¼€å¤´</span></span><br><span class="line">EXIT_WHILE        <span class="comment"># å¾ªç¯çš„ç»“å°¾</span></span><br></pre></td></tr></table></figure><h4 id="å®ç°è¿‡ç¨‹"><a href="#å®ç°è¿‡ç¨‹" class="headerlink" title="å®ç°è¿‡ç¨‹"></a>å®ç°è¿‡ç¨‹</h4><p>åœ¨å®ç°äº§ç”Ÿå››å…ƒå¼çš„è¿‡ç¨‹ä¸­ï¼Œä»è¯­æ³•æ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹è°ƒç”¨<code>createMidCode</code>å®Œæˆä¸€æ¬¡ååºéå†ï¼ŒæœŸé—´ç”Ÿæˆä¸­é—´ä»£ç ï¼Œä¸ºäº†å®ç°ä»£ç ç»“æ„çš„è§£è€¦ï¼Œè¯­æ³•æ ‘ä¸­çš„èŠ‚ç‚¹ç±»ä¸­æ·»åŠ æ–°çš„ä»£ç æ—¶ï¼Œä¼šä¼ é€’å‚æ•°<code>#TEMP</code>ï¼Œç”±<code>MidCodeList</code>ç±»è´Ÿè´£åˆ†é…æ–°çš„ä¸´æ—¶å˜é‡ï¼Œå¯¹äºæ“ä½œæ•°å°‘äºå››ä¸ªçš„æŒ‡ä»¤ï¼Œä¼ é€’<code>#NULL</code>å ä½ï¼ŒåŒæ—¶å¯¹äºæŸäº›éœ€è¦å®ç°è·³è½¬çš„æŒ‡ä»¤ï¼Œéƒ¨åˆ†å››å…ƒå¼ä¸­å­˜åœ¨å‚æ•°<code>#AUTO_LABEL</code>ï¼Œé€šè¿‡<code>MidCodeList</code>ç±»è´Ÿè´£åˆ†é…æ–°çš„è·³è½¬æ ‡ç­¾ï¼Œå¯¹äºå­—ç¬¦ä¸²è¾“å‡ºï¼Œåˆ™é‡‡ç”¨å‚æ•°<code>#STRCONS</code>è¿›è¡Œå ä½ã€‚</p><h3 id="Mipsä»£ç ç”Ÿæˆ"><a href="#Mipsä»£ç ç”Ÿæˆ" class="headerlink" title="Mipsä»£ç ç”Ÿæˆ"></a>Mipsä»£ç ç”Ÿæˆ</h3><h4 id="ç±»æ„æˆåˆ†æ"><a href="#ç±»æ„æˆåˆ†æ" class="headerlink" title="ç±»æ„æˆåˆ†æ"></a>ç±»æ„æˆåˆ†æ</h4><p>è¯¥éƒ¨åˆ†çš„ä»£ç éƒ½ä½äº<code>/src/back</code>æ–‡ä»¶å¤¹ä¸­,ä¸‹é¢æ˜¯ç›¸å…³ç±»çš„ä»‹ç»ï¼š</p><ul><li><code>Mips</code>ï¼šMipsä»£ç ç”Ÿæˆçš„æœ€ä¸»è¦çš„ç±»ï¼Œå®ç°äº†Mipsä»£ç ç”Ÿæˆçš„å¤§éƒ¨åˆ†é€»è¾‘ã€‚<ul><li><code>createMipsCode</code>ï¼š<code>Mips</code>ç±»ä¸­å®ç°ä»£ç ç”Ÿæˆçš„ä¸»è¦é€»è¾‘ï¼Œé¦–å…ˆæŸ¥è¯¢ç¬¦å·è¡¨å¯¹æ‰€æœ‰çš„æ•°ç»„åœ¨<code>.data</code>æ®µè¿›è¡Œå£°æ˜å’Œå†…å­˜åˆ†é…ï¼ŒæŠŠè¾“å‡ºçš„æ‰€æœ‰<code>formatString</code>ä¿å­˜åˆ°å†…å­˜é‡Œã€‚ç„¶åè¿›è¡Œ<code>.text</code>æ®µä»£ç ç¼–å†™ï¼šæœ€åéå†ä¸­é—´ä»£ç ç”ŸæˆMipsä»£ç ã€‚</li><li><code>GenArithmetic</code>ï¼šç”Ÿæˆç®—æ•°ç›¸å…³çš„Mipsä»£ç çš„å‡½æ•°ã€‚</li><li><code>addOneMipsCode</code>ï¼šæ·»åŠ ä¸€æ¡Mipsä»£ç ã€‚</li><li><code>isConst</code>ï¼šåˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºå¸¸é‡ã€‚</li><li><code>setRegister</code>ï¼šä¸ºå˜é‡åˆ†é…å¯„å­˜å™¨ã€‚</li><li><code>loadValue</code>ï¼šä»å†…å­˜è¯»å–æ•°æ®ã€‚</li><li><code>saveValue</code>ï¼šä¿å­˜æ•°æ®åˆ°å†…å­˜ã€‚</li><li><code>isInRegister</code>ï¼šåˆ¤æ–­å˜é‡æ˜¯å¦åˆ†é…äº†å¯„å­˜å™¨ã€‚</li><li><code>PrintMipsCode</code>ï¼šè¾“å‡ºMipsä»£ç ã€‚</li></ul></li><li><code>Tools</code>ï¼šå­˜å‚¨Mipsä»£ç ç”Ÿæˆè¿‡ç¨‹ä¸­ä½¿ç”¨çš„ä¸€äº›æ–¹æ³•ã€‚</li></ul><h4 id="æ™®é€šå˜é‡å¯»å€"><a href="#æ™®é€šå˜é‡å¯»å€" class="headerlink" title="æ™®é€šå˜é‡å¯»å€"></a>æ™®é€šå˜é‡å¯»å€</h4><p>ä»¥å‡½æ•°ä¸ºå•ä½åˆå¹¶ç¬¦å·è¡¨ï¼Œå¯¹äºæ¯ä¸€å¼ ç¬¦å·è¡¨ï¼Œç¡®å®šæ–°çš„æ‰€éœ€ç©ºé—´çš„å¤§å°å’Œæ¯ä¸ªå˜é‡çš„åœ°å€åç§»ï¼Œæ¯æ¬¡åœ¨è¿›å…¥å‡½æ•°å‰ï¼Œå°†æ ˆæŒ‡é’ˆ<code>sp</code>å‘ä¸‹ç§»åŠ¨ç›¸åŒçš„å•ä½ï¼Œæ¯æ¬¡è¯»åˆ°ä¸€ä¸ªä¸­é—´ä»£ç çš„å˜é‡åæ—¶ï¼Œè‹¥å‘ç°å…¶ä¸åœ¨å¯„å­˜å™¨ä¸­æˆ–è€…éœ€è¦å†™å…¥å†…å­˜ï¼Œåˆ™æŸ¥ç›¸åº”çš„å‡½æ•°ç¬¦å·è¡¨å’Œå…¨å±€ç¬¦å·è¡¨ï¼Œè·å¾—å˜é‡åœ¨å†…å­˜çš„åœ°å€ã€‚</p><h4 id="æ•°ç»„å˜é‡å¯»å€"><a href="#æ•°ç»„å˜é‡å¯»å€" class="headerlink" title="æ•°ç»„å˜é‡å¯»å€"></a>æ•°ç»„å˜é‡å¯»å€</h4><p>ç›´æ¥æŸ¥æ‰¾<code>.data</code>æ®µçš„æ•°ç»„åè¿›è¡Œå¯»å€ã€‚</p><h4 id="å‡½æ•°è¿è¡Œæ ˆå¸ƒå±€"><a href="#å‡½æ•°è¿è¡Œæ ˆå¸ƒå±€" class="headerlink" title="å‡½æ•°è¿è¡Œæ ˆå¸ƒå±€"></a>å‡½æ•°è¿è¡Œæ ˆå¸ƒå±€</h4><ul><li><code>funcStackSize</code>ï¼šå‡½æ•°ä¸­å‡ºç°çš„æ‰€æœ‰å±€éƒ¨å˜é‡çš„æ‰€éœ€ç©ºé—´ï¼›</li><li><code>StackTBegin</code>ï¼šæ ˆä¸­ä¿å­˜<code>t</code>å¯„å­˜å™¨çš„åç§»é‡ä¸º60ï¼›</li><li><code>StackSBegin</code>ï¼šæ ˆä¸­ä¿å­˜<code>s</code>å¯„å­˜å™¨çš„åç§»é‡ä¸º60ï¼›</li><li><code>LocalAddrInit</code>ï¼šå±€éƒ¨å˜é‡çš„èµ·å§‹åœ°å€ã€‚</li></ul><p>ä¸Šè¿°å˜é‡çš„å•ä½å‡ä¸º<code>byte</code>ã€‚</p><h4 id="å‡½æ•°è·³è½¬æµç¨‹"><a href="#å‡½æ•°è·³è½¬æµç¨‹" class="headerlink" title="å‡½æ•°è·³è½¬æµç¨‹"></a>å‡½æ•°è·³è½¬æµç¨‹</h4><ol><li>æ ˆæŒ‡é’ˆ<code>sp</code>ä¸‹ç§»<code>funcStackSize + LocalAddrInit</code>çš„ç©ºé—´ï¼›</li><li>ä½¿ç”¨å¯„å­˜å™¨<code>$a0 ~ $a3</code>ä¼ é€’å‰å››ä¸ªå‚æ•°ï¼›</li><li>ä»¥<code>(sp)</code>ä¸ºåŸºå€ï¼Œä¼ é€’å¤šå‡ºæ¥çš„å‚æ•°ï¼›</li><li>ä»¥<code>funcStackSize + StackSBegin</code>ä¸ºåŸºå€ï¼Œä¿å­˜æ‰€æœ‰å‚¨å­˜åœ¨å¯„å­˜å™¨<code>$s</code>ä¸­çš„å˜é‡ã€‚</li><li>ä½¿ç”¨æŒ‡ä»¤<code>jal</code>è·³è½¬ã€‚</li></ol><h4 id="å¯„å­˜å™¨åˆ†é…"><a href="#å¯„å­˜å™¨åˆ†é…" class="headerlink" title="å¯„å­˜å™¨åˆ†é…"></a>å¯„å­˜å™¨åˆ†é…</h4><p>åœ¨æ¯æ¬¡è¿›å…¥å‡½æ•°æ—¶ï¼ŒæŒ‰ç…§ç¬¦å·è¡¨çš„é¡ºåºä¸ºå˜é‡åˆ†é…æ‰€æœ‰çš„<code>t</code>å¯„å­˜å™¨å’Œ<code>s</code>å¯„å­˜å™¨ï¼Œå¹¶å»ºç«‹ç»‘å®šå…³ç³»ã€‚åœ¨ç¿»è¯‘å››å…ƒå¼æ—¶ï¼Œå¯¹äºä¸­é—´ä»£ç ä¸­çš„å˜é‡ï¼ŒæŸ¥çœ‹å…¶æ˜¯å¦è¢«åˆ†é…äº†å¯„å­˜å™¨ï¼Œè‹¥æ˜¯ï¼Œåˆ™ç›´æ¥è¿”å›æ­¤å¯„å­˜å™¨ï¼Œå¦åˆ™ç”¨ä¸´æ—¶å¯„å­˜å™¨ä¿å­˜è¯¥å˜é‡åœ¨å†…å­˜ä¸­çš„å€¼ï¼Œè¿”å›æ­¤ä¸´æ—¶å¯„å­˜å™¨ã€‚</p><h4 id="å››å…ƒå¼ç¿»è¯‘"><a href="#å››å…ƒå¼ç¿»è¯‘" class="headerlink" title="å››å…ƒå¼ç¿»è¯‘"></a>å››å…ƒå¼ç¿»è¯‘</h4><ul><li>åŸºæœ¬è¿ç®—<ul><li>å°†ä¸‰ä¸ªæ“ä½œæ•°ä¸­çš„ä¸­é—´å˜é‡è½¬åŒ–ä¸ºå˜é‡æ‰€åœ¨çš„å¯„å­˜å™¨(è‹¥æœªåˆ†é…å¯„å­˜å™¨åˆ™é€šè¿‡<code>lw</code>åŠ è½½åˆ°ä¸´æ—¶å¯„å­˜å™¨ä¸­)ã€‚</li><li>å°†ä¸­é—´ä»£ç ç¿»è¯‘ä¸ºå¯¹åº”çš„mipsæŒ‡ä»¤ã€‚</li><li>ç»“æœå¯„å­˜å™¨è‹¥ä½¿ç”¨çš„æ˜¯ä¸´æ—¶å¯„å­˜å™¨<code>$t</code>åˆ™å†™å›å†…å­˜ã€‚</li></ul></li><li>IOæ“ä½œ<ul><li>å¯¹äº<code>GETINT</code>åˆ™ç›´æ¥æ‰§è¡Œç³»ç»Ÿè°ƒç”¨<code>li $v0, 5 \n syscall</code>ï¼Œç»“æœèµ‹å€¼ç»™å¯¹åº”å˜é‡ã€‚</li><li>è‹¥<code>PRINT</code>çš„ä¸º<code>#STRCONS</code>(å­—ç¬¦ä¸²)ï¼Œåˆ™å…ˆè·å–ä½äº<code>.data</code>æ®µä¸­å¯¹åº”çš„åœ°å€ï¼Œå†è¿›è¡Œç³»ç»Ÿè°ƒç”¨ï¼›</li><li>è‹¥ä¸ºä¸€ä¸ªæ•°å­—ï¼Œåˆ™å°†è¯¥å˜é‡å­˜å…¥<code>$a0</code>åæ‰§è¡Œç³»ç»Ÿè°ƒç”¨ã€‚</li></ul></li><li>å‡½æ•°è°ƒç”¨<ul><li>åœ¨<code>PREPARE_CALL</code>æ—¶ï¼Œä¿®æ”¹æ ˆæŒ‡é’ˆ<code>sp</code>ï¼›</li><li>åœ¨<code>PUSH_PARA</code>æ—¶ï¼Œå°†å˜é‡çš„å€¼æˆ–è€…æ•°ç»„çš„é¦–åœ°å€ä¿å­˜åˆ°æŒ‡å®šçš„<code>offset(sp)</code>çš„ä½ç½®ï¼›</li><li>åœ¨<code>CALL</code>æ—¶ï¼Œå…ˆä¿å­˜æ‰€æœ‰<code>$s</code>å’Œ<code>$t</code>å¯„å­˜å™¨å’Œ<code>$ra</code>å¯„å­˜å™¨ï¼Œåœ¨é€šè¿‡<code>jal</code>æŒ‡ä»¤è·³è½¬åˆ°å‡½æ•°ä¸­ï¼Œè°ƒç”¨ç»“æŸåå†æ¢å¤è¿™äº›å¯„å­˜å™¨ã€‚</li></ul></li><li>è·³è½¬<ul><li>æŠŠ<code>JUMP_IF</code>æŒ‡ä»¤åçš„æ¡ä»¶ç¿»è¯‘ä¸ºä¸åŒçš„mipsæŒ‡ä»¤å®Œæˆè·³è½¬ï¼š<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> HashMap&lt;String, String&gt; mipsBOp = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">mipsBOp.put(<span class="string">&quot;!=&quot;</span>, <span class="string">&quot;bne&quot;</span>);</span><br><span class="line">mipsBOp.put(<span class="string">&quot;==&quot;</span>, <span class="string">&quot;beq&quot;</span>);</span><br><span class="line">mipsBOp.put(<span class="string">&quot;&gt;=&quot;</span>, <span class="string">&quot;bge&quot;</span>);</span><br><span class="line">mipsBOp.put(<span class="string">&quot;&lt;=&quot;</span>, <span class="string">&quot;ble&quot;</span>);</span><br><span class="line">mipsBOp.put(<span class="string">&quot;&gt;&quot;</span>, <span class="string">&quot;bgt&quot;</span>);</span><br><span class="line">mipsBOp.put(<span class="string">&quot;&lt;&quot;</span>, <span class="string">&quot;blt&quot;</span>);</span><br></pre></td></tr></table></figure></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Computer Science </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Compile </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonå­¦ä¹ ç¬”è®°</title>
      <link href="/2022/09/26/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2022/09/26/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ç« åªæ˜¯è®°å½•ä¸€ä¸‹å­¦ä¹ pythonæ—¶æ‰€åšçš„ä¸€äº›ç¬”è®°,çœ‹ä¸ªä¹å°±è¡ŒğŸ¥°</p><h1 id="åŸºç¡€è¯­æ³•éƒ¨åˆ†"><a href="#åŸºç¡€è¯­æ³•éƒ¨åˆ†" class="headerlink" title="åŸºç¡€è¯­æ³•éƒ¨åˆ†"></a>åŸºç¡€è¯­æ³•éƒ¨åˆ†</h1><div class="note info simple"><p>è¿™éƒ¨åˆ†ä¸»è¦æ˜¯è®°å½•pythonåŸºç¡€è¯­æ³•ä¸­å®¹æ˜“å¼„é”™çš„ç»†èŠ‚</p></div>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœåŠ¡å™¨éƒ¨ç½²ç›¸å…³</title>
      <link href="/2022/07/03/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2%E7%9B%B8%E5%85%B3/"/>
      <url>/2022/07/03/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2%E7%9B%B8%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<h2 id="æœåŠ¡å™¨é¢„è®¾ç½®"><a href="#æœåŠ¡å™¨é¢„è®¾ç½®" class="headerlink" title="æœåŠ¡å™¨é¢„è®¾ç½®"></a>æœåŠ¡å™¨é¢„è®¾ç½®</h2><h3 id="è¯·é€‰æ‹©ä½ çš„æœåŠ¡å™¨"><a href="#è¯·é€‰æ‹©ä½ çš„æœåŠ¡å™¨" class="headerlink" title="è¯·é€‰æ‹©ä½ çš„æœåŠ¡å™¨"></a>è¯·é€‰æ‹©ä½ çš„æœåŠ¡å™¨</h3><p>é¦–å…ˆä½ å¾—æœ‰ä¸€å°å¹´è½»äººè‡ªå·±çš„æœåŠ¡å™¨ï¼Œç›®å‰æ¥è¯´è…¾è®¯äº‘ï¼Œé˜¿é‡Œäº‘ç­‰å›½å†…çš„äº‘å¹³å°éƒ½æœ‰å­¦ç”Ÿä¼˜æƒ ï¼Œå¯¹äºå­¦ç”Ÿå…šæ¥è¯´ï¼Œæœ€ä¾¿å®œçš„å°±å¤Ÿç”¨äº†ã€‚æˆ‘ä½¿ç”¨çš„æœåŠ¡å™¨ç³»ç»Ÿæ˜¯Ubuntu Server 20.04 LTS 64bitã€‚</p><h3 id="SSHè¿œç¨‹è¿æ¥"><a href="#SSHè¿œç¨‹è¿æ¥" class="headerlink" title="SSHè¿œç¨‹è¿æ¥"></a>SSHè¿œç¨‹è¿æ¥</h3><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>è¿™éƒ¨åˆ†ä»‹ç»SSHè¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„å…·ä½“æ“ä½œï¼Œä¿å§†çº§åˆ«å“Ÿ</p></div><p>é¦–å…ˆæˆ‘ä»¬è¦é…ç½®SSHè¿œç¨‹è¿æ¥æˆ‘ä»¬çš„æœåŠ¡å™¨ï¼Œæ¯•ç«Ÿè°ä¹Ÿä¸æƒ³æ¯æ¬¡æ“ä½œæœåŠ¡å™¨éƒ½å¾—ç™»å½•äº‘å¹³å°ï¼Œé‚£æ ·å¤ªéº»çƒ¦äº†ã€‚</p><ol><li>é¦–å…ˆæˆ‘ä»¬è¦åœ¨æ§åˆ¶å°ä¸­ç‚¹å‡»ç™»å½•ï¼Œç¬¬ä¸€æ­¥è¦åˆå§‹åŒ–è¶…çº§ç”¨æˆ·ROOTçš„å¯†ç ï¼Œè¿›å…¥superuseræƒé™ï¼š<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd     # åˆå§‹åŒ–å¯†ç </span><br><span class="line">su              # åˆ‡æ¢åˆ°ROOTè¶…çº§ç”¨æˆ·</span><br></pre></td></tr></table></figure></li><li>ç„¶åæˆ‘ä»¬è¦ä¿®æ”¹ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼Œå…è®¸SSHè¿œç¨‹è¿æ¥æœåŠ¡å™¨ï¼š<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config    # ç¼–è¾‘sshé…ç½®æ–‡ä»¶</span><br></pre></td></tr></table></figure></li><li>æ‰“å¼€æ–‡ä»¶åï¼Œå¯¹å¦‚ä¸‹è¡ŒæŒ‰ç…§æ³¨é‡Šè¿›è¡Œä¿®æ”¹ï¼š<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">RSAAuthentication yes                       # å¼€å¯rsaéªŒè¯ï¼Œéœ€è¦æ·»åŠ </span><br><span class="line">PubkeyAuthentication yes                    # å¼€å¯å…¬é’¥ç™»å½•ï¼Œä¸€èˆ¬è¢«æ³¨é‡Šæ‰äº†ï¼Œå»æ‰å‰é¢çš„#å°±å¥½</span><br><span class="line">AuthorizedKeysFile .ssh/authorized_keys     # å…¬é’¥ä¿å­˜ä½ç½®ï¼ŒåŸæ¥å°±æœ‰</span><br><span class="line">PasswordAuthentication yes                  # å¼€å¯ä½¿ç”¨å¯†ç ç™»å½•</span><br></pre></td></tr></table></figure></li><li>ä¿å­˜é€€å‡ºåä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤é‡å¯SSHæœåŠ¡<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service sshd restart        # é‡å¯sshæœåŠ¡</span><br></pre></td></tr></table></figure></li><li>å†åœ¨rootæ¨¡å¼ä¸‹ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤æ·»åŠ ä¸€ä¸ªç”¨æˆ·ï¼š<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adduser takune  # takuneæ›¿æ¢ä¸ºä½ çš„ç”¨æˆ·å</span><br></pre></td></tr></table></figure>è¾“å…¥å¯†ç ä¹‹åå³å¯æˆåŠŸåˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ã€‚</li><li>ç”±äºéƒ¨åˆ†æœåŠ¡å™¨æ“ä½œéœ€è¦<code>sudo</code>æƒé™ï¼Œå› æ­¤æˆ‘ä»¬è¦ç»™æ–°æ·»åŠ çš„ç”¨æˆ·è®¾ç½®ç›¸å…³çš„æƒé™ï¼š<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sudoers            # åœ¨è¯¥æ–‡ä»¶ä¸‹é…ç½®æ–°ç”¨æˆ·çš„sudoæƒé™</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">User privilege specification</span></span><br><span class="line">takune ALL=(ALL:ALL) ALL    # æ·»åŠ sudoæƒé™ï¼Œä½¿ç”¨wq!å¼ºåˆ¶ä¿å­˜é…ç½®</span><br></pre></td></tr></table></figure></li><li>è·å–æœ¬åœ°SSHå…¬é’¥ä¹‹åï¼ŒæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤è¿›è¡Œé…ç½®ï¼š<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ssh takune@123.45.56.890    # takuneä¸ºä½ çš„ç”¨æˆ·åï¼Œ@åé¢ä¸ºæœåŠ¡å™¨çš„IPåœ°å€</span><br><span class="line">mkdir .ssh                  # åœ¨è¯¥ç”¨æˆ·çš„æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª.sshæ–‡ä»¶å¤¹</span><br><span class="line">cd .ssh                     # è¿›å…¥.sshæ–‡ä»¶å¤¹</span><br><span class="line">touch authorized_keys       # åˆ›å»ºåå­—ä¸ºauthorized_keysçš„æ–‡ä»¶</span><br><span class="line">vim authorized_keys         # ç¼–è¾‘è¯¥æ–‡ä»¶å†…å®¹ï¼Œå°†SSHå…¬é’¥å¤åˆ¶åˆ°æ–‡ä»¶ä¸­åä¿å­˜é€€å‡ºå³å¯è¿œç¨‹SSHè¿æ¥</span><br><span class="line">sudo service sshd restart   # ä½¿ç”¨sudoæƒé™é‡å¯SSHæœåŠ¡ </span><br></pre></td></tr></table></figure>åˆ°è¿™ä¸€æ­¥æˆ‘ä»¬ç»ˆäºå®ç°äº†é€šè¿‡SSHè¿œç¨‹è¿æ¥æœåŠ¡å™¨ï¼Œå°±å¯ä»¥æ›´åŠ æ–¹ä¾¿åœ°æ“ä½œæœåŠ¡å™¨äº†ã€‚</li></ol><h2 id="æœåŠ¡å™¨å®‰è£…Mysqlä»¥åŠç›¸å…³é…ç½®"><a href="#æœåŠ¡å™¨å®‰è£…Mysqlä»¥åŠç›¸å…³é…ç½®" class="headerlink" title="æœåŠ¡å™¨å®‰è£…Mysqlä»¥åŠç›¸å…³é…ç½®"></a>æœåŠ¡å™¨å®‰è£…Mysqlä»¥åŠç›¸å…³é…ç½®</h2><p>é€šè¿‡ä¸Šä¸€partçš„é…ç½®ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨çš„æœ¬åœ°çš„powershellè¿œç¨‹è¿æ¥æœåŠ¡å™¨è¿›è¡Œç›¸å…³æ“ä½œäº†ã€‚ä¸‹é¢æˆ‘ä»¬å°†ä»‹ç»åœ¨æœåŠ¡å™¨å®‰è£…Mysqlçš„å…·ä½“æ­¥éª¤ä»¥åŠç›¸å…³é…ç½®ä½¿å¾—æˆ‘ä»¬å¯ä»¥è¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„mysqlã€‚</p><h3 id="æœåŠ¡å™¨å®‰è£…mysqlæ­¥éª¤"><a href="#æœåŠ¡å™¨å®‰è£…mysqlæ­¥éª¤" class="headerlink" title="æœåŠ¡å™¨å®‰è£…mysqlæ­¥éª¤"></a>æœåŠ¡å™¨å®‰è£…mysqlæ­¥éª¤</h3><ol><li>é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤æ›´æ–°aptç®¡ç†çš„èµ„æºåŒ…ï¼Œè¿™æ ·æ‰èƒ½å¤Ÿå®‰è£…çš„æœ€æ–°ç‰ˆæœ¬çš„Mysql<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure></li><li>é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤å®‰è£…Mysql<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install mysql-server</span><br></pre></td></tr></table></figure></li><li>å®‰è£…ä»¥åé€šè¿‡ä»¥ä¸‹æŒ‡ä»¤æŸ¥çœ‹mysqlè¿è¡ŒçŠ¶æ€ï¼›<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status mysql</span><br></pre></td></tr></table></figure>è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºæ—¶ï¼Œè¡¨ç¤ºmysqlå·²ç»å¤„äºå…è®¸çŠ¶æ€ã€‚<br><img src="https://s2.loli.net/2022/07/05/3WurgSQ2bPxOcsZ.png" alt="MysqlçŠ¶æ€æŸ¥è¯¢"></li></ol><h3 id="mysqlè¿œç¨‹è¿æ¥ç›¸å…³é…ç½®"><a href="#mysqlè¿œç¨‹è¿æ¥ç›¸å…³é…ç½®" class="headerlink" title="mysqlè¿œç¨‹è¿æ¥ç›¸å…³é…ç½®"></a>mysqlè¿œç¨‹è¿æ¥ç›¸å…³é…ç½®</h3><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦è¿œç¨‹è¿æ¥æ•°æ®åº“å¹¶å¯¹å…¶ä¸­çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„æ“ä½œã€‚ä½†æ˜¯åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œmysqlä»…ç›‘å¬æœ¬åœ°è¿æ¥ã€‚è‹¥æƒ³å…è®¸è¿œç¨‹è¿æ¥æ•°æ®åº“ï¼Œé¦–å…ˆéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œè®©mysqlå¯ä»¥ç›‘å¬è¿œç¨‹å›ºå®šIPæˆ–æ‰€æœ‰è¿œç¨‹IPã€‚å› æ­¤è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬å°†ä¿®æ”¹mysqlçš„ç›¸å…³é…ç½®æ–‡ä»¶ï¼Œä»¥å®ç°è¿œç¨‹è¿æ¥çš„ç›®çš„ã€‚</p><h4 id="ä¿®æ”¹é…ç½®æ–‡ä»¶mysqld-cnf"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶mysqld-cnf" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶mysqld.cnf"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶mysqld.cnf</h4><p>å…¶ä¸­é…ç½®æ–‡ä»¶<code>mysqld.cnf</code>çš„è·¯å¾„ä¸€èˆ¬ä¸º<code>/etc/mysql/mysql.conf.d/mysqld.cnf</code>ã€‚</p><ol><li>é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›å…¥é…ç½®æ–‡ä»¶<code>mysqld.cnf</code>ï¼›<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf</span><br></pre></td></tr></table></figure></li><li>è¿›å…¥é…ç½®æ–‡ä»¶åï¼Œæ‰¾åˆ°<code>bind-address</code>æ‰€åœ¨é‚£ä¸€è¡Œï¼Œé»˜è®¤å€¼ä¸º127.0.0.1ï¼Œè¡¨ç¤ºä»…ç›‘å¬æœ¬åœ°è¿æ¥ã€‚å› æ­¤æˆ‘ä»¬è¦å°†å…¶æ”¹ä¸ºè¿œç¨‹IPå¯è®¿é—®ã€‚é€šè¿‡ä½¿ç”¨é€šé…ç¬¦IPåœ°å€0.0.0.0å¯ä»¥å®ç°ä»»æ„IPè¿æ¥ï¼Œæˆ–è€…æ˜¯æŒ‡å®šçš„IPåœ°å€ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬å°†å…¶è®¾ç½®ä¸º0.0.0.0ï¼Œå³å…è®¸æ‰€æœ‰IPè®¿é—®ã€‚<br><img src="https://s2.loli.net/2022/07/05/4856K7SRPt2dZon.png" alt="ä¿®æ”¹mysqlé…ç½®æ–‡ä»¶"></li><li>é‡å¯mysqlæœåŠ¡<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart mysql</span><br></pre></td></tr></table></figure></li></ol><div class="note info flat"><p>åœ¨éƒ¨åˆ†mysqlç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶ä¸­æ²¡æœ‰<code>bind-address</code>è¿™ä¸€è¡Œï¼Œåœ¨é€‚å½“çš„åœ°æ–¹åŠ ä¸Šå°±è¡Œ</p></div><h4 id="æ·»åŠ æ–°çš„mysqlç”¨æˆ·"><a href="#æ·»åŠ æ–°çš„mysqlç”¨æˆ·" class="headerlink" title="æ·»åŠ æ–°çš„mysqlç”¨æˆ·"></a>æ·»åŠ æ–°çš„mysqlç”¨æˆ·</h4><p>ç”±äºä½¿ç”¨ROOTç”¨æˆ·è¿›è¡Œè¿œç¨‹è¿æ¥å¯èƒ½ä¼šå‡ºç°æ— æ³•ä½¿ç”¨å¯†ç ç™»å½•çš„æƒ…å†µï¼Œå› æ­¤æœ€å¥½åˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·ã€‚</p><ol><li>é¦–å…ˆä½¿ç”¨sudoæƒé™è¿›å…¥mysqlï¼›<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysql</span><br></pre></td></tr></table></figure></li><li>è¿›å…¥mysqlåï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·ï¼Œå¹¶ä¸”è®¾ç½®ä¸ºä½¿ç”¨å¯†ç ä½œä¸ºè®¤è¯æ–¹å¼ï¼›<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;userName&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">&#x27;passwd&#x27;</span>;</span><br></pre></td></tr></table></figure>ä¸Šè¿°å‘½ä»¤ä¸­ï¼Œ%è¡¨ç¤ºIPä»»æ„ï¼Œ<code>userName</code>å’Œ<code>passwd</code>ä¿®æ”¹ä¸ºè‡ªå·±çš„ç”¨æˆ·åå’Œå¯†ç ã€‚</li><li>èµ‹äºˆåˆšåˆšåˆ›å»ºçš„ç”¨æˆ·æ‰€æœ‰æ•°æ®åº“çš„æƒé™ï¼Œä½¿ä¹‹æˆä¸ºæ–°çš„ç®¡ç†ç”¨æˆ·ï¼›<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;userName&#x27;</span>@<span class="string">&#x27;%&#x27;</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;</span><br></pre></td></tr></table></figure></li><li>åˆ·æ–°mysqlè®¿é—®æƒé™ï¼Œé€€å‡ºmysqlã€‚<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br><span class="line">EXIT;</span><br></pre></td></tr></table></figure>åˆ°æ­¤ä¸ºæ­¢æˆ‘ä»¬å°±å®ç°äº†æœåŠ¡å™¨ç«¯mysqlçš„å®‰è£…ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¿œç¨‹è¿æ¥äº†ã€‚<h2 id="æœåŠ¡å™¨å®‰è£…Djangoç¯å¢ƒ"><a href="#æœåŠ¡å™¨å®‰è£…Djangoç¯å¢ƒ" class="headerlink" title="æœåŠ¡å™¨å®‰è£…Djangoç¯å¢ƒ"></a>æœåŠ¡å™¨å®‰è£…Djangoç¯å¢ƒ</h2></li></ol><p>åœ¨æœ¬æ­¥éª¤ä¸­æˆ‘ä»¬å°†åœ¨æœåŠ¡å™¨æ­å»ºDjangoï¼Œå¹¶ä¸”é‡‡ç”¨Minicondaæ¥å¯¹ç¯å¢ƒè¿›è¡Œç®¡ç†ã€‚</p><h3 id="Miniconda"><a href="#Miniconda" class="headerlink" title="Miniconda"></a>Miniconda</h3><p>ä»‹ç»ä¸€ä¸‹ï¼ŒCondaæ˜¯åœ¨Windowsã€macOSå’ŒLinuxä¸Šè¿è¡Œçš„å¼€æºè½¯ä»¶åŒ…ç®¡ç†ç³»ç»Ÿå’Œç¯å¢ƒç®¡ç†ç³»ç»Ÿã€‚Condaå¯ä»¥å¿«é€Ÿå®‰è£…ã€è¿è¡Œå’Œæ›´æ–°è½¯ä»¶åŒ…åŠå…¶ä¾èµ–é¡¹ã€‚Condaå¯ä»¥è½»æ¾åœ°åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šçš„ç¯å¢ƒä¸­åˆ›å»ºï¼Œä¿å­˜ï¼ŒåŠ è½½å’Œåˆ‡æ¢ã€‚å®ƒæ˜¯ä¸ºPythonç¨‹åºåˆ›å»ºçš„ï¼Œä½†å¯ä»¥æ‰“åŒ…å’Œåˆ†å‘é€‚ç”¨äºä»»ä½•è¯­è¨€çš„è½¯ä»¶ã€‚</p><p>å› æ­¤æˆ‘ä»¬é€‰æ‹©å®‰è£…Anacondaæˆ–è€…Minicondaæ¥ç®¡ç†æœåŠ¡å™¨çš„Pythonç¯å¢ƒï¼Œæˆ‘é€‰æ‹©çš„æ˜¯Miniconda(é—®å°±æ˜¯æ²¡é’±)ã€‚</p><ol><li><p>ä½ å¯ä»¥åœ¨æ¸…åé•œåƒä¸‹è½½å¯¹åº”çš„Minicondaå®‰è£…åŒ…ã€‚<a class="btn-beautify outline" href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/"   title="ä¸‹è½½Miniconda"><i class="far fa-hand-point-right"></i><span>ä¸‹è½½Miniconda</span></a></p></li><li><p>åœ¨æœ¬åœ°ç”¨powershellè¾“å…¥å¦‚ä¸‹æŒ‡ä»¤å°†ä¸‹è½½å¥½çš„å®‰è£…åŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼›</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp /path takune@0.0.0.0:/home/takune/</span><br></pre></td></tr></table></figure><p>å°†ä¸Šè¿°æŒ‡ä»¤ä¸­çš„<code>/path</code>æ›¿æ¢ä¸ºMinicondaå®‰è£…åŒ…çš„è·¯å¾„ï¼Œ<code>takune</code>æ›¿æ¢ä¸ºä½ çš„æœåŠ¡å™¨ç”¨æˆ·åï¼Œ<code>0.0.0.0</code>æ›¿æ¢ä¸ºä½ çš„æœåŠ¡å™¨çš„IPåœ°å€ã€‚</p></li><li><p>ç™»å½•æœåŠ¡å™¨ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤è¿›è¡Œminicondaçš„å®‰è£…ï¼›</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash name   # å°†nameæ›¿æ¢ä¸ºMinicondaå®‰è£…åŒ…çš„åå­—</span><br></pre></td></tr></table></figure><p>ç„¶åæŒ‰ç…§æç¤ºä¸€è·¯å®‰è£…å³å¯ã€‚</p></li></ol><h3 id="æ­å»ºDjangoç¯å¢ƒ"><a href="#æ­å»ºDjangoç¯å¢ƒ" class="headerlink" title="æ­å»ºDjangoç¯å¢ƒ"></a>æ­å»ºDjangoç¯å¢ƒ</h3><ol><li>ä½¿ç”¨condaæŒ‡ä»¤åˆ›å»ºä¸€ä¸ªdjangoç¯å¢ƒ(ä½¿ç”¨çš„æ˜¯python3.8ç‰ˆæœ¬)ï¼›<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create --name django python=3.8 </span><br></pre></td></tr></table></figure>è¿™æ ·å°±å®Œæˆäº†æœåŠ¡å™¨Djangoç¯å¢ƒçš„ç›¸å…³é…ç½®äº†ï¼Œç„¶åå°†ä½ çš„åç«¯é¡¹ç›®ä¸Šä¼ å³å¯ã€‚<h2 id="é…ç½®uWSGI"><a href="#é…ç½®uWSGI" class="headerlink" title="é…ç½®uWSGI"></a>é…ç½®uWSGI</h2></li></ol><p>ä»‹ç»ï¼šuWSGIå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå¯æŒç»­è¿è¡Œçš„åç«¯çš„æœåŠ¡å™¨æ¨¡å—ï¼Œå¯ä»¥ä¿®æ”¹ç›¸å…³é…ç½®æ–‡ä»¶æŒ‡å®šè¿›ç¨‹ã€çº¿ç¨‹çš„æœ€å¤§æ•°é‡ã€‚</p><p>ä½¿ç”¨condaæŒ‡ä»¤å®‰è£…uWSGIï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install -c conda-forge uwsgi</span><br></pre></td></tr></table></figure><br>æŒ‰ç…§æç¤ºè¿›è¡Œç›¸å…³é…ç½®å³å¯</p><h2 id="é…ç½®Nginx"><a href="#é…ç½®Nginx" class="headerlink" title="é…ç½®Nginx"></a>é…ç½®Nginx</h2><ol><li>ä¸‹è½½Nginxï¼›<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install nginx</span><br></pre></td></tr></table></figure></li><li>å¯åŠ¨NginxæœåŠ¡ï¼›<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start nginx</span><br></pre></td></tr></table></figure></li></ol><h2 id="éƒ¨ç½²å‰ç«¯"><a href="#éƒ¨ç½²å‰ç«¯" class="headerlink" title="éƒ¨ç½²å‰ç«¯"></a>éƒ¨ç½²å‰ç«¯</h2><p>é…ç½®å®ŒæˆNginxå,æ‰“å¼€Nginxæ–‡ä»¶å¤¹ä¸‹çš„<code>nginx.conf</code>æ–‡ä»¶,å…¶å†…å®¹æœ‰å¦‚ä¸‹ä¸€è¡Œ:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">include /etc/nginx/conf.d/*.conf;</span><br></pre></td></tr></table></figure><br>å› ä¸ºè¯¥æ–‡ä»¶includeäº†æ–‡ä»¶å¤¹<code>conf.d</code>ä¸­æ‰€æœ‰åç¼€ä¸º<code>.conf</code>çš„æ–‡ä»¶,æ‰€ä»¥æˆ‘ä»¬åªè¦åœ¨æ–‡ä»¶å¤¹<code>conf.d</code>ä¸­æ·»åŠ å¯¹åº”çš„<code>.conf</code>æ–‡ä»¶å³å¯ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æ–°å»º<code>web.conf</code>ï¼Œå¹¶å°†å¦‚ä¸‹å†…å®¹å¤åˆ¶åˆ°å…¶ä¸­ï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name 00.000.00.00;   # add your server IP if you haven&#x27;t domain</span><br><span class="line">    # if you have domain, use this</span><br><span class="line">    # listen 443 ssl;</span><br><span class="line">    # server_name  your domain name;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        root /home/takune/fronted-demo; # It&#x27;s your fronted-demo path</span><br><span class="line">        index index.html index.htm;</span><br><span class="line">        try_files $uri $uri/ /index.html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location /api &#123;        </span><br><span class="line">        include /etc/nginx/uwsgi_params;</span><br><span class="line">        uwsgi_pass 127.0.0.1:8080;                                                               </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # ssl_certificate /etc/nginx/ssl/zewan.top.crt;</span><br><span class="line">    # ssl_certificate_key /etc/nginx/ssl/zewan.top.key;</span><br><span class="line">    # ssl_session_timeout  5m;</span><br><span class="line">    # ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">    # ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4:!DH:!DHE;</span><br><span class="line">    # ssl_prefer_server_ciphers  on;</span><br><span class="line"></span><br><span class="line">    error_page 497  https://$host$uri?$args;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><br>ä¿å­˜å¹¶ä¸”é€€å‡ºï¼Œä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤æ£€æŸ¥ç›¸å…³é…ç½®å’Œé‡å¯æœåŠ¡ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -t           # æ£€æŸ¥nginxæ˜¯å¦å­˜åœ¨é”™è¯¯</span><br><span class="line">sudo nginx -s reload    # é‡å¯nginxæœåŠ¡  </span><br></pre></td></tr></table></figure><br>åˆ°æ­¤æˆ‘ä»¬å°±æˆåŠŸå°†å‰ç«¯éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Computer Science </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQL </tag>
            
            <tag> æœåŠ¡å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java Socketé€šä¿¡è¯¦è§£</title>
      <link href="/2022/06/26/Java-Socket%E9%80%9A%E4%BF%A1%E8%AF%A6%E8%A7%A3/"/>
      <url>/2022/06/26/Java-Socket%E9%80%9A%E4%BF%A1%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨å†™çš„Javaå¤§ä½œä¸šä¸­éœ€è¦ç”¨åˆ°Java Socketé€šä¿¡ï¼Œæœ¬æ–‡ç« åœ¨ä½œä¸šå®è·µçš„åŸºç¡€ä¸Šï¼Œå°†å®è·µä¸­å­¦ä¹ çš„Socketé€šä¿¡çš„ç›¸å…³åŸºç¡€çŸ¥è¯†å’Œé‡åˆ°çš„éš¾ç‚¹è¿›è¡Œè®°å½•å’Œåˆ†æï¼Œå¹¶ä¸”ç»™å‡ºè§£å†³åŠæ³•ã€‚ä¸‹é¢å°±æ˜¯æ­£ç‰‡åŠ›ï¼</p><h2 id="Socketæ˜¯ä¸ªä»€ä¹ˆä¸œä¸œï¼Ÿ"><a href="#Socketæ˜¯ä¸ªä»€ä¹ˆä¸œä¸œï¼Ÿ" class="headerlink" title="Socketæ˜¯ä¸ªä»€ä¹ˆä¸œä¸œï¼Ÿ"></a>Socketæ˜¯ä¸ªä»€ä¹ˆä¸œä¸œï¼Ÿ</h2><p>Socketçš„è‹±æ–‡å«ä¹‰ä¸ºæ’åº§ï¼Œå¯è°“æ˜¯ç”ŸåŠ¨å½¢è±¡äº†ã€‚å› ä¸ºsocketå°±åƒä¸€ä¸ªç”µè¯æ’åº§ï¼Œè´Ÿè´£è”é€šä¸¤ç«¯çš„ç”µè¯ï¼Œè¿›è¡Œç‚¹å¯¹ç‚¹é€šä¿¡ï¼Œæ­¤æ—¶ç«¯å£å°±åƒæ’åº§ä¸Šé¢çš„å­”ï¼Œç«¯å£ä¸èƒ½åŒæ—¶è¢«å…¶å®ƒè¿›ç¨‹å ç”¨ã€‚è€Œæˆ‘ä»¬å»ºç«‹è¿æ¥å°±åƒæŠŠæ’å¤´æ’åœ¨æ’åº§ä¸Šï¼Œè¿™æ ·åœ¨åˆ›å»ºä¸€ä¸ªSocketå®ä¾‹å¼€å§‹ç›‘å¬æ¥å£åï¼Œè¿™ä¸ªç”µè¯æ’åº§å°±æ—¶åˆ»ç›‘å¬æ¶ˆæ¯çš„ä¼ å…¥ï¼Œè°è¿æ¥ä¸Šæˆ‘çš„IPåœ°å€å’Œç«¯å£ï¼Œæˆ‘å°±ä¸å…¶å»ºç«‹è”ç³»ã€‚</p><h2 id="Socketé€šä¿¡åŸºæœ¬åŸç†"><a href="#Socketé€šä¿¡åŸºæœ¬åŸç†" class="headerlink" title="Socketé€šä¿¡åŸºæœ¬åŸç†"></a>Socketé€šä¿¡åŸºæœ¬åŸç†</h2><p>Socketæ˜¯åŸºäºåº”ç”¨æœåŠ¡ä¸TCP/IPé€šä¿¡ä¹‹é—´çš„ä¸€ä¸ªæŠ½è±¡ã€‚Socketå°†TCP/IPé€šä¿¡åè®®é‡Œé¢å¤æ‚çš„é€šä¿¡é€»è¾‘è¿›è¡Œäº†å°è£…ï¼Œå› æ­¤å¯¹ç”¨æˆ·æ¥è¯´ï¼Œåªéœ€è¦ä½¿ç”¨Socketæä¾›çš„æ–¹æ³•å°±å¯ä»¥å®ç°ç½‘ç»œçš„è¿æ¥ä¸é€šä¿¡ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´ä½¿ç”¨Socketé€šä¿¡çš„æµç¨‹å›¾å¦‚ä¸‹æ‰€ç¤ºã€‚<br><img src="https://s2.loli.net/2022/06/26/2w98aqkMlgxY5KI.png" alt="Socketé€šä¿¡å›¾.png"></p><p>é¦–å…ˆï¼ŒæœåŠ¡å™¨ç«¯åˆå§‹åŒ–ServerSocketï¼Œç„¶åå¯¹æŒ‡å®šçš„ç«¯å£è¿›è¡Œç›‘å¬ï¼Œé€šè¿‡è°ƒç”¨<code>Accept()</code>æ–¹æ³•è¿›è¡Œé˜»å¡ï¼Œæ­¤æ—¶ï¼Œå¦‚æœå®¢æˆ·ç«¯æœ‰ä¸€ä¸ªæˆ‘socketè¿æ¥åˆ°æœåŠ¡ç«¯ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯é€šè¿‡ç›‘å¬å’Œ<code>Accept()</code>æ–¹æ³•å¯ä»¥ä¸å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥ã€‚</p><h2 id="Socketé€šä¿¡ä¸­æœ€åŸºæœ¬çš„ä»£ç ç¤ºä¾‹"><a href="#Socketé€šä¿¡ä¸­æœ€åŸºæœ¬çš„ä»£ç ç¤ºä¾‹" class="headerlink" title="Socketé€šä¿¡ä¸­æœ€åŸºæœ¬çš„ä»£ç ç¤ºä¾‹"></a>Socketé€šä¿¡ä¸­æœ€åŸºæœ¬çš„ä»£ç ç¤ºä¾‹</h2><p>é€šè¿‡å‰ä¸¤ä¸ªéƒ¨åˆ†å¯¹äºSocketçš„è®²è§£ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹Socketé€šä¿¡çš„åŸºæœ¬åŸç†å·²ç»æœ‰æ‰€äº†è§£ï¼Œç°åœ¨æˆ‘ä»¬å°±å¼€å§‹æ„‰å¿«åœ°æ•²ä»£ç å§ï¼<br><div class="tabs" id="code1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#code1-1">æœåŠ¡ç«¯</button></li><li class="tab"><button type="button" data-href="#code1-2">å®¢æˆ·ç«¯</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="code1-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="comment">//æœåŠ¡ç«¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerSocketTest</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–æœåŠ¡ç«¯socketå¹¶ä¸”ç»‘å®š9999ç«¯å£</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9999</span>);</span><br><span class="line">        <span class="comment">//ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">        <span class="comment">//è·å–è¾“å…¥æµ</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(socket.getInputStream()));</span><br><span class="line">        <span class="comment">//è¯»å–ä¸€è¡Œæ•°æ®</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> bufferedReader.readLine();</span><br><span class="line">        <span class="comment">//è¾“å‡ºæ‰“å°</span></span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="code1-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClientSocket</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">9999</span>);</span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bufferedWriter</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(socket.getOutputStream()));</span><br><span class="line">        String str=<span class="string">&quot;ä½ å¥½ï¼Œè¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªsocket&quot;</span>;</span><br><span class="line">        bufferedWriter.write(str);</span><br><span class="line">    &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><p>å°†ä»£ç å¤åˆ¶å¹¶ä¸”è¿è¡Œï¼Œé¦–å…ˆå¯åŠ¨æœåŠ¡ç«¯ServerSocketçš„mainå‡½æ•°ï¼Œå‘ç°ä¸€åˆ‡æ­£å¸¸ï¼Œå…¶åœ¨ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥ï¼š</p><p><img src="https://s2.loli.net/2022/06/26/Sn9YvsKrNoHbRUT.png" alt="æœåŠ¡ç«¯ç»ˆç«¯è¾“å‡º1.png"></p><p>ç„¶åå†å¯åŠ¨å®¢æˆ·ç«¯ï¼Œå‘ç°å®¢æˆ·ç«¯å¯ä»¥æ­£å¸¸å¯åŠ¨ï¼Œæ‰§è¡Œå®Œä¹‹åé©¬ä¸Šå…³é—­ï¼ŒåŒæ—¶æœåŠ¡ç«¯æ§åˆ¶å°æŠ¥å‡ºä»¥ä¸‹é”™è¯¯ï¼š</p><p><img src="https://s2.loli.net/2022/06/26/Zyvg2XdtoAIHMOB.png" alt="æœåŠ¡ç«¯ç»ˆç«¯è¾“å‡º2.png"></p><p>å‡ºç°å¦‚ä¸ŠæŠ¥é”™çš„åŸå› å¦‚ä¸‹ï¼šé¦–å…ˆsocketé€šä¿¡æ—¶é˜»å¡çš„ï¼Œå…¶ä¼šåœ¨ä»¥ä¸‹å‡ ä¸ªåœ°æ–¹è¿›è¡Œé˜»å¡ï¼šé¦–å…ˆæ˜¯<code>accept()</code>æ–¹æ³•ï¼ŒæœåŠ¡ç«¯è°ƒç”¨æ­¤æ–¹æ³•åï¼Œä¼šä¸€ç›´é˜»å¡åœ¨é‚£é‡Œï¼Œç›´åˆ°æœ‰å®¢æˆ·ç«¯ç”³è¯·è¿æ¥æœåŠ¡ç«¯ï¼›ç¬¬äºŒä¸ªæ˜¯<code>read()</code>æ–¹æ³•ï¼Œè°ƒç”¨<code>read()</code>æ–¹æ³•ä¹Ÿå¯ä»¥è¿›è¡Œé˜»å¡ã€‚é€šè¿‡ä»¥ä¸Šä»£ç å®ä¾‹å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªæŠ¥é”™çš„ç½ªé­ç¥¸é¦–å…¶å®å°±æ˜¯æœåŠ¡ç«¯çš„<code>read()</code>æ–¹æ³•ã€‚é¦–å…ˆé€šè¿‡è°ƒè¯•åŠŸèƒ½æµ‹è¯•å®¢æˆ·ç«¯çš„è¿è¡Œæ²¡æœ‰é—®é¢˜ï¼Œå®¢æˆ·ç«¯ç¡®ç¡®å®å®æŠŠä¿¡æ¯å‘é€å‡ºå»äº†ã€‚å› æ­¤é—®é¢˜ä¸€å®šåœ¨æœåŠ¡ç«¯ä¸Šé¢ã€‚å½“æœåŠ¡ç«¯è°ƒç”¨<code>read()</code>æ–¹æ³•åï¼Œå®ƒå°±ä¼šä¸€ç›´é˜»å¡åœ¨é‚£é‡Œï¼Œç›´åˆ°å®¢æˆ·ç«¯æŠŠæ•°æ®å‘é€å®Œæ¯•ã€‚ä½†æ˜¯åœ¨è¿™ä¸ªä»£ç ç¤ºä¾‹ä¸­å®¢æˆ·ç«¯å¹¶æ²¡æœ‰ç»™æœåŠ¡ç«¯ä¸€ä¸ªæ ‡è¯†ï¼Œä½¿å¾—æœåŠ¡ç«¯èƒ½å¤Ÿåˆ¤æ–­å®¢æˆ·ç«¯æ¶ˆæ¯æ˜¯å¦å·²ç»å‘é€å®Œæ¯•ï¼Œæ‰€ä»¥åœ¨å®¢æˆ·ç«¯å…³é—­ä¹‹åæœåŠ¡ç«¯ä¾æ—§é˜»å¡åœ¨<code>read()</code>æ–¹æ³•å¤„ç­‰å¾…å®¢æˆ·ç«¯çš„æ•°æ®ï¼Œå› æ­¤æ‰ä¼šæŠ¥é”™<code>java.net.SocketException: Connection reset</code>ã€‚</p><p>å½“ç„¶è§£å†³ä¸Šé¢çš„é—®é¢˜æ–¹æ³•å…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦æˆ‘ä»¬èƒ½å¤Ÿåœ¨å®¢æˆ·ç«¯ä¼ è¾“æ¶ˆæ¯å®Œæ¯•åç»™æœåŠ¡ç«¯ä¸€ä¸ªæ ‡è¯†è¯æ˜ä¿¡æ¯ä¼ è¾“å®Œæˆï¼Œé‚£ä¹ˆæœåŠ¡ç«¯å°±å¯ä»¥æ­£å¸¸å·¥ä½œäº†ã€‚è€Œå®Œæˆè¿™ç§åŠŸèƒ½çš„æ–¹æ³•é€šå¸¸æœ‰ä¸‹é¢ä¸¤ç§ï¼š</p><ul><li><code>socket.close()</code>ï¼šå…³é—­socketè¿æ¥ï¼Œæ­¤æ—¶å¦‚æœæœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯åé¦ˆä¿¡æ¯çš„è¯ï¼Œç”±äºsocketè¿æ¥å·²ç»å…³é—­ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯æ˜¯æ”¶ä¸åˆ°çš„ã€‚</li><li><code>socket.shutdownOutput()</code>ï¼šè¯¥æ–¹æ³•åªæ˜¯å…³é—­è¾“å‡ºæµï¼Œä¸ä¼šå…³é—­socketè¿æ¥ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä¾æ—§å¯ä»¥æ”¶åˆ°æœåŠ¡ç«¯çš„åé¦ˆä¿¡æ¯ã€‚</li></ul><p>å› æ­¤åªè¦æˆ‘ä»¬åœ¨ä»¥ä¸Šä»£ç ä¸­å®¢æˆ·ç«¯çš„éƒ¨åˆ†å¢åŠ ä¸€ä¸ªæ ‡è¯†å°±è¡Œäº†ã€‚æ›´æ–°åçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClientSocket</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">9999</span>);</span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bufferedWriter</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(socket.getOutputStream()));</span><br><span class="line">        String str=<span class="string">&quot;ä½ å¥½ï¼Œè¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªsocket&quot;</span>;</span><br><span class="line">        bufferedWriter.write(str);</span><br><span class="line">        <span class="comment">// åˆ·æ–°è¾“å…¥æµ</span></span><br><span class="line">        bufferedWriter.flush();</span><br><span class="line">        <span class="comment">//å…³é—­socketçš„è¾“å‡ºæµ</span></span><br><span class="line">        socket.shutdownOutput();</span><br><span class="line">    &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…ˆåè¿è¡ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åï¼Œå®¢æˆ·ç«¯æ­£å¸¸ç»“æŸï¼ŒæœåŠ¡ç«¯çš„ç»ˆç«¯è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://s2.loli.net/2022/06/26/hpu39nPKvjgyE6W.png" alt="æœåŠ¡ç«¯ç»ˆç«¯è¾“å‡º3.png"></p><p>é€šè¿‡åˆ†æä»¥ä¸Šæ¡ˆä¾‹ï¼Œç›¸ä¿¡èªæ˜çš„ä½ å·²ç»åŸºæœ¬äº†è§£äº†socketçš„é€šä¿¡åŸç†äº†å§ï¼Œä¸‹é¢å°±è®©æˆ‘ä»¬æ¥äº†è§£ä¸€äº›socketé€šä¿¡è¿›é˜¶ç‰ˆçš„å†™æ³•å§ã€‚</p><h2 id="Socketé€šä¿¡å®ç°è¿ç»­æ¥å—å®¢æˆ·ç«¯ä¿¡æ¯"><a href="#Socketé€šä¿¡å®ç°è¿ç»­æ¥å—å®¢æˆ·ç«¯ä¿¡æ¯" class="headerlink" title="Socketé€šä¿¡å®ç°è¿ç»­æ¥å—å®¢æˆ·ç«¯ä¿¡æ¯"></a>Socketé€šä¿¡å®ç°è¿ç»­æ¥å—å®¢æˆ·ç«¯ä¿¡æ¯</h2><p>ä¸Šé¢çš„ä»£ç ç¤ºä¾‹ä¸­çš„socketå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å›ºç„¶å¯ä»¥å®ç°é€šä¿¡ä½†æ˜¯æ¯æ¬¡å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯åsocketéƒ½ä¼šå…³é—­ï¼Œè¿™æ˜¾ç„¶å’Œæˆ‘ä»¬å¹³æ—¶ç”¨åˆ°çš„åœ¨çº¿èŠå¤©è½¯ä»¶çš„åŠŸèƒ½å·®äº†åä¸‡å…«åƒé‡Œï¼Œæ¯•ç«Ÿæ²¡æœ‰ä»€ä¹ˆè½¯ä»¶éœ€è¦åœ¨æ¯æ¬¡å‘é€æ¶ˆæ¯å‰éƒ½è¦ç™»å½•ã€‚é‚£ä¹ˆå¦‚ä½•æ‰èƒ½è®©æˆ‘ä»¬çš„ç¨‹åºä¸­çš„å®¢æˆ·ç«¯å¯ä»¥è¿ç»­ç»™æœåŠ¡å™¨ç«¯å‘é€æ¶ˆæ¯å‘¢ï¼Ÿç­”æ¡ˆæ˜¯é€šè¿‡åœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æ·»åŠ <code>while()</code>å¾ªç¯æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p><div class="tabs" id="code2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#code2-1">æœåŠ¡ç«¯</button></li><li class="tab"><button type="button" data-href="#code2-2">å®¢æˆ·ç«¯</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="code2-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="comment">//æœåŠ¡ç«¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerSocketTest</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–æœåŠ¡ç«¯socketå¹¶ä¸”ç»‘å®š9999ç«¯å£</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9999</span>);</span><br><span class="line">        <span class="comment">//ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">        <span class="comment">//è·å–è¾“å…¥æµ</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(socket.getInputStream(),<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">        <span class="comment">//è¯»å–ä¸€è¡Œæ•°æ®</span></span><br><span class="line">        String str;</span><br><span class="line">        <span class="comment">//é€šè¿‡whileå¾ªç¯ä¸æ–­è¯»å–æ‰“å°ä¿¡æ¯</span></span><br><span class="line">        <span class="keyword">while</span>((str = bufferedReader.readLine()) != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">//æ‰“å°è¾“å‡ºä¿¡æ¯</span></span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="code2-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClientSocket</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        String str;</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">9999</span>);</span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bufferedWriter</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(socket.getOutputStream()));</span><br><span class="line">        <span class="comment">//é€šè¿‡æ ‡å‡†è¾“å…¥æµè·å–å­—ç¬¦æµ</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in,<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            str = bufferedReader.readLine();</span><br><span class="line">            bufferedWriter.write(str);</span><br><span class="line">            bufferedWriter.write(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            bufferedWriter.flush();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>å…ˆåå¯åŠ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ï¼Œåœ¨å®¢æˆ·ç«¯æ§åˆ¶å°è¾“å…¥ä¿¡æ¯ï¼Œå³å¯åœ¨æœåŠ¡ç«¯æ§åˆ¶å°æŸ¥çœ‹åˆ°ç›¸å…³æ¶ˆæ¯ã€‚</p><ul><li>å®¢æˆ·ç«¯æ§åˆ¶å°è¾“å…¥ï¼š</li></ul><p><img src="https://s2.loli.net/2022/06/26/kWCvYF8UuKJH4MS.png" alt="å®¢æˆ·ç«¯è¾“å…¥1.png"></p><ul><li>æœåŠ¡ç«¯æ§åˆ¶å°è¾“å‡ºï¼š</li></ul><p><img src="https://s2.loli.net/2022/06/26/JHhxjiAPYsTWF3O.png" alt="æœåŠ¡ç«¯æ§åˆ¶å°è¾“å‡º4.png"></p><p>é€šè¿‡å¦‚ä¸Šä¸¤ä¸ªå›¾ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é€šè¿‡<code>while()</code>å¾ªç¯å°±å¯ä»¥å®ç°å®¢æˆ·ç«¯ä¸é—´æ–­åœ°é€šè¿‡æ ‡å‡†è¾“å…¥æµè¯»å–æ¶ˆæ¯ï¼Œå¹¶ä¸”å‘é€ç»™æœåŠ¡ç«¯ã€‚æ­¤æ—¶ä½ æˆ–è®¸ä¼šæ³¨æ„åˆ°ï¼Œè¿™æ¬¡å®¢æˆ·ç«¯ä¸­æ²¡æœ‰å†™<code>socket.close()</code>æ–¹æ³•æˆ–<code>socket.shutdownOutput()</code>æ–¹æ³•ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯æ˜¯æ€ä¹ˆæ ·åˆ¤æ–­å®¢æˆ·ç«¯å·²ç»è¾“å…¥å®Œæˆäº†å‘¢ï¼Ÿå…¶å®ç¨‹åºæ˜¯é€šè¿‡å®¢æˆ·ç«¯å’Œç”¨æˆ·ç«¯åŒæ–¹äº‹å…ˆçº¦å®šå¥½ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå½“å®¢æˆ·ç«¯å‘é€è¿™ä¸ªæ ‡è¯†ç¬¦ç»™æœåŠ¡ç«¯æ—¶ï¼Œå°±è¡¨æ˜å®¢æˆ·ç«¯å·²ç»å®Œæˆä¸€ä¸ªæ•°æ®çš„ä¼ è¾“ã€‚è€Œåœ¨æœåŠ¡ç«¯æ¥æ”¶æ•°æ®çš„æ—¶å€™ï¼Œä¹Ÿä¼šé€šè¿‡è¿™ä¸ªæ ‡è¯†ç¬¦æ¥åˆ¤æ–­ï¼Œå¦‚æœæ¥æ”¶åˆ°è¿™ä¸ªæ ‡è¯†ç¬¦ï¼Œå°±è¯´æ˜ä¸€æ¬¡æ•°æ®ä¼ è¾“å·²ç»å®Œæˆï¼Œé‚£ä¹ˆæœåŠ¡ç«¯å°±å¯ä»¥æ”¾æ‰‹å¹²åé¢çš„æ´»å„¿äº†ã€‚</p><p>æ¯”å¦‚è¯´åœ¨ä¸Šé¢åœ°å®ä¾‹ä¸­ï¼Œå®¢æˆ·ç«¯æ¯å‘é€ä¸€è¡Œæ•°æ®æ—¶ï¼Œéƒ½ä¼šåœ¨æœ€åå¢åŠ ä¸€ä¸ªæ ‡è¯†ç¬¦â€\nâ€ï¼Œå‘Šè¯‰æœåŠ¡ç«¯æ•°æ®å·²ç»ä¼ è¾“å®Œæˆã€‚ç„¶ååˆé€šè¿‡<code>while((str = bufferedReader.readLine())!=null)</code>å»åˆ¤æ–­æ˜¯å¦è¯»åˆ°äº†æµçš„ç»“å°¾ï¼Œè´Ÿè´£å°†æœåŠ¡ç«¯ä¸€ç›´é˜»å¡åœ¨è¿™é‡Œï¼Œç­‰å¾…å®¢æˆ·ç«¯æ•°æ®ä¼ è¾“å®Œæˆã€‚</p><p>å½“ä½ çœ‹åˆ°è¿™å„¿ï¼Œæ­å–œä½ å·²ç»å¯ä»¥é€šè¿‡<code>while()</code>å¾ªç¯æ¥å®ç°å¤šä¸ªå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯è¿›è¡ŒèŠå¤©äº†ï¼Œå¯å–œå¯è´ºï¼ä½†æ˜¯è¿˜æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬ä¹‹å‰è®¨è®ºè¿‡socketçš„é€šä¿¡æ˜¯é˜»å¡å¼çš„ï¼Œæ‰€ä»¥å°±ä¼šå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼šå‡å¦‚è¯´å­˜åœ¨å®¢æˆ·ç«¯Aå’Œå®¢æˆ·ç«¯Bï¼Œå®ƒä»¬åŒæ—¶è¿æ¥åˆ°æœåŠ¡ç«¯ä¸Šï¼Œå½“å®¢æˆ·ç«¯Aå‘é€çš„ä¿¡æ¯è¢«æœåŠ¡ç«¯æ¥æ”¶åï¼Œé‚£ä¹ˆæœåŠ¡ç«¯å°†ä¼šä¸€ç›´è¢«é˜»å¡åœ¨å®¢æˆ·ç«¯Aä¸Šé¢ï¼Œé€šè¿‡å¾ªç¯ä¸€ç›´è¯»å–Açš„è¾“å…¥ï¼Œå‡å¦‚æ­¤æ—¶ç”¨æˆ·ç«¯Bå°è¯•ä¼ è¾“æ•°æ®ï¼Œå°±ä¼šè¢«åŠ å…¥åˆ°é˜»å¡é˜Ÿåˆ—ä¸­ï¼Œç›´åˆ°æœåŠ¡ç«¯å¤„ç†å®Œå®¢æˆ·ç«¯Aä¼ è¾“çš„ä¿¡æ¯æ—¶ï¼ŒæœåŠ¡ç«¯æ‰èƒ½å»ºç«‹ä¸å®¢æˆ·ç«¯Bçš„é€šä¿¡ã€‚å› æ­¤æˆ‘ä»¬æ­¤æ—¶å†™çš„ç¨‹åºåœ¨äº‹å®ä¸Šåªæ˜¯å®ç°äº†å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¸€å¯¹ä¸€çš„åŠŸèƒ½ï¼Œå› ä¸ºåªæœ‰åœ¨å®¢æˆ·ç«¯Aå…³é—­åï¼Œå®¢æˆ·ç«¯Bæ‰èƒ½å’ŒæœåŠ¡ç«¯å»ºç«‹è¿æ¥ï¼Œè¿™æ˜æ˜¾ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</p><h2 id="å¤šçº¿ç¨‹ä¸‹çš„Socketé€šä¿¡"><a href="#å¤šçº¿ç¨‹ä¸‹çš„Socketé€šä¿¡" class="headerlink" title="å¤šçº¿ç¨‹ä¸‹çš„Socketé€šä¿¡"></a>å¤šçº¿ç¨‹ä¸‹çš„Socketé€šä¿¡</h2><p>ä¸ºäº†è§£å†³ä¸Šé¢æ‰€è¯´çš„é—®é¢˜ï¼Œå®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„å¤šå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„è¿æ¥ï¼Œæˆ‘ä»¬å°†é‡‡ç”¨å¤šçº¿ç¨‹çš„æ–¹æ³•å®ç°Socketé€šä¿¡ã€‚</p><div class="tabs" id="code3"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#code3-1">æœåŠ¡ç«¯</button></li><li class="tab"><button type="button" data-href="#code3-2">å®¢æˆ·ç«¯</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="code3-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="comment">//æœåŠ¡ç«¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerSocketTest</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//åˆå§‹åŒ–æœåŠ¡å™¨ç«¯å¹¶ä¸”ç»‘å®š9999ç«¯å£</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9999</span>);</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="comment">//ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥</span></span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">            <span class="comment">//å¯¹äºæ¯ä¸€ä¸ªè¿›æ¥çš„å®¢æˆ·ç«¯éƒ½åˆ›å»ºä¸€ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">ListenServer</span>(socket)).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListenServer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListenServer</span><span class="params">(Socket socket)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            bufferedReader = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(socket.getInputStream(),<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">            <span class="comment">//è¯»å–ä¸€è¡Œæ•°æ®</span></span><br><span class="line">            String str;</span><br><span class="line">            <span class="comment">//é€šè¿‡å¾ªç¯ä¸æ–­è·å–å®¢æˆ·ç«¯ä¼ è¾“è¿‡æ¥çš„ä¿¡æ¯</span></span><br><span class="line">            <span class="keyword">while</span>((str = bufferedReader.readLine()) != <span class="literal">null</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯è¯´ï¼š&quot;</span>+str);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span>(IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="code3-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClientSocket</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">// åˆå§‹åŒ–æœåŠ¡</span></span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">9999</span>);</span><br><span class="line">            <span class="comment">//é€šè¿‡socketè·å–å­—ç¬¦æµ</span></span><br><span class="line">            <span class="type">BufferedWriter</span> <span class="variable">bufferedWriter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(socket.getOutputStream()));</span><br><span class="line">            <span class="comment">//é€šè¿‡æ ‡å‡†è¾“å…¥è·å–å­—ç¬¦æµ</span></span><br><span class="line">            <span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in,<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> bufferedReader.readLine();</span><br><span class="line">                bufferedWriter.write(str);</span><br><span class="line">                bufferedWriter.write(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                bufferedWriter.flush();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>å¼€å¯æœåŠ¡ç«¯åå†å¼€å¯ä¸¤ä¸ªå®¢æˆ·ç«¯ï¼Œåˆ†åˆ«è¾“å…¥ä¸€äº›ä¿¡æ¯åæ§åˆ¶å°è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://s2.loli.net/2022/06/26/6lYazqUfhWMBFp5.png" alt="æœåŠ¡ç«¯æ§åˆ¶å°è¾“å‡º5.png"></p><p>é€šè¿‡è¿™ä¸ªå®ä¾‹æµ‹è¯•æˆ‘ä»¬å‘ç°ï¼Œè¿™æ—¶æˆ‘ä»¬çš„ç¨‹åºä¸­ï¼Œå®¢æˆ·ç«¯Aå’Œå®¢æˆ·ç«¯Bå†åŒæ—¶è¿æ¥åˆ°æœåŠ¡å™¨ç«¯åï¼Œéƒ½å¯ä»¥ä¸æœåŠ¡ç«¯è¿›è¡Œé€šä¿¡ï¼Œè¿™æ ·å°±æœç»äº†ä¹‹å‰å‡ºç°çš„Aå’ŒBä¸èƒ½åŒæ—¶ä¸æœåŠ¡ç«¯è¿›è¡Œé€šä¿¡çš„æƒ…å†µã€‚å®ç°è¿™ç§çš„åŠŸèƒ½çš„ä¸»è¦åŠŸè‡£å°±æ˜¯æœåŠ¡ç«¯ä¼šä¸ºæ¯ä¸€ä¸ªè¯·æ±‚è¿æ¥çš„å®¢æˆ·ç«¯åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ï¼Œä¸å®¢æˆ·ç«¯è¿›è¡Œæ•°æ®äº¤äº’ï¼Œè¿™æ ·å°±ä¿è¯äº†æ¯ä¸ªå®¢æˆ·ç«¯å¤„ç†æ•°æ®æ—¶éƒ½æ˜¯å•ç‹¬çš„ï¼Œä¸ä¼šå‡ºç°äº’ç›¸é˜»å¡çš„æƒ…å†µï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±å®ç°äº†å¤šå¯¹å¤šçš„åŸºæœ¬èŠå¤©åŠŸèƒ½äº†ï¼Œå¯å–œå¯è´ºï¼</p><p>ä½†æ˜¯ï¼Œè¿™ç§å†™æ³•åªæ˜¯å¯¹äºè¿æ¥è¿›æ¥çš„å®¢æˆ·ç«¯æ•°é‡è¾ƒå°‘æ—¶æ‰æ²¡æœ‰é—®é¢˜ï¼Œå‡å¦‚è¯´è¦ä¸ºæ¯ä¸€ä¸ªå®¢æˆ·ç«¯åˆ›å»ºçº¿ç¨‹ï¼Œä½†æ˜¯æ­¤æ—¶æˆç™¾ä¸Šåƒçš„å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡ç«¯æ—¶ï¼Œæˆ‘ä»¬é‚£å¯æ€œçš„æœåŠ¡ç«¯æ˜¯è‚¯å®šæ‰¿å—ä¸äº†çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡çº¿ç¨‹æ± æŠ€æœ¯æ¥ä¿è¯çº¿ç¨‹çš„å¤ç”¨ï¼Œä»¥ä¸‹æ˜¯é‡‡ç”¨çº¿ç¨‹æ± æ”¹è‰¯åçš„æœåŠ¡ç«¯ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.beans.Encoder;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"><span class="comment">//æœåŠ¡ç«¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerSocket</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="comment">//åˆå§‹åŒ–æœåŠ¡ç«¯socketå¹¶ä¸”ç»‘å®š9999ç«¯å£</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9999</span>);</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± </span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">100</span>);</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="comment">//ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥</span></span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">            executorService.submit(<span class="keyword">new</span> <span class="title class_">ListenServer</span>(socket));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListenServer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListenServer</span><span class="params">(Socket socket)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span><span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            bufferedReader =<span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(socket.getInputStream(), <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">            <span class="comment">//è¯»å–ä¸€è¡Œæ•°æ®</span></span><br><span class="line">            String str;</span><br><span class="line">            <span class="comment">//é€šè¿‡whileå¾ªç¯ä¸æ–­è¯»å–ä¿¡æ¯</span></span><br><span class="line">            <span class="keyword">while</span>((str = bufferedReader.readLine()) != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯è¯´ï¼š&quot;</span>+str);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶è¿˜æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œsocketä¼ è¾“çš„æ•°æ®å¾€å¾€ä¸æ˜¯æŒ‰ç…§ä¸€è¡Œä¸€è¡Œæ¥å‘é€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½å¤Ÿè¦æ±‚æ¯ä¸€æ¬¡å‘é€æ•°æ®éƒ½è¦åŠ ä¸€ä¸ªâ€\nâ€æ ‡è¯†ç¬¦ã€‚ä¸ºäº†è®©æœåŠ¡ç«¯çŸ¥é“æ•°æ®æ˜¯å¦ä¼ è¾“å®Œæ¯•ï¼Œæœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯<mark class="hl-label red">æ•°æ®é•¿åº¦+ç±»å‹+æ•°æ®</mark> ã€‚</p><h2 id="Socketä¼ è¾“æŒ‡å®šé•¿åº¦çš„æ•°æ®"><a href="#Socketä¼ è¾“æŒ‡å®šé•¿åº¦çš„æ•°æ®" class="headerlink" title="Socketä¼ è¾“æŒ‡å®šé•¿åº¦çš„æ•°æ®"></a>Socketä¼ è¾“æŒ‡å®šé•¿åº¦çš„æ•°æ®</h2><p>ç”±äºSocketé€šä¿¡æ—¶æˆ‘ä»¬å‘é€çš„æ•°æ®å¸¸å¸¸æ˜¯ä¸å®šé•¿çš„ï¼Œå› æ­¤ç»å¸¸ä¼šå‡ºç°å¦‚ä¸‹é—®é¢˜ï¼š</p><h3 id="åŠåŒ…"><a href="#åŠåŒ…" class="headerlink" title="åŠåŒ…"></a>åŠåŒ…</h3><p>æ¥æ”¶æ–¹æ²¡æœ‰æ¥æ”¶åˆ°ä¸€ä¸ªå®Œæ•´çš„åŒ…ï¼Œåªæ¥å—äº†ä¸€éƒ¨åˆ†ã€‚</p><p>åŸå› ï¼šTCPä¸ºäº†æé«˜ä¼ è¾“æ•ˆç‡ï¼Œå°†ä¸€ä¸ªåŒ…åˆ†é…å¾—è¶³å¤Ÿå¤§ï¼Œå¯¼è‡´æ¥æ”¶æ–¹ä¸€æ¬¡æ²¡åŠæ³•æ¥å—å®Œã€‚</p><p>å½±å“ï¼šé•¿è¿æ¥å’ŒçŸ­è¿æ¥ä¸­éƒ½ä¼šå‡ºç°</p><h3 id="ç²˜åŒ…"><a href="#ç²˜åŒ…" class="headerlink" title="ç²˜åŒ…"></a>ç²˜åŒ…</h3><p>å‘é€æ–¹å‘é€çš„å¤šä¸ªåŒ…æ•°æ®åˆ°æ¥æ”¶æ–¹æ¥æ”¶æ—¶ç²˜æˆä¸€ä¸ªåŒ…ï¼Œä»æ¥æ”¶ç¼“å†²åŒºçœ‹ï¼Œåä¸€åŒ…æ•°æ®çš„å¤´ç´§æ¥ç€å‰ä¸€åŒ…æ•°æ®çš„å°¾ã€‚</p><p>åˆ†ç±»ï¼šä¸€ç§æ˜¯ç²˜åœ¨ä¸€èµ·å¾—åŒ…éƒ½æ˜¯å®Œæ•´çš„æ•°æ®åŒ…ï¼Œå¦ä¸€ç§æ˜¯ç²˜åœ¨ä¸€èµ·çš„åŒ…ä¸­æœ‰ä¸å®Œæ•´å¾—åŒ…ã€‚</p><h3 id="åˆ†åŒ…"><a href="#åˆ†åŒ…" class="headerlink" title="åˆ†åŒ…"></a>åˆ†åŒ…</h3><ul><li>åœ¨å‡ºç°ç²˜åŒ…çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„æ¥æ”¶æ–¹éœ€è¦è¿›è¡Œåˆ†åŒ…å¤„ç†ï¼›</li><li>ä¸€ä¸ªæ•°æ®åŒ…è¢«åˆ†ä¸ºå¤šæ¬¡æ¥æ”¶ï¼›</li></ul><p>åŸå› ï¼š</p><ol><li>IPåˆ†ç‰‡ä¼ è¾“å¯¼è‡´çš„é—®é¢˜ï¼›</li><li>ä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢å¤±éƒ¨åˆ†åŒ…å¯¼è‡´å‡ºç°åŠåŒ…ï¼›</li><li>ä¸€ä¸ªåŒ…å¯èƒ½è¢«åˆ†æˆä¸¤æ¬¡ä¼ è¾“ï¼Œåœ¨å–æ•°æ®æ—¶ï¼Œå…ˆå–åˆ°ä¸€éƒ¨åˆ†ï¼ˆè¿™ä¸ªå¯èƒ½ä¸æ¥æ”¶çš„ç¼“å†²åŒºå¤§å°æœ‰å…³ç³»ï¼‰ã€‚</li></ol><p>å½±å“ï¼šç²˜åŒ…å’Œåˆ†åŒ…åœ¨é•¿è¿æ¥ä¸­éƒ½ä¼šå‡ºç°ã€‚</p><h3 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h3><p>ä¸ºäº†è§£å†³åŠåŒ…å’Œç²˜åŒ…çš„é—®é¢˜ï¼Œå°±æ¶‰åŠæ•°æ®å‘é€å¦‚ä½•æ ‡è¯†ç»“æŸçš„é—®é¢˜ï¼Œé€šå¸¸æƒ…å†µä¸‹æœ‰ä»¥ä¸‹å‡ ä¸ªåŠæ³•ï¼š</p><ol><li>å›ºå®šé•¿åº¦ï¼šæ¯æ¬¡å‘é€å›ºå®šé•¿åº¦çš„æ•°æ®ï¼›</li><li>ç‰¹æ®Šæ ‡è¯†ï¼šä»¥å›è½¦ï¼Œæ¢è¡Œç­‰ä½œä¸ºç‰¹æ®Šæ ‡è¯†ï¼›è·å–ç‰¹æ®Šæ ‡è¯†æ—¶ï¼Œè¯´æ˜åŒ…è·å–å®Œæ•´ï¼›</li><li>åŒ…å¤´+åŒ…é•¿+åŒ…ä½“çš„åè®®å½¢å¼ï¼Œå½“æœåŠ¡å™¨è·å–æŒ‡å®šçš„åŒ…é•¿æ—¶æ‰è¯´æ˜è·å–å®Œæ•´ï¼›</li></ol><p>æ‰€ä»¥å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼ŒåŒæ–¹ä½¿ç”¨socketé€šè®¯æ—¶éƒ½ä¼šçº¦å®šä¸€ä¸ªå®šé•¿å¤´æ”¾åœ¨ä¼ è¾“æ•°æ®çš„æœ€å‰ç«¯ï¼Œç”¨ä»¥æ ‡è¯†æ•°æ®ä½“çš„é•¿åº¦ï¼Œé€šå¸¸å®šé•¿å¤´æœ‰æ•´å‹intï¼ŒçŸ­æ•´å‹shortï¼Œå­—ç¬¦ä¸²Strinngä¸‰ç§å½¢å¼ã€‚å…¶ä¸­æˆ‘é‡‡ç”¨çš„æ˜¯ä½¿ç”¨JSONæ ¼å¼è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œä»åˆ†ç±»ä¸Šçœ‹ç±»ä¼¼äºç‰¹æ®Šæ ‡è¯†æ³•(<code>&#123;&#125;</code>ä¹‹é—´ä¸ºä¸€ä¸ªåŒ…)ï¼Œåªè¦äº‹å…ˆå¯¼å…¥å¯¹åº”çš„jaråŒ…å³å¯ä½¿ç”¨ã€‚ä»£ç ä¸ä¸Šé¢çš„ç›¸å·®ä¸å¤§ï¼Œåœ¨è¿™é‡Œå°±ä¸å†™äº†ã€‚</p><h2 id="Socketçš„é•¿è¿æ¥å’ŒçŸ­è¿æ¥"><a href="#Socketçš„é•¿è¿æ¥å’ŒçŸ­è¿æ¥" class="headerlink" title="Socketçš„é•¿è¿æ¥å’ŒçŸ­è¿æ¥"></a>Socketçš„é•¿è¿æ¥å’ŒçŸ­è¿æ¥</h2><p>åœ¨å¯¹è¿™éƒ¨åˆ†è¿›è¡Œè¯´æ˜æ—¶ï¼Œæˆ‘ä»¬å…ˆè¯¦ç»†äº†è§£ä¸€ä¸‹é•¿è¿æ¥å’ŒçŸ­é“¾æ¥çš„ç›¸å…³æ¦‚å¿µã€‚</p><h3 id="é•¿è¿æ¥"><a href="#é•¿è¿æ¥" class="headerlink" title="é•¿è¿æ¥"></a>é•¿è¿æ¥</h3><p>æŒ‡åœ¨ä¸€ä¸ªè¿æ¥ä¸Šé¢å¯ä»¥è¿ç»­å‘é€å¤šä¸ªæ•°æ®åŒ…ï¼Œåœ¨è¿æ¥ä¿æŒæœŸé—´ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®åŒ…å‘é€ï¼Œéœ€è¦åŒæ–¹å‘é€é“¾è·¯æ£€æµ‹åŒ…ã€‚æ•´ä¸ªé€šè®¯è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åªæœ‰ä¸€ä¸ªSocketå¯¹è±¡ï¼Œé•¿æœŸä¿æŒSocketçš„è¿æ¥ã€‚é€‚ç”¨äºæ“ä½œé¢‘ç¹ï¼Œç‚¹å¯¹ç‚¹çš„é€šè®¯ï¼Œè€Œä¸”è¿æ¥æ•°é‡ä¸ä¼šå¤ªå¤šçš„æƒ…å†µã€‚</p><h3 id="çŸ­è¿æ¥"><a href="#çŸ­è¿æ¥" class="headerlink" title="çŸ­è¿æ¥"></a>çŸ­è¿æ¥</h3><p>çŸ­è¿æ¥æœåŠ¡å°±æ˜¯æ¯æ¬¡è¯·æ±‚éƒ½è¦å»ºç«‹è¿æ¥ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯äº¤äº’å®Œæ¯•åå…³é—­è¿æ¥ã€‚</p><h3 id="å¿ƒè·³åŒ…"><a href="#å¿ƒè·³åŒ…" class="headerlink" title="å¿ƒè·³åŒ…"></a>å¿ƒè·³åŒ…</h3><p>å®é™…ä¸Šåœ¨å®é™…åº”ç”¨ä¸­çš„é•¿è¿æ¥ä¹Ÿä¸æ˜¯å®é™…æ„ä¹‰ä¸Šçš„é•¿è¿æ¥ï¼Œå®ƒæ˜¯é€šè¿‡ä¸€ç§å«å¿ƒè·³åŒ…(é“¾è·¯æ£€æµ‹åŒ…)çš„ä¸œè¥¿å»æ£€æŸ¥Socketå’Œè¾“å…¥/è¾“å‡ºæµæ˜¯å¦å…³é—­æ¥ç»´ç³»é•¿è¿æ¥çš„ã€‚</p><h2 id="Socketä¸­é•¿è¿æ¥çš„å®ç°æ–¹æ³•"><a href="#Socketä¸­é•¿è¿æ¥çš„å®ç°æ–¹æ³•" class="headerlink" title="Socketä¸­é•¿è¿æ¥çš„å®ç°æ–¹æ³•"></a>Socketä¸­é•¿è¿æ¥çš„å®ç°æ–¹æ³•</h2><p>ç”±äºçŸ­è¿æ¥æ¯ä¸€æ¬¡è¯·æ±‚éƒ½è¦å»ºç«‹è¿æ¥ï¼Œè¿™æ ·çš„æ•ˆç‡å®åœ¨æ˜¯å¤ªä½äº†ï¼ŒTCPè¿æ¥æ¶‰åŠä¸‰æ¬¡æ¡æ‰‹ä»¥åŠå››æ¬¡æ¡æ‰‹ï¼Œè‹¥æ¯ä¸€ä¸ªæ¶ˆæ¯å‘é€éƒ½è¦è¿›è¡Œè¿™äº›è¿‡ç¨‹ï¼Œå°±ä¼šéå¸¸æµªè´¹æ€§èƒ½ã€‚å› æ­¤æˆ‘ä»¬é€‰æ‹©é€šè¿‡å¿ƒè·³åŒ…å»ºç«‹é•¿è¿æ¥ï¼Œè¿™æ ·å³ä½¿æœåŠ¡ç«¯å› ä¸ºå‘ç”Ÿæ•…éšœï¼Œåœ¨æ•…éšœä¿®å¤åå®¢æˆ·ç«¯ä¾æ—§èƒ½è¿æ¥ä¸ŠæœåŠ¡ç«¯ï¼Œç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p><div class="tabs" id="code4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#code4-1">æœåŠ¡ç«¯</button></li><li class="tab"><button type="button" data-href="#code4-2">å®¢æˆ·ç«¯</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="code4-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.json.simple.JSONObject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;SocketæœåŠ¡å™¨å¼€å§‹è¿è¡Œ...&quot;</span>);</span><br><span class="line">            <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9999</span>);</span><br><span class="line">            <span class="comment">//åˆ›å»ºçº¿ç¨‹æ± </span></span><br><span class="line">            <span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">100</span>);</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">                executorService.submit( <span class="keyword">new</span> <span class="title class_">ListenServer</span>(socket) );</span><br><span class="line">                executorService.submit( <span class="keyword">new</span> <span class="title class_">ServerSend</span>(socket) );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListenServer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListenServer</span><span class="params">(Socket socket)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">ObjectInputStream</span> <span class="variable">oin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(socket.getInputStream());</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">                System.out.println(oin.readObject());</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                socket.close();</span><br><span class="line">            &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ServerSend</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ServerSend</span><span class="params">(Socket socket)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">ObjectOutputStream</span> <span class="variable">oout</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(socket.getOutputStream());</span><br><span class="line">            <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> scanner.nextLine();</span><br><span class="line">                <span class="type">JSONObject</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">                obj.put(<span class="string">&quot;type&quot;</span>,<span class="string">&quot;chat&quot;</span>);</span><br><span class="line">                obj.put(<span class="string">&quot;msg&quot;</span>,string);</span><br><span class="line">                oout.writeObject(object);</span><br><span class="line">                oout.flush();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="code4-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.json.simple.JSONObject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Socket socket;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">connection_state</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(connect())&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯è¿æ¥æˆåŠŸ......&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            reConnect();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">connect</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            socket = <span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">9999</span>);</span><br><span class="line">            connection_state = <span class="literal">true</span>;</span><br><span class="line">            <span class="type">ObjectOutputStream</span> <span class="variable">oin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(socket.getOutputStream());</span><br><span class="line">            <span class="type">ObjectInputStream</span> <span class="variable">oout</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(socket.getInputStream());</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">ClientListen</span>(socket,oin)).start();</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">ClientSend</span>(socket,oout)).start();</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">ClientHeart</span>(socket,oout)).start();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            connection_state = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">reconnect</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (!connection_state)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ­£åœ¨å°è¯•é‡æ–°é“¾æ¥.....&quot;</span>);</span><br><span class="line">            connect();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">            &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClientListen</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">private</span> ObjectInputStream oin;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ClientListen</span><span class="params">(Socket socket,ObjectInputStream oin)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">        <span class="built_in">this</span>.oin = oin;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">                System.out.println(oin.readObject());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClientSend</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">private</span> ObjectOutputStream oout;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ClientSend</span><span class="params">(Socket socket, ObjectOutputStream oout)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">        <span class="built_in">this</span>.oout = oout;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> scanner.nextLine();</span><br><span class="line">                <span class="type">JSONObject</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">                obj.put(<span class="string">&quot;type&quot;</span>,<span class="string">&quot;chat&quot;</span>);</span><br><span class="line">                obj.put(<span class="string">&quot;msg&quot;</span>,string);</span><br><span class="line">                oout.writeObject(object);</span><br><span class="line">                oout.flush();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                socket.close();</span><br><span class="line">            &#125;<span class="keyword">catch</span> (Exception ex)&#123;</span><br><span class="line">                ex.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClientHeart</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">private</span> ObjectOutputStream oout;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Client_heart</span><span class="params">(Socket socket, ObjectOutputStream oout)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">        <span class="built_in">this</span>.oout = oout;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å¿ƒè·³åŒ…çº¿ç¨‹å·²å¯åŠ¨...&quot;</span>);</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">                Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">                <span class="type">JSONObject</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">                obj.put(<span class="string">&quot;type&quot;</span>,<span class="string">&quot;heart&quot;</span>);</span><br><span class="line">                obj.put(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;å¿ƒè·³åŒ…&quot;</span>);</span><br><span class="line">                oout.writeObject(object);</span><br><span class="line">                oout.flush();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                socket.close();</span><br><span class="line">                Client.connection_state = <span class="literal">false</span>;</span><br><span class="line">                Client.reconnect();</span><br><span class="line">            &#125;<span class="keyword">catch</span> (Exception e1)&#123;</span><br><span class="line">                e1.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>ç»è¿‡æ£€æµ‹åå‘ç°å®¢æˆ·ç«¯èƒ½å¤Ÿåœ¨æœåŠ¡ç«¯é‡å¯åé‡æ–°è¿æ¥ä¸ŠæœåŠ¡ç«¯ã€‚</p><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>è‡³æ­¤æˆ‘ä»¬å°±çœŸæ­£é€šè¿‡Javaç¼–ç¨‹å®ç°äº†å¤šä¸ªå®¢æˆ·ç«¯é•¿è¿æ¥æœåŠ¡ç«¯çš„Socketé€šä¿¡ï¼Œå‰©ä¸‹çš„å°±æ˜¯åœ¨è¿™ä¸ªåŸºç¡€ä¸Šå †åŠ æ›´å¤šçš„åŠŸèƒ½äº†ï¼Œæ¯”å¦‚è¯´ç”¨æˆ·ç›¸å…³çš„ç™»å½•æ³¨å†ŒåŠŸèƒ½ç­‰ï¼Œå‘é€è¯­éŸ³å›¾ç‰‡ç­‰åŠŸèƒ½å°±å¯ä»¥åœ¨è¿™åŸºç¡€ä¸Šå®Œæˆäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Computer Science </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯å­¦ä¹ ç¬”è®°</title>
      <link href="/2022/05/09/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2022/05/09/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="html"><a href="#html" class="headerlink" title="html"></a>html</h2><h3 id="å¸¸ç”¨æ ‡ç­¾"><a href="#å¸¸ç”¨æ ‡ç­¾" class="headerlink" title="å¸¸ç”¨æ ‡ç­¾"></a>å¸¸ç”¨æ ‡ç­¾</h3><h3 id="ç¼–ç¨‹å°æŠ€å·§"><a href="#ç¼–ç¨‹å°æŠ€å·§" class="headerlink" title="ç¼–ç¨‹å°æŠ€å·§"></a>ç¼–ç¨‹å°æŠ€å·§</h3><ul><li>å¦‚ä½•æ‰“ç©ºæ ¼: ä½¿ç”¨<code>&amp;nbsp;</code>å³å¯åœ¨é¡µé¢ä¸­æ˜¾ç¤ºç©ºæ ¼(æ³¨æ„åˆ†å·â”­â”®ï¹â”­â”®)</li></ul><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><h3 id="ç›’å­æ¨¡å‹"><a href="#ç›’å­æ¨¡å‹" class="headerlink" title="ç›’å­æ¨¡å‹"></a>ç›’å­æ¨¡å‹</h3><p>CSSä¸­çš„ç›’å­æ¨¡å‹å¦‚ä¸‹å›¾æ‰€ç¤º:<br><img src="https://s2.loli.net/2022/05/09/kBuqSKvbzJHFMIP.png" alt="ç›’å­æ¨¡å‹"></p><h3 id="CSSå®šä½"><a href="#CSSå®šä½" class="headerlink" title="CSSå®šä½"></a>CSSå®šä½</h3><p>CSSä¸­çš„å®šä½ç”¨äºå¯¹é¡µé¢ä¸­çš„å…ƒç´ è¿›è¡Œå¸ƒå±€,å¸¸è§çš„å®šä½æœ‰ä»¥ä¸‹å‡ ç§:</p><ol><li>é™æ€å®šä½(static)<br>ä¸€èˆ¬æ ‡ç­¾å…ƒç´ åœ¨ä¸åŠ ä»»ä½•å®šä½å±æ€§æ—¶éƒ½å±äºé™æ€å®šä½,å±äºæ ‡å‡†æµã€‚</li><li>ç»å¯¹å®šä½(absolute)<br>ç»å¯¹å®šä½ä¼šå°†æŒ‡å®šå…ƒç´ ä»æ–‡æ¡£æµä¸­æ‹¿å‡º,å†é€šè¿‡ä½ç§»å±æ€§ç›¸å¯¹äºå…¶æœ€è¿‘çš„å·²å®šä½ç¥–å…ˆå…ƒç´ (è¯¥ç¥–å…ˆå…ƒç´ çš„positionè®¾ç½®ä¸ºrelative)ã€‚<div class="note info simple"><p>å› ä¸ºç»å¯¹å®šä½çš„æ¡†ä¸æ–‡æ¡£æµæ— å…³ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥è¦†ç›–é¡µé¢ä¸Šçš„å…¶å®ƒå…ƒç´ ã€‚å¯ä»¥é€šè¿‡è®¾ç½® z-index å±æ€§æ¥æ§åˆ¶è¿™äº›æ¡†çš„å †æ”¾æ¬¡åºã€‚</p></div></li><li>ç›¸å¯¹å®šä½(relative)<br>ç›¸å¯¹å®šä½æ˜¯ç›¸å¯¹äºè¯¥å…ƒç´ åœ¨æ­£å¸¸æ–‡ä»¶æµä¸­çš„ä½ç½®,é€šè¿‡è®¾ç½®çš„ä½ç§»å±æ€§è®¡ç®—å¾—åˆ°ã€‚<div class="note warning simple"><p>è¯¥å…ƒç´ ä»ç„¶ä¿æŒå…¶æœªå®šä½å‰çš„å½¢çŠ¶ï¼Œå®ƒåŸæœ¬æ‰€å çš„ç©ºé—´ä»ä¿ç•™</p></div></li><li>å›ºå®šå®šä½(fixed)<br>ä¸ç»å¯¹å®šä½ç±»ä¼¼,ä½†å®ƒæ˜¯ç›¸å¯¹äºæµè§ˆå™¨çª—å£å®šä½,ä¸ä¼šéšæ»šåŠ¨æ¡è¿›è¡Œæ»šåŠ¨ã€‚</li><li>ç²˜æ€§å®šä½(sticky)<br>ç²˜æ€§å®šä½å¯ä»¥è¢«è®¤ä¸ºæ˜¯ç›¸å¯¹å®šä½å’Œå›ºå®šå®šä½çš„æ··åˆã€‚ç®€å•æ¥è¯´ï¼Œåœ¨æ»‘åŠ¨è¿‡ç¨‹ä¸­ï¼ŒæŸä¸ªå…ƒç´ è·ç¦»å…¶çˆ¶å…ƒç´ çš„è·ç¦»è¾¾åˆ° stickyç²˜æ€§å®šä½çš„è¦æ±‚æ—¶(æ¯”å¦‚topï¼š100px)ï¼›position:stickyè¿™æ—¶çš„æ•ˆæœç›¸å½“äºfixedå®šä½ï¼Œå›ºå®šåˆ°é€‚å½“ä½ç½®</li></ol>]]></content>
      
      
      <categories>
          
          <category> Computer Science </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯å¼€å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueæ¡†æ¶å­¦ä¹ </title>
      <link href="/2022/05/08/Vue%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/"/>
      <url>/2022/05/08/Vue%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue2éƒ¨åˆ†"><a href="#Vue2éƒ¨åˆ†" class="headerlink" title="Vue2éƒ¨åˆ†"></a>Vue2éƒ¨åˆ†</h1><h2 id="æ•°æ®ç»‘å®š"><a href="#æ•°æ®ç»‘å®š" class="headerlink" title="æ•°æ®ç»‘å®š"></a>æ•°æ®ç»‘å®š</h2><p>  Vueä¸­çš„æ•°æ®ç»‘å®šæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼:</p><ol><li>å•å‘ç»‘å®š(v-bind): æ•°æ®åªèƒ½ä»dataæµå‘é¡µé¢,å½“dataä¸­è¢«ç»‘å®šå˜é‡çš„å†…å®¹æ”¹å˜æ—¶,è¿™ç§æ”¹å˜ä¼šå®æ—¶å±•ç¤ºåœ¨é¡µé¢ä¸Šã€‚</li><li>åŒå‘ç»‘å®š(v-model): æ•°æ®åœ¨dataå’Œé¡µé¢ä¹‹é—´åŒå‘æµé€šã€‚</li></ol><div class="note warning simple"><p>åŒå‘ç»‘å®šä¸€èˆ¬éƒ½åº”ç”¨åœ¨è¡¨å•å…ƒç´ ä¸Š(input,selectç­‰)</p></div><div class="note info simple"><p>v-model:value å¯ä»¥ç®€å†™æˆv-model,å› ä¸ºv-modelé»˜è®¤æ”¶é›†çš„å°±æ˜¯valueå€¼</p></div><h3 id="å“åº”å¼æ•°æ®åŸç†"><a href="#å“åº”å¼æ•°æ®åŸç†" class="headerlink" title="å“åº”å¼æ•°æ®åŸç†"></a>å“åº”å¼æ•°æ®åŸç†</h3><p>åœ¨vue2ä¸­ï¼Œå“åº”å¼æ•°æ®çš„å®ç°åŸç†æ˜¯é€šè¿‡<code>Object.defineProperty()</code>æ¥å®ç°å¯¹æ•°æ®<strong>è¯»å–</strong>å’Œ<strong>ä¿®æ”¹</strong>çš„æ‹¦æˆªï¼ˆæ•°æ®åŠ«æŒï¼‰ï¼Œå®ç°äº†å“åº”å¼æ•°æ®çš„åŠŸèƒ½ã€‚</p><p>å› æ­¤ï¼Œæ ¹æ®è¿™ä¸ªå®ç°åŸç†ï¼Œå¯¹è±¡ç­‰å¼•ç”¨ç±»å‹æ•°æ®åœ¨å¦‚ä¸‹æƒ…å†µä¸‹ä¸ä¼šè§¦å‘é¡µé¢çš„æ›´æ–°ï¼š</p><ul><li>å‘å¯¹è±¡ä¸­æ–°å¢æˆ–è€…åˆ é™¤å±æ€§ï¼Œç•Œé¢ä¸ä¼šæ›´æ–°ï¼ˆç›´æ¥æ–°å¢æˆ–è€…åˆ é™¤ä¸ä¼šè¢«<code>get</code>å’Œ<code>set</code>æ‰€æ‹¦æˆªï¼‰ï¼›</li><li>ç›´æ¥é€šè¿‡ä¸‹æ ‡ä¿®æ”¹æ•°ç»„ï¼Œç•Œé¢ä¸ä¼šæ›´æ–°ï¼ˆç›´æ¥ä½¿ç”¨ä¸‹æ ‡ä¿®æ”¹ä¹Ÿä¸ä¼šè¢«æ‹¦æˆªï¼‰ã€‚</li></ul><p>å½“ç„¶æœ‰å¦‚ä¸‹çš„è§£å†³åŠæ³•ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨objå¯¹è±¡æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§</span></span><br><span class="line"><span class="variable language_">this</span>.$set(obj, <span class="string">&#x27;key&#x27;</span>, value);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“ç„¶è¿˜å¯ä»¥è°ƒç”¨Vueä¸‹çš„æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">set</span>(obj, <span class="string">&#x27;key&#x27;</span>, value);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨objå¯¹è±¡ä¸­åˆ é™¤ä¸€ä¸ªå±æ€§</span></span><br><span class="line"><span class="variable language_">this</span>.$delete(obj, <span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“ç„¶è¿˜å¯ä»¥è°ƒç”¨Vueä¸‹é¢çš„æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">delete</span>(obj, <span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„Listä½¿ç”¨å¦‚ä¸‹æ–¹æ³•è¿›è¡Œä¿®æ”¹ï¼Œå®ç°å“åº”å¼:</span></span><br><span class="line"><span class="variable language_">this</span>.$set(<span class="title class_">List</span>, index, value);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…è°ƒç”¨Listè‡ªèº«çš„spliceæ–¹æ³•ä¿®æ”¹ç¬¬indexä¸ªå…ƒç´ ï¼š</span></span><br><span class="line"><span class="title class_">List</span>.<span class="title function_">splice</span>(index - <span class="number">1</span>, index, value);</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><h2 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h2><h3 id="äº‹ä»¶å¤„ç†"><a href="#äº‹ä»¶å¤„ç†" class="headerlink" title="äº‹ä»¶å¤„ç†"></a>äº‹ä»¶å¤„ç†</h3><p>Vueä¸»è¦ä½¿ç”¨<mark class="hl-label red">v-on</mark> ç›‘å¬äº‹ä»¶,è°ƒç”¨ç›¸åº”å‡½æ•°å¯¹ç”¨æˆ·çš„äº¤äº’ä½œå‡ºå›åº”ã€‚<br>ä»¥ä¸‹ä¸ºäº‹ä»¶å¤„ç†çš„åŸºæœ¬è¦ç‚¹:</p><ol><li>ä½¿ç”¨<code>v-on:xxx</code>æˆ–<code>@xxx</code>æ¥ç»‘å®šäº‹ä»¶,å…¶ä¸­<mark class="hl-label blue">xxx</mark> æ˜¯äº‹ä»¶å</li><li>äº‹ä»¶çš„å‡½æ•°éœ€è¦é…ç½®åœ¨methodså¯¹è±¡ä¸­,æœ€ç»ˆåœ¨vmä¸Š</li><li>methodså¯¹è±¡ä¸­çš„å‡½æ•°éƒ½åœ¨Vueçš„ç®¡ç†ä¹‹ä¸‹,å› æ­¤å‡½æ•°ä¸­çš„<mark class="hl-label orange">this</mark> æŒ‡å‘çš„æ˜¯vmæˆ–ç»„ä»¶çš„å®ä¾‹å¯¹è±¡</li><li><code>@click=&quot;demo&quot;</code>å’Œ<code>@click=&quot;demo($event)&quot;</code>æ•ˆæœä¸€è‡´,ä½†æ˜¯åè€…å¯ä»¥ä¼ å‚</li></ol><h4 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h4><p>Vueä¸­çš„äº‹ä»¶ä¿®é¥°ç¬¦:</p><ol><li>.prevent: é˜»æ­¢é»˜è®¤äº‹ä»¶;</li><li>.stop: é˜»æ­¢äº‹ä»¶å†’æ³¡;</li><li>.once: äº‹ä»¶åªè§¦å‘ä¸€æ¬¡;</li><li>.capture: ä½¿ç”¨äº‹ä»¶çš„æ•è·æ¨¡å¼;</li><li>.self: åªæœ‰event.targetæ˜¯å½“å‰æ“ä½œçš„å…ƒç´ æ—¶æ‰èƒ½è§¦å‘äº‹ä»¶;</li><li>.passive: äº‹ä»¶é»˜è®¤ç«‹å³æ‰§è¡Œ,æ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒæ‰§è¡Œå®Œæ¯•;</li></ol><p>å‰ä¸‰ä¸ªäº‹ä»¶ä¿®é¥°ç¬¦æ˜¯å¸¸ç”¨çš„,å¯ä»¥é‡ç‚¹è®°ä¸€ä¸‹ã€‚</p><h4 id="Vueä¸­å¸¸ç”¨çš„æŒ‰é”®åˆ«å"><a href="#Vueä¸­å¸¸ç”¨çš„æŒ‰é”®åˆ«å" class="headerlink" title="Vueä¸­å¸¸ç”¨çš„æŒ‰é”®åˆ«å"></a>Vueä¸­å¸¸ç”¨çš„æŒ‰é”®åˆ«å</h4><ol><li>å›è½¦: enter</li><li>åˆ é™¤: delete(æ•è·â€åˆ é™¤â€å’Œâ€é€€æ ¼â€)</li><li>é€€å‡º: esc</li><li>ç©ºæ ¼: space</li><li>æ¢è¡Œ: tab(å¿…é¡»é…åˆkeydownä½¿ç”¨)</li><li>ä¸Š: up</li><li>ä¸‹: down</li><li>å·¦: left</li><li>å³: right</li></ol><h4 id="Vueä¸­çš„ç³»ç»Ÿä¿®é¥°é”®-ctrl-alt-shift-meta"><a href="#Vueä¸­çš„ç³»ç»Ÿä¿®é¥°é”®-ctrl-alt-shift-meta" class="headerlink" title="Vueä¸­çš„ç³»ç»Ÿä¿®é¥°é”®:ctrl,alt,shift,meta"></a>Vueä¸­çš„ç³»ç»Ÿä¿®é¥°é”®:ctrl,alt,shift,meta</h4><ol><li>é…åˆkeyupä½¿ç”¨: æŒ‰ä¸‹ä¿®é¥°é”®çš„åŒæ—¶,å†æŒ‰ä¸‹å…¶ä»–é”®,éšåé‡Šæ”¾å…¶ä»–é”®,æ‰ä¼šè§¦å‘ç»‘å®šäº‹ä»¶</li><li>é…åˆkeydownä½¿ç”¨: æ­£å¸¸è§¦å‘ç»‘å®šäº‹ä»¶</li></ol><div class="note info simple"><p>Vueä¸­æœªæä¾›åˆ«åçš„æŒ‰é”®,å¯ä»¥ä½¿ç”¨æŒ‰é”®åŸå§‹çš„keyå€¼å»ç»‘å®š,æ ¼å¼ä¸ºkebab-case(çŸ­æ¨ªçº¿å‘½å)</p></div><h1 id="Vue3"><a href="#Vue3" class="headerlink" title="Vue3"></a>Vue3</h1><p>ä¸vue2ä¸åŒï¼Œvue3ä¸ä¼šå¯¹éå“åº”å¼æ•°æ®çš„å˜åŒ–å¯¹ç•Œé¢è¿›è¡Œä»»ä½•ä¿®æ”¹ï¼›å‡å¦‚è¯´æˆ‘ä»¬å±•ç¤ºåœ¨ç•Œé¢ä¸Šçš„æ•°æ®ä¼šå‡ºç°å˜åŒ–ï¼Œä¸”æˆ‘ä»¬å¸Œæœ›è¿™ç§å˜åŒ–å®æ—¶ä½“ç°åœ¨ç•Œé¢ä¸Šï¼Œåˆ™éœ€è¦æˆ‘ä»¬ä½¿ç”¨ç‰¹å®šçš„å‡½æ•°æ¥å°†æ•°æ®è®¾ç½®æˆå“åº”å¼æ•°æ®ã€‚</p><h2 id="vue3å“åº”å¼åŸç†"><a href="#vue3å“åº”å¼åŸç†" class="headerlink" title="vue3å“åº”å¼åŸç†"></a>vue3å“åº”å¼åŸç†</h2><h3 id="refå‡½æ•°"><a href="#refå‡½æ•°" class="headerlink" title="refå‡½æ•°"></a>refå‡½æ•°</h3><p>åœ¨vue3ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡<code>ref</code>å‡½æ•°æŠŠæ™®é€šçš„å˜é‡è®¾ç½®ä¸ºå“åº”å¼æ•°æ®ï¼š</p><ul><li>ä½¿ç”¨<code>ref</code>è®¾ç½®åŸºæœ¬ç±»å‹æ•°æ®ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// set changeable value with ref()</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="title function_">ref</span>(<span class="string">&quot;takune&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// change the changeable value like this</span></span><br><span class="line">name.<span class="property">value</span> = <span class="string">&quot;takuru&quot;</span>;</span><br></pre></td></tr></table></figure></li><li>ä½¿ç”¨<code>ref</code>è®¾ç½®å¼•ç”¨ç±»å‹æ•°æ®ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// set changeable object with ref()</span></span><br><span class="line"><span class="keyword">const</span> info = <span class="title function_">ref</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;takune&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">21</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// change the changeable object like this</span></span><br><span class="line">info.<span class="property">value</span>.<span class="property">name</span> = <span class="string">&quot;takuru&quot;</span>;</span><br><span class="line">info.<span class="property">value</span>.<span class="property">age</span> = <span class="number">22</span>;</span><br></pre></td></tr></table></figure></li></ul><h4 id="refå®ç°å“åº”å¼çš„åŸç†"><a href="#refå®ç°å“åº”å¼çš„åŸç†" class="headerlink" title="refå®ç°å“åº”å¼çš„åŸç†"></a>refå®ç°å“åº”å¼çš„åŸç†</h4><p>é€šè¿‡å¦‚ä¸Šçš„ä»£ç å¯ä»¥çŸ¥é“refå¯ä»¥å°†åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„æ•°æ®è®¾ç½®ä¸ºå“åº”å¼æ•°æ®,ä¸‹é¢æˆ‘ä»¬å°†ä»‹ç»å…¶å®ç°åŸç†ï¼š</p><ul><li>åŸºæœ¬æ•°æ®ç±»å‹ï¼šå°†æˆ‘ä»¬ä¼ å…¥çš„åŸºæœ¬æ•°æ®å°è£…æˆä¸€ä¸ªå¼•ç”¨å®ç°çš„å®ä¾‹(reference implement)ï¼Œé€šè¿‡é‡å†™<code>Object.defineProperty()</code>ä¸­çš„<code>get</code>å’Œ<code>set</code>æ–¹æ³•æ¥å®ç°æ•°æ®åŠ«æŒï¼Œæ›´æ–°æ•°æ®</li><li>å¼•ç”¨ç±»å‹æ•°æ®ï¼šå®é™…ä¸Šæ˜¯å€ŸåŠ©äº†vue3ä¸­çš„<code>reactive()</code>å‡½æ•°æ¥å®ç°çš„ï¼Œè¯¦ç»†åŸç†è§<code>reactive()</code>éƒ¨åˆ†ã€‚</li></ul><h3 id="reactiveå‡½æ•°"><a href="#reactiveå‡½æ•°" class="headerlink" title="reactiveå‡½æ•°"></a>reactiveå‡½æ•°</h3><p><code>reactive()</code>å‡½æ•°å¯ä»¥æŠŠä¸€ä¸ªå¼•ç”¨ç±»å‹æ•°æ®è®¾ç½®ä¸ºå“åº”å¼æ•°æ®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// set changeable object with ref()</span></span><br><span class="line"><span class="keyword">const</span> info = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;takune&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">21</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// change the changeable object like this</span></span><br><span class="line">info.<span class="property">name</span> = <span class="string">&quot;takuru&quot;</span>;</span><br><span class="line">info.<span class="property">age</span> = <span class="number">22</span>;</span><br></pre></td></tr></table></figure><h4 id="reactiveå®ç°å“åº”å¼çš„åŸç†"><a href="#reactiveå®ç°å“åº”å¼çš„åŸç†" class="headerlink" title="reactiveå®ç°å“åº”å¼çš„åŸç†"></a>reactiveå®ç°å“åº”å¼çš„åŸç†</h4><p><code>reactive</code>å‡½æ•°å®é™…ä¸ŠåŸºäºES6å†…ç½®çš„<code>Proxy</code>å®ç°æ•°æ®åŠ«æŒï¼Œé€šè¿‡ä»£ç†å¯¹è±¡å¯¹æºå¯¹è±¡çš„æ•°æ®è¿›è¡Œæ“ä½œï¼Œå¯ä»¥å®ç°ç›‘æµ‹å¼•ç”¨ç±»å‹å±æ€§çš„å¢åˆ æ”¹è¯»ï¼›ä½¿ç”¨<code>Reflect</code>æ“ä½œä»£ç†å¯¹è±¡ï¼Œå³é€šè¿‡<code>Reflect</code>è¿›è¡Œå¯¹æºæ•°æ®çš„å¢åˆ æ”¹è¯»ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Computer Science </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯å¼€å‘ </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
